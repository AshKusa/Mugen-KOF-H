;---------------------------------------------------------------------------
; KEZXe[g
;---------------------------------------------------------------------------
[Statedef 2000]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = ifelse(command="y",2050+Var(55)*30000  ,2000+Var(55)*30000)
ctrl     = 0
sprpriority = 2
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 1
anim = F7000
scale = .5,.5
postype = p1
pos = 15,-120
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 1
anim = F7010
scale = .5,.5
postype = p1
pos = 15,-120
sprpriority = 5
ownpal = 1
bindtime = 1
supermove = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = F9000,0

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,21

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 2005
postype = P1
pos = 2,0
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1
supermove = 1
removeongethit = 1
ID = 2000

[State 3000, ]
type = Varset
trigger1 = time = 0
var(25) = 0

[State 3000, ]
type = Varset
triggerall = !var(59)
triggerall = AnimElemtime(4) = 0
trigger1 = Anim = 2000+Var(55)*30000
trigger1 = command != "holdx"
trigger2 = Anim = 2050+Var(55)*30000
trigger2 = command != "holdy"
var(25) = 1

[State 3000, Xe[gX]
type = ChangeState
triggerall = Var(59) = 0
triggerall = AnimElemtime(4) >= 0
trigger1 = var(25) = 1
trigger1 = command != "holdx"
trigger2 = var(25) = 1
trigger2 = command != "holdy"
trigger3 = AnimTime = 0
value = 2010

;---------------------------------------------------------------------------
[Statedef 2010]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2010+Var(55)*30000
ctrl     = 0
sprpriority = 2

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,22

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 7
value = s12,4

[State 1000, u]
type = Velset
trigger1 = AnimElem = 5
x = 12

[State 1000, u]
type = Velset
trigger1 = AnimElem = 10
x = 0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 1
x = -11

[State 700, GtFNg\]
type = Explod
triggerall = var(25) = 0
trigger1 = time = 0
anim = 2016
postype = P1
pos = 0,0
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 700, GtFNg\]
type = Explod
triggerall = var(25) = 1
trigger1 = time = 0
anim = 2015
postype = P1
pos = 0,0
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 7
anim = 2025
postype = P1
pos = 0,10
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 2000,]
type = RemoveExplod
trigger1 = time = 0
ID = 2000

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 7
name = "OROCHINAGI"
stateno = 2020
ID = 2000
helpertype = normal
pos = 60,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, Xe[gX]
type = ChangeAnim
triggerall = var(25) = 0
trigger1 = Time = 0
value = 2011+Var(55)*30000

[State 3000, ]
type = Varset
trigger1 = AnimTime = 0
var(25) = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2020]
type     = S
movetype = A
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2020
ctrl     = 0
sprpriority = 10

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1201, L{tu]
type = BindToParent
trigger1 = time = [0,20]
pos = 60,0

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = A, HP
damage = 250,15
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAFPD
priority = 3, Hit
pausetime = 0,10
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = s12,8
guardsound = s2,1
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 2001, UXe[g]
type = HitOverride
trigger1 = Time = 0
attr = SCA, NT, ST, HT, NA, SA, HA, NP, SP, HP
stateno = 2025
time = -1

[State 1000, wp[o]
type = Helper
trigger1 = Movehit = 1
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1001, wp[]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Stateno != 2010

;---------------------------------------------------------------------------
[Statedef 2025]
type     = S
movetype = I
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 99999
ctrl     = 0
sprpriority = 0

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1001, wp[]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Prevstateno != 2020 && time = 0

;---------------------------------------------------------------------------
[Statedef 2100]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2100+Var(55)*30000
ctrl     = 0
sprpriority = 3
poweradd = 0
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 170, G]
type = NotHitBy
trigger1 = time = 9
value = SCA
time = 30

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 9
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = time = 9
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 4
anim = F7000
scale = .5,.5
postype = p1
pos = -10,-60
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 4
anim = F7010
scale = .5,.5
postype = p1
pos = -10,-60
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = F9000,0

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s10,31

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 8
value = s12,6
channel = 8

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 8
anim = 2105
postype = P1
pos = 0,0
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1
supermove = 1
removeongethit = 1
ID = 2100

[State 1000, ]
type = Varset
trigger1 = time = 0
trigger1 = command = "a"
var(15) = 0

[State 1000, ]
type = Varset
trigger1 = time = 0
trigger1 = command = "b"
var(15) = 1

[State 3000, Xe[gX]
type = ChangeState
triggerall = AnimElemtime(8) >= 0
triggerall = time = [39,95]
trigger1 = !var(59)
trigger1 = var(15) = 0
trigger1 = command != "holda"
trigger2 = !var(59)
trigger2 = var(15) = 1
trigger2 = command != "holdb"
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype != A
trigger3 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger3 = enemynear(var(58)),stateno != [120,159]
trigger4 = var(59)
trigger4 = enemynear(var(58)),statetype = A
trigger4 = enemynear(var(58)),statetype != L
trigger4 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger4 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2110

[State 3000, Xe[gX]
type = ChangeState
triggerall = AnimElemtime(8) >= 0
triggerall = time = [96,141]
trigger1 = !var(59)
trigger1 = var(15) = 0
trigger1 = command != "holda"
trigger2 = !var(59)
trigger2 = var(15) = 1
trigger2 = command != "holdb"
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype != A
trigger3 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger3 = enemynear(var(58)),stateno != [120,159]
trigger4 = var(59)
trigger4 = enemynear(var(58)),statetype = A
trigger4 = enemynear(var(58)),statetype != L
trigger4 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger4 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2111

[State 3000, Xe[gX]
type = ChangeState
triggerall = AnimElemtime(8) >= 0
triggerall = time = [142,177]
trigger1 = !var(59)
trigger1 = var(15) = 0
trigger1 = command != "holda"
trigger2 = !var(59)
trigger2 = var(15) = 1
trigger2 = command != "holdb"
trigger3 = AnimTime = 0
trigger4 = var(59)
value = 2112

;---------------------------------------------------------------------------
[Statedef 2110]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 0
velset   = 0,0
anim     = 2110+Var(55)*30000
ctrl     = 0
sprpriority = 3

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 1000, ]
type = StopSnd
trigger1 = AnimElem = 1
channel = 8

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s10,32

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s12,1

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 6
x = 5

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8 | AnimElem = 9 | AnimElem = 10
trigger2 = AnimElem = 17 | AnimTime = 0
x = 10

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 2115
persistent = 0
postype = P1
pos = 0,0
sprpriority = -5
ownpal = 1

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 10
anim = 1605
persistent = 0
postype = P1
pos = 65,-60
sprpriority = 5
ownpal = 1

[State 2000,]
type = RemoveExplod
trigger1 = time = 0
ID = 2100

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 230,10
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 21,14
sparkno = 2
guard.sparkno = 42
sparkxy = -24, -65
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 23
ground.hittime  = 24
ground.velocity = -7,-5.5
air.velocity = -6,-5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 15
envshake.ampl = 4
envshake.freq = 100

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2111]
type     = S
movetype = A
physics  = S
juggle   =7
poweradd = 0
velset   = 0,0
anim     = 2110+Var(55)*30000
ctrl     = 0
sprpriority = 3

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 1000, ]
type = StopSnd
trigger1 = AnimElem = 1
channel = 8

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s10,ifelse(var(15)=0,32,44)

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s12,1

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 6
x = 5

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8 | AnimElem = 9 | AnimElem = 10
trigger2 = AnimElem = 17 | AnimTime = 0
x = 10

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 2115
persistent = 0
postype = P1
pos = 0,0
sprpriority = -5
ownpal = 1

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 10
anim = 1605
persistent = 0
postype = P1
pos = 65,-60
sprpriority = 5
ownpal = 1

[State 2000,]
type = RemoveExplod
trigger1 = time = 0
ID = 2100

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 255,11
getpower = 0
animtype = up
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 24,15
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -66
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -7.5,-6
air.velocity = -7,-5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 18
envshake.ampl = 5
envshake.freq = 100

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2112]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 0
velset   = 0,0
anim     = 2110+Var(55)*30000
ctrl     = 0
sprpriority = 3

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 1000, ]
type = StopSnd
trigger1 = AnimElem = 1
channel = 8

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s10,ifelse(var(15)=0,32,44)

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s12,1

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 6
x = 5

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8 | AnimElem = 9 | AnimElem = 10
trigger2 = AnimElem = 17 | AnimTime = 0
x = 10

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 2115
persistent = 0
postype = P1
pos = 0,0
sprpriority = -5
ownpal = 1

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 10
anim = 1605
persistent = 0
postype = P1
pos = 65,-60
sprpriority = 5
ownpal = 1

[State 2000,]
type = RemoveExplod
trigger1 = time = 0
ID = 2100

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 280,12
getpower = 0
animtype = Diagup
hitflag = MAF
priority = 6, Hit
pausetime = 27,16
sparkno = 2
sparkxy = -25, -65
hitsound = s1,4
ground.type = High
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -8,-6.5
air.velocity = -7.5,-6
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 80
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 23
envshake.ampl = 6
envshake.freq = 100

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2300]
type = S
movetype = A
physics = S
anim = 2300+Var(55)*30000
velset = 0
ctrl = 0
facep2 = 1
sprpriority = 3
poweradd = 0
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 3000, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 32

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 6
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = time = 6
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 4
anim = F7000
scale = .5,.5
postype = p1
pos = 20,-58
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 4
anim = F7010
scale = .5,.5
postype = p1
pos = 20,-58
sprpriority = 5
ownpal = 1
bindtime = 1
supermove = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = F9000,0

[State 2200, 3]
type = PlaySnd
trigger1 = time = 6
value = 15,0

[State 2200, 18]
type = ChangeState
triggerall = Time = [32,36]
trigger1 = var(59) != 1
trigger1 = command != "holdx"
trigger2 = var(59)
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger2 = enemynear(var(58)),stateno != [120,159]
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),statetype != L
trigger3 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger3 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2310

[State 2200, 18]
type = ChangeState
triggerall = Time = [37,75]
trigger1 = var(59) != 1
trigger1 = command != "holdx"
trigger2 = var(59)
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger2 = enemynear(var(58)),stateno != [120,159]
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),statetype != L
trigger3 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger3 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2320

[State 2200, 18]
type = ChangeState
triggerall = Time = [76,142]
trigger1 = var(59) != 1
trigger1 = command != "holdx"
trigger2 = var(59)
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger2 = enemynear(var(58)),stateno != [120,159]
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),statetype != L
trigger3 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger3 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2330

[State 2200, 18]
type = ChangeState
triggerall = Time >= 143
trigger1 = command != "holdx"
trigger2 = AnimTime = 0
value = 2340

;---------------------------------------------------------------------------
[Statedef 2310]
type = S
movetype = A
physics = S
anim = 2310+Var(55)*30000
poweradd = 0
velset = 0
ctrl = 0
facep2 = 0
sprpriority = 3

[State 3000, G]
type = NotHitBy
triggerall = prevstateno = 2350
trigger1 = AnimElem = 1
value = SCA
time = 20

[State 2200, 3]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 15,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = Hard
damage = 115,10
getpower = 0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 20;30
ground.hittime = 30
ground.velocity = 0,0
air.velocity = 0,0
guard.hittime = 17
guard.velocity = -13
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.5
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = up
damage = 125,10
getpower = 0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -7.5,-6
air.velocity = -7,-5.5
guard.hittime = 17
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0
id = 2300

[State 114, 12]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2|| AnimElem = 3|| AnimElem = 4|| AnimElem = 5|| AnimElem = 6|| AnimElem = 7 || AnimElem = 8|| AnimElem = 9|| AnimElem = 10|| AnimElem = 11|| AnimElem = 12|| AnimElem = 13|| AnimElem = 14
x = 7

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2320]
type = S
movetype = A
physics = S
anim = 2310+Var(55)*30000
poweradd = 0
velset = 0
ctrl = 0
facep2 = 0
sprpriority = 3

[State 3000, G]
type = NotHitBy
triggerall = prevstateno = 2350
trigger1 = AnimElem = 1
value = SCA
time = 20

[State 2200, 3]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 15,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = Hard
damage = 120,10
getpower = 0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 20;30
ground.hittime = 30
ground.velocity = 0,0
air.velocity = 0,0
guard.hittime = 17
guard.velocity = -13
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.5
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = up
damage = 130,10
getpower = 0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -8,-6
air.velocity = -7.5,-6
guard.hittime = 17
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0
id = 2300

[State 114, 12]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2|| AnimElem = 3|| AnimElem = 4|| AnimElem = 5|| AnimElem = 6|| AnimElem = 7 || AnimElem = 8|| AnimElem = 9|| AnimElem = 10|| AnimElem = 11|| AnimElem = 12|| AnimElem = 13|| AnimElem = 14
x = 7

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2330]
type = S
movetype = A
physics = S
anim = 2310+Var(55)*30000
poweradd = 0
velset = 0
ctrl = 0
facep2 = 0
sprpriority = 3

[State 3000, G]
type = NotHitBy
triggerall = prevstateno = 2350
trigger1 = AnimElem = 1
value = SCA
time = 20

[State 2200, 3]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 15,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = Hard
damage = 125,10
getpower = 0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 20;30
ground.hittime = 17
ground.velocity = 0,0
air.velocity = 0,0
guard.hittime = 30
guard.velocity = -13
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.5
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = diagup
damage = 135,10
getpower = 0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -2,-14.5
air.velocity = -2,-14.5
guard.hittime = 17
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0
yaccel = .57
id = 2300

[State 114, 12]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2|| AnimElem = 3|| AnimElem = 4|| AnimElem = 5|| AnimElem = 6|| AnimElem = 7 || AnimElem = 8|| AnimElem = 9|| AnimElem = 10|| AnimElem = 11|| AnimElem = 12|| AnimElem = 13|| AnimElem = 14
x = 7

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2340]
type = S
movetype = A
physics = S
anim = 2310+Var(55)*30000
poweradd = 0
velset = 0
ctrl = 0
facep2 = 0
sprpriority = 3

[State 3000, G]
type = NotHitBy
triggerall = prevstateno = 2350
trigger1 = AnimElem = 1
value = SCA
time = 20

[State 2200, 3]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 15,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = Hard
damage = 130
getpower = 0
givepower = 20,20
hitflag = MAF
;guardflag = MA
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 20;30
ground.hittime = 30
ground.velocity = 0,0
air.velocity = 0,0
guard.hittime = 17
guard.velocity = -13
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.5
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 16
attr = S, SA
animtype = diagup
damage = 140
getpower = 0
givepower = 20,20
hitflag = MAF
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
hitsound = s1,4
guardsound = s2,1
sparkxy = -15,-60
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -8.5,-7
air.velocity = -8,-6.5
guard.hittime = 17
palfx.time = 83
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0
yaccel = .55
id = 2300

[State 114, 12]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2|| AnimElem = 3|| AnimElem = 4|| AnimElem = 5|| AnimElem = 6|| AnimElem = 7 || AnimElem = 8|| AnimElem = 9|| AnimElem = 10|| AnimElem = 11|| AnimElem = 12|| AnimElem = 13|| AnimElem = 14
x = 7

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2350]
type = S
movetype = A
physics = S
anim = 2350+Var(55)*30000
velset = 0
ctrl = 0
facep2 = 0
poweradd = 0
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 3000, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 6
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = time = 6
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 6
anim = F7000
scale = .5,.5
postype = p1
pos = 20,-58
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 6
anim = F7010
scale = .5,.5
postype = p1
pos = 20,-58
sprpriority = 5
ownpal = 1
bindtime = 1
supermove = 1

[State 1000, ]
type = PlaySnd
trigger1 = time = 6
value = F9000,0

[State 2200, 3]
type = PlaySnd
trigger1 = time = 6
value = 15,0

[State 2200, 18]
type = ChangeState
triggerall = Time = [40,50]
trigger1 = var(59) != 1
trigger1 = command != "holdy"
trigger2 = var(59)
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger2 = enemynear(var(58)),stateno != [120,159]
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),statetype != L
trigger3 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger3 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2310

[State 2200, 18]
type = ChangeState
triggerall = Time = [51,75]
trigger1 = var(59) != 1
trigger1 = command != "holdy"
trigger2 = var(59)
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger2 = enemynear(var(58)),stateno != [120,159]
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),statetype != L
trigger3 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger3 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2320

[State 2200, 18]
type = ChangeState
triggerall = Time = [76,142]
trigger1 = var(59) != 1
trigger1 = command != "holdy"
trigger2 = var(59)
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H || enemynear(var(58)),movetype = A || p2stateno = [40,60]
trigger2 = enemynear(var(58)),stateno != [120,159]
trigger3 = var(59)
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),statetype != L
trigger3 = p2bodydist x = [-20+floor(11*(enemynear(var(58)),vel x)),55+floor(11*(enemynear(var(58)),vel x))]
trigger3 = p2bodydist y = [-35-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20)),-11-floor(11*(enemynear(var(58)),vel y)+(11*(11+1)/2)*fvar(20))]
value = 2330

[State 2200, 18]
type = ChangeState
triggerall = Time >= 143
trigger1 = command != "holdy"
trigger2 = AnimTime = 0
value = 2340

;---------------------------------------------------------------------------
[Statedef 2500]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2500+Var(55)*30000
ctrl     = 0
sprpriority = 3
poweradd = ifelse(fvar(30) > 0,-1000,-2000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 1
anim = F7100
scale = .5,.5
postype = p1
pos = 15,-120
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 1
anim = F7110
scale = .5,.5
postype = p1
pos = 15,-120
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3200, 4]
type = Explod
trigger1 = AnimElem = 1
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = AnimElem = 1
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = F9000, 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,21

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 2005
postype = P1
pos = 3,0
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1
supermove = 1
removeongethit = 1
ID = 2000

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 4 | AnimElem = 6 | AnimElem = 8 | AnimElem = 10
trigger2 = AnimElem = 12 | AnimElem = 14 | AnimElem = 16 | AnimElem = 18
trigger3 = AnimElem = 20 | AnimElem = 22 | AnimElem = 24 | AnimElem = 26
trigger4 = AnimElem = 28 | AnimElem = 31 | AnimElem = 34 | AnimElem = 38
trigger5 = AnimElem = 43 | AnimElem = 48
attr = S, HA
damage = 12,3
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0,4
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = s12,8
guardsound = s2,1
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -3,-7
air.velocity = -3,-7
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1000, ]
type = Varset
trigger1 = time = 0
trigger1 = command = "x+y"
var(31) = 0

[State 3000, Xe[gX]
type = ChangeState
triggerall = Var(59) = 0
triggerall = AnimElemtime(4) >= 0
trigger1 = var(31) = 0
trigger1 = command != "holdxy"
trigger2 = AnimTime = 0
value = 2510

;---------------------------------------------------------------------------
[Statedef 2510]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2510+Var(55)*30000
ctrl     = 0
sprpriority = 3

[State 700,]
type = palfx
trigger1 = time = 0
time = 48
add = 230,170,110
mul = 240,180,100

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 6
value = s15555,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 8 | AnimElem = 9 | AnimElem = 10
value = s12,4

[State 1000, u]
type = Velset
triggerall = var(5) = 0
trigger1 = AnimElem = 5
x = 12

[State 1000, u]
type = Velset
triggerall = var(5) = 1
trigger1 = AnimElem = 5
x = 9

[State 1000, u]
type = Veladd
triggerall = var(5) = 1
trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(12) < 0
trigger1 = Vel X >= .4
x = -.4

[State 1000, u]
type = Velset
triggerall = var(5) = 1
trigger1 = AnimElem = 12
x = 0

[State 1000, ]
type = StateTypeSet
triggerall = var(5) = 1
trigger1 = AnimElem = 5
physics  = N

[State 1000, ]
type = StateTypeSet
triggerall = var(5) = 1
trigger1 = AnimElem = 12
physics  = S

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 2515
postype = P1
pos = 0,0
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 7
anim = 2505
postype = P1
pos = 0,10
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 8
name = "MAX OROCHINAGI01"
stateno = 2520
ID = 2500
helpertype = normal
pos = 60,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 9
name = "MAX OROCHINAGI02"
stateno = 2525
ID = 2505
helpertype = normal
pos = 75,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 10
name = "MAX OROCHINAGI03"
stateno = 2530
ID = 2510
helpertype = normal
pos = 90,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 2000,]
type = RemoveExplod
trigger1 = time = 0
ID = 2000

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2520]
type     = S
movetype = A
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2020
ctrl     = 0
sprpriority = 10

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1201, L{tu]
type = BindToParent
trigger1 = time = [0,20]
pos = 60,0

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = A, HP
damage = 250,15
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAFPD
priority = 6, Hit
pausetime = 0,10
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = s12,8
guardsound = s2,1
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 2001, UXe[g]
type = HitOverride
trigger1 = Time = 0
attr = SCA, NT, ST, HT, NA, SA, HA, NP, SP, HP
stateno = 2025
time = -1

[State 1000, wp[o]
type = Helper
trigger1 = Movehit = 1
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1001, wp[]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Anim != 2510+Root,Var(55)*30000

;---------------------------------------------------------------------------
[Statedef 2525]
type     = S
movetype = A
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2020
ctrl     = 0
sprpriority = 9

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1201, L{tu]
type = BindToParent
trigger1 = time = [0,20]
pos = 75,0

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = A, HP
damage = 150,10
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAFPD
priority = 3, Hit
pausetime = 0,10
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = s12,8
guardsound = s2,1
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 2001, UXe[g]
type = HitOverride
trigger1 = Time = 0
attr = SCA, NT, ST, HT, NA, SA, HA, NP, SP, HP
stateno = 2025
time = -1

[State 1000, wp[o]
type = Helper
trigger1 = Movehit = 1
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1001, wp[]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Anim != 2510+Root,Var(55)*30000

;---------------------------------------------------------------------------
[Statedef 2530]
type     = S
movetype = A
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2020
ctrl     = 0
sprpriority = 8

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1201, L{tu]
type = BindToParent
trigger1 = time = [0,20]
pos = 90,0

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = A, HP
damage = 65,7
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAFPD
priority = 3, Hit
pausetime = 0,10
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = s12,8
guardsound = s2,1
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 2001, UXe[g]
type = HitOverride
trigger1 = Time = 0
attr = SCA, NT, ST, HT, NA, SA, HA, NP, SP, HP
stateno = 2025
time = -1

[State 1000, wp[o]
type = Helper
trigger1 = Movehit = 1
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1001, wp[]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Anim != 2510+Root,Var(55)*30000

;---------------------------------------------------------------------------
[Statedef 3000]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3000+Var(55)*30000
ctrl     = 0
sprpriority = 5
poweradd = ifelse(fvar(30) > 0,-1000,-2000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 170, G]
type = NotHitBy
trigger1 = AnimElem = 4
value = SCA
time = 3

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7100
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 10,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7110
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 10,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,39

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s10,40

[State 800, qbg`ipj]
type = HitDef
triggerall = prevstateno != [2000,2999]
trigger1 = Time = 0
trigger1 = p2stateno != [120,159]
attr = S, HT
hitflag = M-
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 3010
p2stateno = 3020
guard.dist = 0
fall = 1
numhits = 0

[State 800, qbg`ipj]
type = HitDef
triggerall = prevstateno = [2000,2999]
trigger1 = Time = 0
trigger1 = p2stateno != [120,159]
attr = S, HT
hitflag = MAF
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 3010
p2stateno = 3020
guard.dist = 0
fall = 1
numhits = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

--------------------------------------------
[Statedef 3010]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3010+Var(55)*30000
ctrl     = 0
sprpriority = 5

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(74) < 0
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 1
value = F800,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s12,5

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,41

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 72
value = s10,42

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 72
value = s12,2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 20
trigger3 = AnimElem = 27
trigger4 = AnimElem = 41
trigger5 = AnimElem = 57
trigger6 = AnimElem = 65
trigger7 = AnimElem = 72
value = s0,4

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 69
value = s3,0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(69) < 0
pos = 45,0

[State 210, IL]
type = Width
trigger1 = AnimElemTime (4) >= 0 && AnimElemTime (7) <= 0
trigger2 = AnimElemTime (49) >= 0 && AnimElemTime (52) <= 0
edge = 50,0

[State 210, IL]
type = Width
trigger1 = AnimElemTime (7) >= 0 && AnimElemTime (15) <= 0
trigger2 = AnimElemTime (52) >= 0 && AnimElemTime (60) <= 0
edge = 30,0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8 | AnimElem = 9
trigger2 = AnimElem = 11 | AnimElem = 13 | AnimElem = 14
trigger3 = AnimElem = 17 | AnimElem = 18 | AnimElem = 19
trigger4 = AnimElem = 23 | AnimElem = 24 | AnimElem = 25 | AnimElem = 26
trigger5 = AnimElem = 27 | AnimElem = 37 | AnimElem = 38 | AnimElem = 39
trigger6 = AnimElem = 40 | AnimElem = 41 | AnimElem = 49 | AnimElem = 52
trigger7 = AnimElem = 53 | AnimElem = 54 | AnimElem = 56 | AnimElem = 58
trigger8 = AnimElem = 59 | AnimElem = 62 | AnimElem = 63 | AnimElem = 64
trigger9 = AnimElem = 65 | AnimElem = 68 | AnimElem = 69 | AnimElem = 70
x = 6

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 5 | AnimElem = 6 | AnimElem = 50 | AnimElem = 51
x = 10

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 57
x = 15

[State 1000, u]
type = Velset
trigger1 = AnimElem = 69
x = 3
y = -5

[State 1000, u]
type = Velset
trigger1 = AnimElem = 72
y = -3.8

[State 1000, u]
type = VelAdd
trigger1 = AnimElemtime(69) > 0
y = .33

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 69
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = F9
postype = P1
pos = 40,-75
sprpriority = 10
ignorehitpause = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = F10
postype = P1
pos = 50,-65
sprpriority = 10
ignorehitpause = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 14
persistent = 0
anim = 1605
postype = P1
pos = 55,-65
sprpriority = 10
ignorehitpause = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 59
persistent = 0
anim = 1605
postype = P1
pos = 55,-65
sprpriority = 10
ignorehitpause = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 30
persistent = 0
anim = 1605
postype = P1
pos = 70,-60
sprpriority = 10
ignorehitpause = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 44
persistent = 0
anim = 1605
postype = P1
pos = 70,-60
sprpriority = 10
ignorehitpause = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 20
persistent = 0
anim = 1615
postype = P1
pos = 45,-65
sprpriority = 10
ignorehitpause = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 65
persistent = 0
anim = 1615
postype = P1
pos = 45,-65
sprpriority = 10
ignorehitpause = 1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 72
persistent = 0
anim = 1110
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 77
persistent = 0
anim = 1115
postype = P1
pos = -10,15
sprpriority = 10
ownpal = 1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
getpower = 0
damage = 150,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 5,10
sparkno = -1
hitsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 3030
envshake.time = 15
envshake.ampl = 5
envshake.freq = 90
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0
numhits = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 14
attr = S, HA
getpower = 0
damage = 50,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = 2
sparkxy = -25,-65
hitsound = s1,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 3030
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 40,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = 2
sparkxy = -25,-70
hitsound = s1,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 3030
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 30
attr = S, HA
getpower = 0
damage = 40,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = 2
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 3040
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 44
attr = S, HA
getpower = 0
damage = 40,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = 2
sparkxy = -25,-65
hitsound = s1,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 3040
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 59
attr = S, HA
getpower = 0
damage = 40,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = 2
sparkxy = -25,-70
hitsound = s1,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 3030
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 65
attr = S, HA
getpower = 0
damage = 40,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 3,10
sparkno = 2
sparkxy = -25,-70
hitsound = s1,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 3030
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 69
attr = A, HA
getpower = 0
damage = 50,0
animtype = up
hitflag = MAF
priority = 3, Hit
pausetime = 10,11
sparkno = 2
sparkxy = -25,-75
hitsound = s1,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -2,-9
air.velocity = -2,-9
yaccel = .43
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 72
attr = A, HA
getpower = 0
damage = 100,0
animtype = diagup
hitflag = MAF
priority = 3, Hit
pausetime = 18,20
sparkno = 2
sparkxy = -25,-75
hitsound = s1,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.5,-8.4
air.velocity = -4.5,-8.4
yaccel = .45
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 5
envshake.freq = 90
palfx.time = 70
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 1000, ]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1160

;---------------------------------------------------------------------------
[Statedef 3020]
type    = S
movetype= H
physics = S
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3040+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Enemy,Stateno != 3010
value = 5100

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3030]
type    = S
movetype= H
physics = S
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3020+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Enemy,Stateno != 3010
value = 5100

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3040]
type    = S
movetype= H
physics = S
velset = 0,0

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3030+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Enemy,Stateno != 3010
value = 5100

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3100]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2200+Var(55)*30000
ctrl     = 0
sprpriority = 5
poweradd = ifelse(fvar(30) > 0,-1000,-2000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 45

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7100
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 10,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7110
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 10,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 8
value = s12,5

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,33

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 12
value = s10,34

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s0,4

[State 700, GtFNg\]
type = Explod
trigger1 = time = 0
anim = 2201
postype = P1
pos = 0,0
bindtime = -1
sprpriority = 5
ownpal = 1
supermove = 1
removeongethit = 1

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 21
anim = 2205
postype = P1
pos = 60,0
sprpriority = 5
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 8
persistent = 0
anim = 2250
postype = P1
pos = 80,0
sprpriority = 10
ownpal = 1
trans = addalpha
alpha = 200,256

[State 210, IL]
type = Width
trigger1 = AnimElem = 8
edge = 60,0

[State 210, IL]
type = Width
trigger1 = AnimElemtime(12) >= 0 && AnimElemtime(14) < 0
edge = 40,0

[State 210, IL]
type = Width
trigger1 = AnimElemtime(14) >= 0 && AnimElemtime(21) < 0
edge = 30,0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 12 | AnimElem = 14 | AnimElem = 15 | AnimElem = 16
trigger2 = AnimElem = 18 | AnimElem = 20 | AnimElem = 21 | AnimElem = 25
x = 10

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 18
x = 20

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 13
x = 30

[State 170, ]
type = Targetbind
triggerall = prevstateno = [1000,2900]
trigger1 = ProjHit2200 = 1
pos = 50,0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 8
ampl = 8
freq = 95
time = 20

[State 1000, wp[o]
type = Helper
trigger1 = AnimElemtime(11) = 0
trigger2 = AnimElemtime(11) = 10
trigger3 = AnimElemtime(11) = 20
stateno = 2205
ID = 2205
helpertype = Player
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 0
ignorehitpause = 1

[State 3000]
type = Projectile
trigger1 = prevstateno != [2000,2900]
trigger1 = AnimElem = 8
projID = 2200
projanim = 2251
projremove = 0
projpriority = 4
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 16
getpower = 0
ownpal = 1
offset = 70, 0
velocity = 0, 0
attr = S, HP
animtype = Hard
damage = 175,12
hitflag = MADF
guardflag = M
hitsound = s12,8
guardsound = s2,1
pausetime = 0,2
sparkno = 2
guard.sparkno = 42
sparkxy = (floor(p2bodydist X)),-65 + (floor(p2bodydist Y))
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -12
air.velocity = -3, -6
air.juggle = 0
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3000]
type = Projectile
trigger1 = prevstateno = [2000,2900]
trigger1 = AnimElem = 8
projID = 2200
projanim = 2251
projremove = 0
projpriority = 4
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 16
getpower = 0
ownpal = 1
offset = 70, 0
velocity = 0, 0
attr = S, HP
animtype = Hard
damage = 175,12
hitflag = MAF
guardflag = M
hitsound = s12,8
guardsound = s2,1
pausetime = 0,2
sparkno = 2
guard.sparkno = 42
sparkxy = (floor(p2bodydist X)),-65 + (floor(p2bodydist Y))
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = -12
air.velocity = -3, -6
air.juggle = 0
air.fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 2230
p2facing = 1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 21
attr = S, HA
damage = 130,12
getpower = 0
animtype = Diagup
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 24,26
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -7,-7.5
air.velocity = -7,-7.5
yaccel = .4
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 30
envshake.ampl = 6
envshake.freq = 90

[State 1000, ]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(32) = 0

[State 1000, ]
type = Varadd
triggerall = AnimElemtime(21) > 0
trigger1 = !var(59)
trigger1 = command = "x" || command = "y"
trigger2 = var(59)
trigger2 = p2life = 0
trigger3 = var(59)
trigger3 = random <= 50
var(32) = 1

[State 1000, Xe[gX]
type = ChangeState
triggerall = Movehit
trigger1 = var(32) > 4
trigger1 = AnimTime = 0
value = 2210

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2205]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2210+Var(55)*30000
ctrl     = 0
sprpriority = 0

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 210, IL]
type = Width
trigger1 = 1
edge = 20,0

[State 1100, ]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 8
value = s0,4

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 3 | AnimElem = 4 | AnimElem = 5
trigger2 = AnimElem = 7 | AnimElem = 9 | AnimElem = 10
x = 10

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 8
x = 20

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
x = 30

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HA
damage = 75,10
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 8,12
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = s1,4
guardsound = s2,1
ground.type = Low
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = 0
air.velocity = -5,-6
air.type = Low
air.hittime = 12
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 1001, wp[]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Anim != 2200+Root,Var(55)*30000

;---------------------------------------------------------------------------
[Statedef 2210]
type     = S
movetype = I
physics  = S
anim     = 2215+Var(55)*30000
velset   = 0,0
ctrl     = 0
sprpriority = 3

[State 1000, ]
type = Varset
trigger1 = time = 0
var(32) = 0

[State 1000, ]
type = Varset
triggerall = !Winko
trigger1 = Animtime = 0
var(33) = 200

[State 1000, ]
type = PlaySnd
trigger1 = time = 5
value = s12,0

[State 181,]
type = PlaySnd
trigger1 = time = 5
value = s10,45

[State 2000]
type = Explod
trigger1 = AnimElem = 1
anim = 2220
pos = 0,0
postype = p1
sprpriority = 10
ownpal = 1
bindtime = 1

[State 195, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2230]
type    = S
movetype= H
physics = S

[State 52, 1]
type = Hitfallset
trigger1 = 1
value = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3020+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Enemy,Stateno != 3100
value = 5100

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------------
[Statedef 2080]
type     = A
movetype = A
physics  = N
juggle   = 5
poweradd = 0
velset   = 0,0
anim     = 2080
ctrl     = 0
sprpriority = 3
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[state 266,1]
type = superpause
trigger1 = animelem = 1
time = 28
movetime = 28
anim = -1
darken = 0
unhittable = 1

[State 6000,黑色底色]
type = Envcolor
trigger1 = animelem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 266,2]
type = Explod
trigger1 = animelem = 1
anim = F7000
scale=0.5,0.5
postype = p1
pos = 13,-85
sprpriority = -5
ownpal = 1
supermove = 999

[State 266,2]
type = Explod
trigger1 = animelem = 1
anim = F7010
scale=0.5,0.5
postype = p1
pos = 13,-85
sprpriority = 5
ownpal = 1
supermove = 999

[State 3500, 1]
type = PlaySnd
trigger1 = animelem = 1
value = F9000, 0

[State 266,2]
type = Explod
trigger1 = animelem = 1
anim = 2081
postype = p1
pos = -6,-93
sprpriority = 5
ownpal = 1
removetime = 33
supermove = 999

[State 1000, ]
type = PlaySnd
trigger1 = time = 0
value = s10,31

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 2,=2
value = s15555,0

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2080
projanim = 2082
projremove = 0
projpriority = 1
projhitanim = -1
projremanim = -1
projsprpriority = 5
projshadow = 0,0,0
projremovetime = 17
ownpal = 1
offset = -41,-148
velocity = 0, 0
attr = S, SP
animtype = Hard
damage = 250,20
hitflag = MAFD
guardflag = M
hitsound = s12,8
guardsound = s2,1
pausetime = 0,10
sparkno = 2
guard.sparkno = 42
sparkxy = 20,-45
ground.type = high
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -8,-5
air.juggle = 0
air.velocity = -7,-4
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 0,0

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2080
projanim = 2025
projremove = 0
projpriority = 1
projhitanim = -1
projremanim = -1
projsprpriority = 5
projshadow = 0,0,0
projremovetime = 25
ownpal = 1
offset = 22,-21
velocity = 0.35,0.1
attr = S, SP
animtype = DIAGUP
damage = 250,20
hitflag = MAFD
guardflag = M
hitsound = s12,2
guardsound = s12,2
pausetime = 5,13
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-60
ground.type = high
ground.hittime = 12
ground.slidetime = 13
ground.velocity = -7,-4
air.juggle = 0
air.velocity = -7.1,-1.5
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 0,0
palfx.time = 40
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State -2, Accel]
type = VelSet
trigger1 = animelemtime(5) > 0
x = -3.1

[State -2, Accel]
type = VelSet
trigger1 = animelem = 5
y = -4.2

[State -2, VelAdd]
type = Gravity
trigger1 = animelemtime(5) > 0

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 5
helpertype = normal
ID = 2090
stateno = 2090
pos = 66,-37
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = animtime = 0
value = 50

;----------------------------------------------------------------------------------
[Statedef 2090]
type     = A
movetype = A
physics  = N
juggle   = 0
poweradd = 0
velset   = 0.1,0.1
anim     = 2090
ctrl     = 0
sprpriority = 3

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype = DIAGUP
damage = 250,20
hitflag = MAFD
guardflag = M
hitsound = s12,2
guardsound = s12,2
pausetime = 11,11
sparkno = -1
guard.sparkno = 42
sparkxy = -25,-60
ground.type = high
ground.hittime = 13
ground.slidetime = 12
ground.velocity = -7,-4
air.juggle = 0
air.velocity = -7,-3
air.fall = 1
fall.recover = 0
getpower = 0,0
givepower = 0,0
projscale = 0.85,0.85
palfx.time = 55
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State 1000, Xe[gX]
type = Destroyself
trigger1 = time = 23

;-------------------------------------------------------------------------------------------
[Statedef 1950]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 50
velset   = 0,0
anim     = 1950+Var(55)*30000
ctrl     = 0
sprpriority = 3
facep2 = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s10,10

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s15555,4

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 1950
projanim = 1952
projremove = 1
projpriority = 3
projhitanim = 1953
projremanim = 1953
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 100,100
givepower = 20,20
ownpal = 1
offset = 25,0
velocity = 5,0
attr = S, SP
animtype = Hard
damage = 90,10
hitflag = MAFD
guardflag = MA
hitsound = s12,8
guardsound = s2,1
pausetime = 1,13
sparkno = 2
guard.sparkno = 42
sparkxy = 22,-46
ground.type = Low
ground.hittime = 17
ground.slidetime = 17
ground.velocity = -9
air.juggle = 4
air.velocity = -3.6,-3.8
yaccel = .35
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1951
postype = P1
pos = -10,32
sprpriority = 5
bindtime = 1
ownpal = 1
scale = 1.36,1.36

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------------------
[Statedef 1960]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 50
velset   = 0,0
anim     = 1950+Var(55)*30000 
ctrl     = 0
sprpriority = 3
facep2 = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s10,10

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s15555,4

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 1950
projanim = 1952
projremove = 1
projpriority = 3
projhitanim = 1953
projremanim = 1953
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 100,100
givepower = 20,20
ownpal = 1
offset = 25,0
velocity = 9,0
attr = S, SP
animtype = Hard
damage = 95,10
hitflag = MAFD
guardflag = MA
hitsound = s12,8
guardsound = s2,1
pausetime = 0,10+var(2)
sparkno = 2
guard.sparkno = 42
sparkxy = 22,-46
ground.type = Low
ground.hittime = 17
ground.slidetime = 17
ground.velocity = -9
air.juggle = 4
air.velocity = -3.6,-3.8
yaccel = .35
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1951
postype = P1
pos = -10,32
sprpriority = 5
bindtime = 1
ownpal = 1
scale = 1.36,1.36

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
[Statedef 2012]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 50
velset   = 0,0
anim     = 2012+Var(55)*30000 
ctrl     = 0
sprpriority = 2
facep2 = 1

[State -2, Random]
type = VarRandom
triggerall = var(23) = 1
trigger1 = time = 0
v = 7
range = 0,7

[State 810, IL]
type = Width
trigger1 = 1
edge = 50,0

[State 191, Spray Anim P1]
type = Explod
trigger1 = AnimElem >= 2,0 && timemod = 10,0
trigger1 = StageVar(info.author) = "water"
ID = 20
anim = F21
postype = p1
pos = -10,0
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 100, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = F100,0+(StageVar(info.author) = "water")
channel = 8
loop = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,23

[State 1000, ]
type = StopSnd
trigger1 = AnimElem = 7
channel = 8

[State 1000, u]
type = Velset
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(7) <= 0
x = 9

[State 1000, u]
type = Velset
trigger1 = Animtime = 0
x = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(6) <= 0
trigger1 = p2bodydist X < 70
value = 2013

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
[Statedef 2013]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2013+Var(55)*30000 
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = 1
edge = 30,0

[State 1000, ]
type = StopSnd
trigger1 = Time = 0
channel = 8

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,1

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
x = 10

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 6
x = -10

[State 1000, u]
type = Velset
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
x = 8

[State 1000, u]
type = Velset
trigger1 = AnimElem = 5
x = 0

[State 200, qbg`]
type = HitDef
;triggerall = (p2stateno != [5020,5049])
trigger1 = time = 0
attr = S, SA
damage = 30,2
getpower = 40,40
givepower = 20,20
animtype = Hard
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 11,11+var(2)
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -50
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = -10
air.type = High
air.velocity = -5,-5
yaccel = .35
air.hittime = 12
air.fall = 1
fall.recover = 0

[State 210, Xe[gX]
type = ChangeState
trigger1 = Movecontact
value = 2014

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------------
[Statedef 2014]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2014+Var(55)*30000 
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
edge = 50,0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 3
x = 10

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
x = 30

[State 200, qbg`]
type = HitDef
;triggerall = (p2stateno != [5020,5049])
trigger1 = AnimElem = 3
attr = S, ST
damage = 10,2
getpower = 20,20
givepower = 20,20
animtype = Hard
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 0,0
sparkno = 2
guard.sparkno = 42
sparkxy = -22, -70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -9
air.type = High
air.velocity = 0,0
airguard.velocity = -4,-5
yaccel = .35
air.hittime = 12
fall = 1
fall.recover = 0
p1stateno = 1680
p2stateno = 1685
p1facing = 1
p2facing = 1
ground.cornerpush.veloff = ifelse(Movehit=1,1,0)
air.cornerpush.veloff = ifelse(Movehit=1,1,0)

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------------------
[Statedef 3300]
type = S
movetype = A
physics = S
anim = 3300
velset = 0
ctrl = 0
facep2 = 0
sprpriority = 5
juggle = 7
poweradd = ifelse(fvar(30) > 0,-1000,-2000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 1000, u]
type = posadd
trigger1 = AnimElem = 21
x = 25

[State 1000, u]
type = Velset
trigger1 = AnimElem = 21
x = 9.5

[State 1000, u]
type = Velset
trigger1 = AnimElem = 22
x = 2.5

[State 1000, u]
type = Velset
trigger1 = AnimElem = 22,=4
x = 0

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,0

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 24
value = s12,4

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,43

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 24
value = s10,44

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,113]
flag = NOBG
ignorehitpause = 1

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 74
time = 74

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 87
under = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 0
anim = F7100
scale = .5,.5
postype = p1
pos = 8,-67
sprpriority = -5
ownpal = 1
bindtime = 1
supermove = 99999

[State 2000]
type = Explod
trigger1 = time = 0
anim = F7110
scale = .5,.5
postype = p1
pos = 8,-67
sprpriority = 5
ownpal = 1
bindtime = 1
supermove = 99999

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 1

[State a]
type = Helper
trigger1 = time = 0
name = "shadow"
helpertype = normal
Pos = -28,-65
postype = p1
stateno = 3510
ID= 3510
SprPriority = 95
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35
pausemovetime = 9999
supermovetime = 9999

[State 2000]
type = Explod
trigger1 = time = 63
anim = 3310
postype = p1
pos = -30,-55
sprpriority = 5
ownpal = 1
bindtime = 6
supermove = 0
scale = 0.5,0.5
trans = add

[State 3000]
type = Projectile
trigger1 = AnimElem = 24
projID = 3320
projanim = 3320
projremove = -1
projpriority = 4
projhitanim = -1
projremanim = -1
projsprpriority = -10
projshadow = 0,0,0
projremovetime = 25
getpower = 0,0
givepower = 0,0
ownpal = 1
offset = 0,0
velocity = 0,0
attr = S, SP
animtype = Hard
damage = 0,0
hitflag = MAF
guardflag = M
hitsound = s12,8
guardsound = s2,1
pausetime = 0,0
sparkno =2
guard.sparkno = 42
sparkxy = 22,-46
ground.type = Low
ground.hittime = 17
ground.slidetime = 17
ground.velocity = -9
air.juggle = 0
air.velocity = -3.6,-3.8
yaccel = .35

[State 114, 5]
type = HitDef
trigger1 = time%3 = 0
attr = S, SA
animtype = Hard
damage = 40,10
getpower = 20
givepower = 20,10
hitflag = MAFD
guardflag = M
pausetime = 1,1
sparkno = 2
guard.sparkno = 42
hitsound = s12,4
guardsound = s2,1
sparkxy = -20,floor(p2dist Y)- 75
ground.type = Low
ground.slidetime = 25
ground.hittime = 30
ground.velocity = -9,-6.5
air.velocity = -7.5,-6
guard.hittime = 23
guard.velocity = -3.5
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.5
palfx.time = 80
palfx.add = 30,-40,-140
palfx.sinadd = 60,60,50,10
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0
air.fall = 1

[State 266,3]
type = envshake
trigger1 = animelem = 24
time = 25

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;十拳
;---------------------------------------------------------------------------
[Statedef 3500]
type     = S
movetype = A
physics  = S
juggle   = 4
velset   = 0,0
anim     = 3500
ctrl     = 0
sprpriority = 2
poweradd = -2000
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1699]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1700,3899]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];爆气中扣除爆气槽
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a];防止爆气条低于120(不同技能数字有区别)不出现字幕
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State a]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 60
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 1
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
;-------------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 1
helpertype = normal
stateno = 24301
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------
;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State a]
type = SuperPause
darken = 0
trigger1 = time = 0
anim = -1
movetime = 70
time = 70

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7300
ID = 7300
ownpal = 1
facing = 1
postype = p1
pos = -15,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7310
ID = 7310
ownpal = 1
facing = 1
postype = p1
pos = -15,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 6]
type = PlaySnd
trigger1 = Time = 0
value = f9000,3

[State -2, Afterimage Remover]
type = AfterImageTime
trigger1 = time = 1
time = 0

[State a]
type = AssertSpecial
trigger1 = time = [0,70]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State a]
type = Helper
trigger1 = AnimElem = 5,=15
name = "shadow"
helpertype = normal
Pos = 8,-85
postype = p1
stateno = 3510
ID= 3510
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 80
supermovetime = 80

[State a]
type = Helper
trigger1 = AnimElem = 5,=60
name = "shadow"
helpertype = normal
Pos = 0,-70
postype = p1
stateno = 3511
ID= 3511
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 50
supermovetime = 50

[State a]
type = Helper
trigger1 = AnimElem = 9
name = "shadow"
helpertype = normal
Pos = 0,0
postype = p1
stateno = 3512
ID= 3512
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 50
supermovetime = 50

[State a]
type = PlaySnd
trigger1 = AnimElem = 1
value = s3500,0

[State a]
type = PlaySnd
trigger1 = AnimElem = 26
value = s3500,1

[State a]
type = Velset
trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(25) < 0
x = 21

[State a]
type = Velset
trigger1 = AnimElem = 26
x = 0

[state a]
type = varset
trigger1 = time = 0
trigger2 = AnimElem = 7
v = 4
value = 0

[state a]
type = Trans
trigger1 =  time >= 25
trigger1 = AnimElem = 7,<0
trans = addalpha
alpha = 306-(var(4)), (var(4))

[state a]
type = varadd
trigger1 = time >= 25
trigger1 = AnimElem = 7,<0
v = 4
value = 20

[State a]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 100, 5
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0,4
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -80
hitsound = 5,4
guardsound = 6,2
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -3,-8
air.type = High
air.velocity = -3,-8
air.hittime = 12
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2facing = 1
;kill = 0
id = 3500

[State a]
type = TargetState
trigger1 = NumTarget(3500)
trigger1 = Target(3500),stateno != [120,159]
trigger1 = MoveHit
value = 3550

[state a]
type = changestate
trigger1 = NumTarget(3500)
trigger1 = Target(3500),stateno = 3550
value = 3501

[State a]
type = ChangeState
trigger1 = MoveGuarded
value = 3505

[State a]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3505]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3505
ctrl     = 0
sprpriority = 2

[State a]
type = Velset
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(1) < 6
x = 3

[State a]
type = PlaySnd
trigger1 = AnimElem = 26
value = s3500,1

[State a]
type = Velset
trigger1 = time = 6
x = 0

[State a]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3501]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3501
ctrl     = 0
sprpriority = 2

[state a]
type = changestate
trigger1 = P2stateno = ! 3550
value = 0
ctrl = 1

[State 0, Width]
type = Width
trigger1 = time = 0
edge = 150,30

[State a]
type =null;Helper
trigger1 = time = 1
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 0
v = 17
value = 0

[state a]
type = varadd
trigger1 = time = [1,32]
v = 17
value = 1

[state a]
type = angledraw
trigger1 = 1
scale = 1+var(17)*0.05,1+var(17)*0.05

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
pos = 80+var(17)*2,0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 80
freq = 95
ampl = -8
phase = 95

[State 0, HitAdd]
type = HitAdd
trigger1 = time%4=0
value = 1

[State a]
type = TargetLifeAdd
trigger1 = time%2=0
value = -10

[State a]
type = Explod
trigger1 = time = 5
ignorehitpause = 1
Anim = 3519
Pos = 0,-10
ID = 3519
postype = back
bindtime = -1
removetime = -1
scale = 9999,9999
sprpriority = 100
ownpal = 1
removeongethit = 1

[State a]
type = Explod
trigger1 = time = 20
ignorehitpause = 1
Anim = 3513
Pos = 0,-15
ID = 3513
postype = back
bindtime = -1
removetime = -1
scale = .6,3
sprpriority = 105
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
id = 3513

[State a]
type = Explod
trigger1 = time = 60
ignorehitpause = 1
Anim = 3518
Pos = 0,-15
ID = 3518
postype = back
bindtime = -1
scale = .6,3
sprpriority = 105
ownpal = 1
removeongethit = 1
pausemovetime = 50
supermovetime = 50

[State a]
type = Explod
trigger1 = time = 80
ignorehitpause = 1
Anim = 3520
Pos = 0,-10
ID = 3520
postype = back
bindtime = -1
scale = 9999,9999
sprpriority = 100
ownpal = 1
removeongethit = 1
pausemovetime = 50
supermovetime = 50

[State a]
type = Helper
trigger1 = time = 1
name = "shadow"
helpertype = normal
Pos = 65,18
postype = p1
stateno = 3514
ID= 3514
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47

[State a]
type = PlaySnd
trigger1 = time = 0
value = s3500,2

[State a]
type = PlaySnd
trigger1 = time = 0
value = f0,1

[State a]
type = PlaySnd
trigger1 = time = 3
value = s3500,3

[State a]
type = Velset
trigger1 = time = 0
x = 0

[State a]
type = ChangeState
trigger1 = Time = 80
value = 3502

;---------------------------------------------------------------------------
[Statedef 3502]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3502
ctrl     = 0
sprpriority = 2

[State a]
type = RemoveExplod
trigger1 = time = 0
id = 3519

[State a]
type = Explod
trigger1 = time = 0
ignorehitpause = 1
Anim = 3518
Pos = 0,0
ID = 3518
postype = back
bindtime = -1
scale = .6,1.2
sprpriority = 100
ownpal = 1
removeongethit = 1
pausemovetime = 50
supermovetime = 50

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3513

[State a]
type = Helper
trigger1 = time = 0
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
pos = 80,0

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3551

[State a]
type = Helper
trigger1 = time = 1
name = "shadow"
helpertype = normal
Pos = 40,5
postype = p2
stateno = 3515
ID= 3515
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 50
supermovetime = 50

[State a]
type = Helper
trigger1 = time = 1
name = "shadow"
helpertype = normal
Pos = 0,5
postype = p2
stateno = 3516
ID= 3516
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 50
supermovetime = 50

[State a]
type = Helper
trigger1 = time = 1
name = "shadow"
helpertype = normal
Pos = -40,5
postype = p2
stateno = 3515
ID= 3515
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 50
supermovetime = 50

[State a]
type = Helper
trigger1 = time = 1
name = "shadow"
helpertype = normal
Pos = 0,0
postype = p2
stateno = 3517
ID= 3517
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 50
supermovetime = 50

[State a]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3550]
type     = L
movetype = H
physics  = N
velset   = 0,0
ctrl     = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y > -10
y = 0
ignorehitpause = 1

[state a]
type = angledraw
trigger1 = 1
scale = 1+(enemy,var(17))*0.05,1+(enemy,var(17))*0.05

[State a]
type = ChangeAnim2
trigger1 = time = 0
value = 3550+var(55)*30000

;---------------------------------------------------------------------------
[Statedef 3551]
type     = L
movetype = H
physics  = N
velset   = 0,0
ctrl     = 0
sprpriority = 2

[state a]
type = angledraw
trigger1 = time = 0
scale = 1,1

[State 0, LifeSet]
type = Lifeadd
trigger1 = time = 0
value = -90

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State a]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5111+var(55)*30000)
value = 5111+var(55)*30000

[State a]
type = ChangeAnim
trigger1 = time = 0
trigger1 = !SelfAnimExist(5111+var(55)*30000)
value = 5112+var(55)*30000

[State 0, PalFX]
type = PalFX
trigger1 = time = 30
time = 0
add = 0,0,0

[state a]
type = SelfState
trigger1 = alive = 0
trigger1 = time = 50
value = 5150

[State a]
type = selfstate
trigger1 = alive
trigger1 = Time = 50
value = 5120

;---------------------------------------------------------------------------
[Statedef 3400]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= -2000
anim = 3400
ctrl = 0
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1699]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1700,3899]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
[State 1];G
type = NotHitBy 
trigger1 = 1
value = SCA

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];爆气中扣除爆气槽
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a];防止爆气条低于120(不同技能数字有区别)不出现字幕
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
;-------------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------
;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State 2000, 2]
type = SuperPause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1

[State 1000, 5]
type = Explod
trigger1 = time = 1
anim = F7300
sprpriority = -11
postype = p1
pos = -21,-66
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = Time = 1
anim = F7310
sprpriority = -13
postype = p1
pos = -21,-66
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 25;29
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = F9000,2

[State 2000, 6];
type = PlaySnd
trigger1 = Time = 0
value = 3400,0

[state a];s
type = changestate
triggerall = animtime = 0
trigger1 = command = "holdc"
value = 3410

[state a]
type = changestate
trigger1 = animtime = 0
value = 3420

;---------------------------------------------------------------------------
[Statedef 3410]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 3410
ctrl = 0

[State 2000, 6];
type = PlaySnd
trigger1 = time = 0
value = 3400,3
channel = 0

[State 1000, 5];GtFNg
type = Explod
trigger1 = time = 0
anim = 3411
id = 3411
sprpriority = 5
postype = p1
pos = -5,5
bindtime = -1
supermove = 1
under = 0
removetime = -1

[state a]
type = changestate
trigger1 = time != 0
trigger1 = command != "holdc"
trigger2 = time >= 180
value = 3420

;---------------------------------------------------------------------------
[Statedef 3420]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 8
anim = 3420
ctrl = 0

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 4
time = 20
ampl = -2
freq = 95
phase = 95

[State 1];G
type = NotHitBy
trigger1 = animelem = 7,<=0
value = SCA

[state a]
type = stopsnd
trigger1 = animelem = 6
channel = 0

[State 2000, 6];D!
type = PlaySnd
trigger1 = animelem = 4
value = 3400,1

[State 2000, 6];n
type = PlaySnd
trigger1 = animelem = 4
value = 3400,2

[State 2000, 6];n
type = PlaySnd
trigger1 = animelem = 4
value = 3400,4

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 4
value = 3400,5

[state a]
type = varset
trigger1 = animelem = 4
v = 4
value = 45

[state a]
type = removeexplod
trigger1 = time = 0
id = 3411

[State 1000, 5]
type = Explod
trigger1 = time = 0
anim = 3421
sprpriority = 5
postype = p1
pos = 20,5
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 4
anim = 3423
sprpriority = 5
postype = p1
pos = 30,0
bindtime = 1
supermove = 1
scale = 1.1,1.1

[State 1000, 5]
type = Explod
trigger1 = animelem = 4
anim = 3422
sprpriority = -1
postype = p1
pos = 50,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 4
anim = 3422
sprpriority = 10
postype = p1
pos = 100,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 6
anim = 3423
sprpriority = 4
postype = p1
pos = 70,0
bindtime = 1
supermove = 1
scale = 1.1,1.1

[State 1000, 5]
type = Explod
trigger1 = animelem = 6
anim = 3422
sprpriority = -1
postype = p1
pos = 70,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 6
anim = 3422
sprpriority = 10
postype = p1
pos = 160,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 9
anim = 3423
sprpriority = 3
postype = p1
pos = 110,0
bindtime = 1
supermove = 1
scale = 1.0,1.0

[State 1000, 5]
type = Explod
trigger1 = animelem = 9
anim = 3422
sprpriority = -1
postype = p1
pos = 110,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 9
anim = 3422
sprpriority = 10
postype = p1
pos = 130,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 10
anim = 3423
sprpriority = 3
postype = p1
pos = 150,0
bindtime = 1
supermove = 1
scale = 1.0,1.2

[State 1000, 5]
type = Explod
trigger1 = animelem = 10
anim = 3422
sprpriority = -1
postype = p1
pos = 150,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 10
anim = 3422
sprpriority = 10
postype = p1
pos = 250,10
bindtime = 1
supermove = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 13
anim = 3423
sprpriority = 3
postype = p1
pos = 190,0
bindtime = 1
supermove = 1
scale = 1.0,1.2

[State 1000, 5]
type = Explod
trigger1 = animelem = 13
anim = 3422
sprpriority = -1
postype = p1
pos = 190,10
bindtime = 1
supermove = 1

[State 1000, 0]
type = Projectile
trigger1 = animelem = 4
attr = S, HP
projhits = 4
projanim = 3424
projhitanim = -1
projid = 3400
projpriority = 24
projsprpriority = 24
projedgebound = 220
projremovetime = 15
;hitflag =HA,MA,LA,AA
air.juggle = 0
postype = p1
getpower = 0,0
offset = 0,0
velocity = 2,0
damage = 35,10
animtype = hard
guardflag = M
pausetime = 3,1
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitsound = S12,4
guardsound = 6,2
ground.type = low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -6
p2stateno =4815
ownpal = 1
palfx.time =15
palfx.mul = 240,200,100
palfx.sinadd = 63,65,68,18
palfx.add = 230,180,124

[State 1000, 0]
type = Projectile
trigger1 = animelem = 7
attr = S, HP
projhits = 4
projanim = 3424
projhitanim = -1
projid = 3400
projpriority = 24
projsprpriority = 24
projedgebound = 220
projremovetime = 15
;hitflag =HA,MA,LA,AA
air.juggle = 0
postype = p1
getpower = 0,0
offset = 40,0
velocity = 2,0
damage = 45,10
animtype = hard
guardflag = M
pausetime = 4,2
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitsound = S12,8
guardsound = 6,2
ground.type = low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -6
p2stateno =4805
ownpal = 1
palfx.time =15
palfx.mul = 240,200,100
palfx.sinadd = 63,65,68,18
palfx.add = 230,180,124

[State 1000, 0]
type = Projectile
trigger1 = animelem = 10
attr = S, HP
projhits = 4
projanim = 3424
projhitanim = -1
projid = 3400
projpriority = 24
projsprpriority = 24
projedgebound = 220
projremovetime = 15
;hitflag =HA,MA,LA,AA
air.juggle = 0
postype = p1
getpower = 0,0
offset = 80,0
velocity = 2,0
damage = 60,10 
animtype = up
guardflag = M
pausetime = 5,2
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitsound = S12,4
guardsound = 6,2
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -1.5,-8
p2stateno = 4945
ownpal = 1
palfx.time =80
palfx.mul = 240,200,100
palfx.sinadd = 63,65,68,18
palfx.add = 230,180,124

[State 1000, 0]
type = Projectile
trigger1 = animelem = 13
attr = S, HP
projhits = 4
projanim = 3424
projhitanim = -1
projid = 3400
projpriority = 24
projsprpriority = 24
projedgebound = 220
projremovetime = 15
;hitflag =HA,MA,LA,AA
air.juggle = 0
postype = p1
getpower = 0,0
offset = 120,0
velocity = 2,0
damage = 55,10 
animtype = up
guardflag = M
pausetime = 5,2
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitsound = S12,4
guardsound = 6,2
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -1.5,-8
p2stateno = 4945
ownpal = 1
palfx.time =80
palfx.mul = 240,200,100
palfx.sinadd = 63,65,68,18
palfx.add = 230,180,124

[State 2100, 3]
type = Explod
trigger1 = ProjHit = 1
anim = F3
pos = -15,-60
postype = p2
sprpriority = 25
supermove = 1
bindtime = 1
facing = -1
ignorehitpause = 1

[State 2100, 3]
type = Explod
trigger1 = Projguarded = 1
anim = F42
pos = -15,-60
postype = p2
sprpriority = 25
supermove = 1
bindtime = 1
facing = -1
ignorehitpause = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------------------------------------
[Statedef 2800]
type    = S
movetype= A
physics = S
anim = 2800
velset = 0,0
ctrl = 0
poweradd = ifelse(fvar(30) > 0,-1000,-2000)
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];爆气中扣除爆气槽
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a];防止爆气条低于120(不同技能数字有区别)不出现字幕
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
[State 1]
type = NotHitBy
trigger1 = time <= 61
value = SCA

[State 2000, 2]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
anim = -1
darken = 0
p2defmul = 1

[State a]
type = Explod
trigger1 = time=0
anim = f7000
scale=0.5,0.5
id = 5000
postype = p1
pos = -25,-60
sprpriority = -5
supermove = 1
bindtime = 1
ownpal = 1

[State a]
type = Explod
trigger1 = time=0
anim = f7010
scale=0.5,0.5
id = 5010
postype = p1
pos = -25,-60
sprpriority = 5
supermove = 1
bindtime = 1
ownpal = 1

[State a]
type = PlaySnd
trigger1 = time= 0
value = f9000,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = s10,77

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = s12,6

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
anim = 2801
postype = P1
pos = 0,0
bindtime = -1
removetime = -1
sprpriority = -5
ownpal = 1
supermove = 1
removeongethit = 1
supermovetime=99999
pausemovetime=99999
ignorehitpause=1
ID = 2800

[State 3020]
type = ChangeState
trigger1 = AnimTime = 0
value = 2810

;---------------------------------------------------------------
[Statedef 2810]
type    = S
movetype= A
physics = N
anim = 2810
velset = 0,0
ctrl = 0
sprpriority = 2

;ex max
[State 4106, 6]
type = BGPalFX
trigger1 = Time = [0,116]
time  = 1
color = 12+((time)*2)
add   = -256+((time)*2),-256+((time)*2),-256+((time)*2)
ignorehitpause = 1

[State 2000,]
type = RemoveExplod
trigger1 = time = 0
ID = 2800

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
anim = 2115
postype = P1
pos = 0,0
bindtime = 1
removetime = 35
sprpriority = -5
ownpal = 1
supermove = 1
removeongethit = 1
supermovetime=99999
pausemovetime=99999
ignorehitpause=1
ID = 2810

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 7
anim = 2020
postype = P1
pos = 60,5
scale = 1.3,1.1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermove = 1
removeongethit = 1
supermovetime=99999
pausemovetime=99999
ignorehitpause=1
ID = 2810

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
add = 0,0,0
mul = 256,256,256
invertall = 0
color = 256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = s12,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = f40,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = s0,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = s12,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = s10,78

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 30
freq = 90
ampl = -3
phase = -2

[State 6000]
type = AfterImage
trigger1 = animelem> = 2
time = 30
length = 7
timegap = 3
framegap = 3
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1
ignorehitpause = 1

[State 3102,VelSet]
type = VelSet
trigger1 = animelem = 3,>=1
trigger1 = animelem = 5,<=2
x = 20

[State 3102,VelSet]
type = VelSet
trigger1 = animelem = 6
trigger2 = animelem = 11,>=0
trigger2 = animelem = 11,<=10
x = 1

[State 3102,VelSet]
type = VelSet
trigger1 = animelem = 7,>=1
trigger1 = animelem = 10,<=1
x = 10

[State 3102,VelSet]
type = VelSet
trigger1 = animelem = 11,=11
x = 0

[State 3102,posadd]
type = posadd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
x = 10

[State 0, Pause]
type = Pause
trigger1 = animelem = 6
time = 50
movetime = 50

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time <= 60
value = ,NA,SA
;time = 60

[State 810, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 280,50
getpower = 0
givepower = 400,50
animtype = Diagup
hitflag = MAFPLD
guardflag = M
priority = 4, Hit
pausetime = 50,50
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -30
hitsound = S1,9 
guardsound = 6,2
ground.type = High
ground.slidetime = 24
ground.hittime  = 25
ground.velocity = -30,-7.5
guard.velocity = -10
air.velocity = -30,-7.5
air.type = High
air.hittime = 20
fall = 1
fall.recover = 0
palfx.time = 100
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 40
envshake.ampl = 8
envshake.freq = 90
p2stateno=4955
p2facing =1

[State 2000, 6]
type =PlaySnd
triggerall = p2movetype = H
trigger1 = Movehit = 1
value = S2800,0
lowpriority=1

[State 3102]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================
[Statedef 3600]
type = S
movetype = A
physics = S
anim = 3600+Var(55)*10000
ctrl = 0

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 34000, G]
type = NotHitBy
trigger1 = AnimElem = 5, < 0
value = SCA
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------

[State 34000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = -2000
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7300
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 0,-80
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7310
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 0,-80
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 3

[State 1420, 9]
type = Explod
trigger1 = time = 31
anim = 3601
id = 3601
pos = 0,10
postype = p1
ontop = 1
ownpal = 1
scale = .5,.5
removetime = -2
;supermovetime = 9999
sprpriority = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S3600,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3600,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 31
time = 20
freq = 90
ampl = -8
phase = 90

[State 1150, 3]
type = Explod
trigger1 = time = 31 | time = 35 | time = 40 | time = 45 | time = 50 | time = 55
anim = 3602
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
scale = .5,.5
Random = 50,10

[State 1150, 3]
type = Explod
trigger1 = time = 31 | time = 35 | time = 40 | time = 45 | time = 50 | time = 55
anim = 3603
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 210
ownpal = 1
scale = .5,.5
Random = 50,10

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
helpertype = normal ;player
name = "火麒麟"
ID = 3640
stateno = 3640
pos = -20,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animtime = 9
statetype = A

[State 34000, ]
type = VelSet
trigger1 = AnimElem = 9
y = -4

[State 34000, ]
type = VelSet
trigger1 = AnimElemtime(9) > 0
x = 8

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemtime(9) > 0
y = .45

[State 1000, 5]
type = Projectile
trigger1 = AnimElemtime(10) = 0
attr = S, SP
projID = 3604
projanim = 3604
projremove = 0
projmisstime = 10
projremovetime = 2
;projedgebound = 100
;projstagebound = 300
projhitanim = -1
projremanim = -1
offset = 20,0
velocity = 0,0
ownpal = 1
damage = 30,2
animtype = Hard
hitflag = MAFDL
guardflag = M
pausetime = 0,2
guard.pausetime = 0,2
sparkno = 3
guard.sparkno = 42
sparkxy = 0,-60
hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 100
ground.velocity = -6,0
air.animtype = Hard
air.fall = 1
fall.recovertime = 100
air.velocity = -4,-6
guard.ctrltime = 17
yaccel = .45
getpower = 0,0
givepower = 15,15
PalFX.time = 30
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
postype = p1
p2facing = 1
projpriority = 9

[State 1000, 5]
type = Projectile
trigger1 = time = 31
attr = S, SP
projID = 3605
projanim = 3605
projremove = 0
projremovetime = 10
projhitanim = -1
projremanim = -1
offset = 0,0
ownpal = 1
damage = 60,4
animtype = diagup
hitflag = MAFDL
guardflag = M
pausetime = 0,10
guard.pausetime = 0,10
sparkno = 3
guard.sparkno = 42
sparkxy = 10,-70
;hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 100
ground.velocity = .25,-10
air.animtype = diagup
fall = 1
fall.recovertime = 100
air.velocity = .25,-10
down.hittime = 12
down.velocity = -6,0
down.hittime = 17
guard.ctrltime = 17
yaccel = .50
getpower = 0,0
givepower = 20,20
PalFX.time = 50
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
p2StateNo = 3604

[State 3000, Xe[g]
type = ChangeState
trigger1 = AnimElemtime(9) > 0
trigger1 = pos y >= 0 && vel y > 0
value = 3610

;----------------------------------------------------------------------------------------------
[Statedef 3640]
movetype = I
physics = N
anim = 3640
ctrl = 0
sprpriority = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 0, Width]
type = Width
trigger1 = 1
edge = 20,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
anim = 3602
pos = 50,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
scale = .5,.5

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
anim = 3603
pos = 50,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 210
ownpal = 1
scale = .5,.5

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = -1
length = 12
palbright = 0,0,0
palcontrast = 120,60,60
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add ;"none","add1","sub"

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,StateNo = 3610 && root,animelemtime(3) < 0
trigger2 = root,StateNo = 3620 && root,animelemtime(3) < 0
trigger3 = root,StateNo = 3630
trigger4 = root,MoveType = H

;-----------------------------------------------------------------------------------------------------
[Statedef 3660]
type    = A
movetype = H
physics = N
sprpriority = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -1
y = -6

[State 821, 1]
type = VelAdd
Trigger1 = time > 0
y = .4

[State 821, 4]
type = changeanim
trigger1 = time = 0
trigger1 = selfAnimExist(5052+Var(55)*10000   )
value = 5052+Var(55)*10000   

[State 821, 4]
type = changeanim
trigger1 = time = 10
trigger1 = selfAnimExist(5062+Var(55)*10000   )
value = 5062+Var(55)*10000   

[State 5050, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 10
value = 5100

;--------------------------------------------------------------------------------------
[Statedef 3601]
type    = A
movetype = H
physics = N
sprpriority = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -8
y = -10

[State 821, 1]
type = VelAdd
Trigger1 = time > 0
y = .4

[State 821, 4]
type = changeanim
trigger1 = time = 0
trigger1 = selfAnimExist(5052+Var(55)*10000   )
value = 5052+Var(55)*10000   

[State 821, 4]
type = changeanim
trigger1 = time = 10
trigger1 = selfAnimExist(5062+Var(55)*10000   )
value = 5062+Var(55)*10000   

[State 5050, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 10
value = 5100

;-----------------------------------------------------------------------------------------
[Statedef 3604]
type    = A
movetype = H
physics = N
sprpriority = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -10

[State 821, 1]
type = VelAdd
Trigger1 = time > 0
y = .4

[State 821, 4]
type = changeanim
trigger1 = time = 0
trigger1 = selfAnimExist(5052+Var(55)*10000   )
value = 5052+Var(55)*10000   

[State 821, 4]
type = changeanim
trigger1 = time = 10
trigger1 = selfAnimExist(5062+Var(55)*10000   )
value = 5062+Var(55)*10000   

[State 5050, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 10
value = 5100

;--------------------------------------------------------------------------------------
[Statedef 3610]
type = S
movetype = A
physics = N
anim = 3610+Var(55)*10000
poweradd = 0
ctrl = 0
facep2 = 1

[State 34000, G]
type = NotHitBy
trigger1 = AnimElem = 5, < 0
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S3600,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3600,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 90
ampl = -8
phase = 90

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
anim = 3602
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
scale = .5,.5
Random = 50,10

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
anim = 3603
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 210
ownpal = 1
scale = .5,.5
Random = 50,10

[State 34000, ]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3660

[State 1420, 9]
type = Explod
trigger1 = time = 0
anim = 3650
id = 3650
pos = 0,20
postype = p1
ontop = 1
ownpal = 1
removetime = -2
;supermovetime = 9999
sprpriority = 20

[State 1420, 9]
type = Explod
trigger1 = time = 0
anim = 3601
id = 3601
pos = 0,10
postype = p1
ontop = 1
ownpal = 1
scale = .5,.5
removetime = -2
;supermovetime = 9999
sprpriority = 10

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = normal ;player
name = "火麒麟"
ID = 3640
stateno = 3640
pos = -20,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, 5]
type = Projectile
trigger1 = time = 0
attr = S, SP
projID = 3605
projanim = 3605
projremove = 0
projremovetime = 10
projhitanim = -1
projremanim = -1
offset = 0,0
ownpal = 1
damage = 60,4
animtype = diagup
hitflag = MAFDL
guardflag = M
pausetime = 0,10
guard.pausetime = 0,10
sparkno = 3
guard.sparkno = 42
sparkxy = 10,-70
;hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 100
ground.velocity = -1,-6
air.animtype = diagup
fall = 1
fall.recovertime = 100
air.velocity = -1,-6
down.hittime = 12
down.velocity = -6,0
down.hittime = 17
guard.ctrltime = 17
yaccel = .50
getpower = 0,0
givepower = 20,20
PalFX.time = 50
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
p2StateNo = 3660

[State 1000, 5]
type = Projectile
trigger1 = AnimElemtime(6) = 0
attr = S, SP
projID = 3604
projanim = 3604
projremove = 0
projmisstime = 10
projremovetime = 2
;projedgebound = 100
;projstagebound = 300
projhitanim = -1
projremanim = -1
offset = 20,0
velocity = 0,0
ownpal = 1
damage = 40,2
animtype = Hard
hitflag = MAFDL
guardflag = M
pausetime = 0,2
guard.pausetime = 0,2
sparkno = 3
guard.sparkno = 42
sparkxy = 0,-60
hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 100
ground.velocity = -6,0
air.animtype = Hard
air.fall = 1
fall.recovertime = 100
air.velocity = -4,-6
guard.ctrltime = 17
yaccel = .45
getpower = 0,0
givepower = 15,15
PalFX.time = 30
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
postype = p1
p2facing = 1
projpriority = 9

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animtime = 5
statetype = A

[State 34000, ]
type = VelSet
trigger1 = AnimElem = 5
x = 8
y = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemtime(5) > 0
y = .45

[State 3630, Xe[g]
type = ChangeState
trigger1 = AnimElemtime(5) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3620

;---------------------------------------------------------------------------------------------
[Statedef 3620]
type = S
movetype = A
physics = N
anim = 3610+Var(55)*10000
poweradd = 0
ctrl = 0
facep2 = 1

[State 34000, G]
type = NotHitBy
trigger1 = AnimElem = 5, < 0
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S3600,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3600,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 90
ampl = -8
phase = 90

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
anim = 3602
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
scale = .5,.5
Random = 50,10

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
anim = 3603
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 210
ownpal = 1
scale = .5,.5
Random = 50,10

[State 34000, ]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3660

[State 1420, 9]
type = Explod
trigger1 = time = 0
anim = 3650
id = 3650
pos = 0,20
postype = p1
ontop = 1
ownpal = 1
removetime = -2
;supermovetime = 9999
sprpriority = 20

[State 1420, 9]
type = Explod
trigger1 = time = 0
anim = 3601
id = 3601
pos = 0,10
postype = p1
ontop = 1
ownpal = 1
scale = .5,.5
removetime = -2
;supermovetime = 9999
sprpriority = 10

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = normal ;player
name = "火麒麟"
ID = 3640
stateno = 3640
pos = -20,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 1000, 5]
type = Projectile
trigger1 = time = 0
attr = S, SP
projID = 3605
projanim = 3605
projremove = 0
projremovetime = 10
projhitanim = -1
projremanim = -1
offset = 0,0
ownpal = 1
damage = 60,4
animtype = diagup
hitflag = MAFDL
guardflag = M
pausetime = 0,10
guard.pausetime = 0,10
sparkno = 3
guard.sparkno = 42
sparkxy = 10,-70
;hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 100
ground.velocity = -1,-6
air.animtype = diagup
fall = 1
fall.recovertime = 100
air.velocity = -1,-6
down.hittime = 12
down.velocity = -6,0
down.hittime = 17
guard.ctrltime = 17
yaccel = .50
getpower = 0,0
givepower = 20,20
PalFX.time = 50
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
p2StateNo = 3660

[State 1000, 5]
type = Projectile
trigger1 = AnimElemtime(6) = 0
attr = S, SP
projID = 3604
projanim = 3604
projremove = 0
projmisstime = 10
projremovetime = 2
;projedgebound = 100
;projstagebound = 300
projhitanim = -1
projremanim = -1
offset = 50,0
velocity = 0,0
ownpal = 1
damage = 20,2
animtype = Hard
hitflag = MAFDL
guardflag = M
pausetime = 0,2
guard.pausetime = 0,2
sparkno = 3
guard.sparkno = 42
sparkxy = 0,-60
hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 100
ground.velocity = -6,0
air.animtype = Hard
air.fall = 1
fall.recovertime = 100
air.velocity = -4,-6
guard.ctrltime = 17
yaccel = .45
getpower = 0,0
givepower = 15,15
PalFX.time = 30
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
postype = p1
p2facing = 1
projpriority = 9

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animtime = 5
statetype = A

[State 34000, ]
type = VelSet
trigger1 = AnimElem = 5
x = 8
y = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemtime(5) > 0
y = .45

[State 3630, Xe[g]
type = ChangeState
trigger1 = AnimElemtime(5) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3630

;--------------------------------------------------------------------------------------------
[Statedef 3630]
type = S
movetype = A
physics = N
anim = 3630+Var(55)*10000
poweradd = 0
ctrl = 0

[State 7020, GtFNg\]
type = Explod
trigger1 = time = 0
anim =f7100
scale = .5,.5
postype = p1
pos = 0,-80
sprpriority = -10
ownpal = 1
bindtime = 1
supermove = 1

[State 7020, GtFNg\]
type = Explod
trigger1 = time = 0
anim =f7110
scale = .5,.5
postype = p1
pos = 0,-80
sprpriority = 10
ownpal = 1
bindtime = 1
supermove = 1

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 34000, K]
type = PlaySnd
trigger1 = time=0
value = F9000,1

[State 34000, G]
type = NotHitBy
trigger1 = AnimElem = 5, < 0
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S3600,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = S3600,5

[State 34000, KEZ~]
type = SuperPause
trigger1 = time = 27
anim = -1
movetime = 30
time = 30

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 34000, ]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3660

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3600,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 90
ampl = -8
phase = 90

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
trigger2 = animelemtime(9) = 0 | animelemtime(9) = 10 | animelemtime(9) = 20 | animelemtime(9) = 30 | animelemtime(9) = 40 | animelemtime(9) = 50 | animelemtime(9) = 60
trigger3 = animelemtime(9) = 70 | animelemtime(9) = 80
anim = 3602
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
scale = .5,.5
Random = 50,10

[State 1150, 3]
type = Explod
trigger1 = time = 0 | time = 5 | time = 10 | time = 15 | time = 20 | time = 25
trigger2 = animelemtime(9) = 0 | animelemtime(9) = 10 | animelemtime(9) = 20 | animelemtime(9) = 30 | animelemtime(9) = 40 | animelemtime(9) = 50 | animelemtime(9) = 60
trigger3 = animelemtime(9) = 70 | animelemtime(9) = 80
anim = 3603
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 210
ownpal = 1
scale = .5,.5
Random = 50,10

[State 1150, 3]
type = Explod
trigger1 = animelemtime(9) = 0 | animelemtime(9) = 10 | animelemtime(9) = 20 | animelemtime(9) = 30 | animelemtime(9) = 40 | animelemtime(9) = 50 | animelemtime(9) = 60
anim = 3602
pos = 50-animelemtime(9),0
postype = p1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
scale = .5,.5

[State 1150, 3]
type = Explod
trigger1 = animelemtime(9) = 0 | animelemtime(9) = 10 | animelemtime(9) = 20 | animelemtime(9) = 30 | animelemtime(9) = 40 | animelemtime(9) = 50 | animelemtime(9) = 60
anim = 3602
pos = -50-animelemtime(9),0
postype = p1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1
scale = .5,.5

[State 1150, 3]
type = Explod
trigger1 = animelemtime(9) = 0 | animelemtime(9) = 10 | animelemtime(9) = 20 | animelemtime(9) = 30 | animelemtime(9) = 40 | animelemtime(9) = 50 | animelemtime(9) = 60
anim = 3603
pos = 50+animelemtime(9),0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 210
ownpal = 1
scale = .5,.5

[State 1150, 3]
type = Explod
trigger1 = animelemtime(9) = 0 | animelemtime(9) = 10 | animelemtime(9) = 20 | animelemtime(9) = 30 | animelemtime(9) = 40 | animelemtime(9) = 50 | animelemtime(9) = 60
anim = 3603
pos = -50-animelemtime(9),0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 210
ownpal = 1
scale = .5,.5

[State 1420, 9]
type = Explod
trigger1 = time = 0
anim = 3650
id = 3650
pos = 0,20
postype = p1
ontop = 1
ownpal = 1
removetime = -2
;supermovetime = 9999
sprpriority = 20

[State 1420, 9]
type = Explod
trigger1 = time = 0
anim = 3601
id = 3601
pos = 0,10
postype = p1
ontop = 1
ownpal = 1
scale = .6,.8
removetime = -2
supermovetime = 9999
sprpriority = 10

[State 0, Helper]
type = Helper
trigger1 = animelem = 8
helpertype = normal ;player
name = "炎爆1"
ID = 3631
stateno = 3631
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .6

[State 0, Helper]
type = Helper
trigger1 = animelem = 8
helpertype = normal ;player
name = "炎爆2"
ID = 3632
stateno = 3632
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6
size.yscale = .6

[State 1000, 5]
type = Projectile
trigger1 = time = 0
attr = S, SP
projID = 3605
projanim = 3605
projremove = 0
projremovetime = 10
projhitanim = -1
projremanim = -1
offset = 0,0
ownpal = 1
damage = 50,4
animtype = diagup
hitflag = MAFDL
guardflag = M
pausetime = 0,10
guard.pausetime = 0,10
sparkno = 3
guard.sparkno = 42
sparkxy = 10,-70
;hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 100
ground.velocity = .25,-10
air.animtype = diagup
fall = 1
fall.recovertime = 100
air.velocity = .25,-10
down.hittime = 12
down.velocity = -6,0
down.hittime = 17
guard.ctrltime = 17
yaccel = .50
getpower = 0,0
givepower = 20,20
PalFX.time = 50
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
p2StateNo = 3604

[State 3630, Xe[g]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------
[Statedef 3631]
movetype = I
physics  = N
velset   = 0,0
anim     = 3601
sprpriority = 10
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 10

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal ;player
name = "炎爆1"
ID = 3631
stateno = 3631
pos = 150,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3600,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 100
ampl = -8
phase = 100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1000, 5]
type = Projectile
trigger1 = time = 8
attr = S, SP
projID = 3635
projanim = 3635
projremove = 0
projremovetime = 10
projhitanim = -1
projremanim = -1
offset = 0,0
ownpal = 1
damage = 60,8
animtype = diagup
hitflag = MAFDL
guardflag = M
pausetime = 0,10
guard.pausetime = 0,10
sparkno = 3
guard.sparkno = 42
sparkxy = 10,-70
;hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 20
ground.velocity = -4,-8
air.animtype = diagup
fall = 1
fall.recovertime = 40
air.velocity = -4,-8
down.hittime = 12
down.velocity = -6,0
down.hittime = 17
guard.ctrltime = 17
yaccel = .50
getpower = 0,0
givepower = 20,20
PalFX.time = 80
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
p2StateNo = 3601
p2facing = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = frontEdgeBodyDist <= -100

;-------------------------------------------------------------------------------------
[Statedef 3632]
movetype = I
physics  = N
velset   = 0,0
anim     = 3601
sprpriority = 10
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 10

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal ;player
name = "炎爆1"
ID = 3632
stateno = 3632
pos = -150,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3600,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 100
ampl = -8
phase = 100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1000, 5]
type = Projectile
trigger1 = time = 8
attr = S, SP
projID = 3635
projanim = 3635
projremove = 0
projremovetime = 10
projhitanim = -1
projremanim = -1
offset = 0,0
ownpal = 1
damage = 70,18
animtype = diagup
hitflag = MAFDL
guardflag = M
pausetime = 0,10
guard.pausetime = 0,10
sparkno = 3
guard.sparkno = 42
sparkxy = 10,-70
;hitsound = 5,4
guardsound = 6,2
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
air.hittime = 20
ground.velocity = 4,-8
air.animtype = diagup
fall = 1
fall.recovertime = 40
air.velocity = 4,-8
down.hittime = 12
down.velocity = -6,0
down.hittime = 17
guard.ctrltime = 17
yaccel = .50
getpower = 0,0
givepower = 20,20
PalFX.time = 80
PalFX.add = 50,-40,-140
PalFX.sinadd = 50,50,50,15
PalFX.invertall = 1
PalFX.color = 0
p2StateNo = 3601
p2facing = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = backEdgeBodyDist <= -100
;---------------------------------------------------------------------------------
[Statedef 3700]
type = S
movetype = A
physics = S
anim = 3700
poweradd = -2000
velset = 0
ctrl = 0
facep2 = 1
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------
;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State 2200, 8]
type = SuperPause
trigger1 = Time = 1
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 23
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 1
anim = f7300
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 10,-62
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 1
anim = f7310
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 10,-62
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 1
value = F9000, 2

[State 3000, ]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AfterImageProj]
type = Projectile   
trigger1 = AnimElem = 3
projanim = 2115 
projremove = 0    
projremovetime = 33
projsprpriority = 3    
offset = 20,0 
postype = p1  
supermovetime = 9999  
afterimage.time = -1 
afterimage.length = 8 
afterimage.palbright = 0,0,0 
afterimage.palcontrast = 250,200,50  
afterimage.paladd =  0,0,0
afterimage.palmul = .85,.75,.75
afterimage.timegap = 1  
afterimage.framegap = 2   
afterimage.trans = add

[State 1000, 2]
type = Width
trigger1 = AnimElem = 3,<=0
value = -20,0

[State 1300, 5] 
type = PosAdd
trigger1 = AnimElem = 2 
trigger2 = AnimElem = 3 
trigger3 = AnimElem = 4 
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
x = 8

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3,19

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 8
value = 5,25

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 5,24

[State 201, 2]
type = PlaySnd
trigger1 = movehit = 1
value = s2001,0

[State 114, 5]
type = HitDef
trigger1 = AnimElem = 14
attr = S, HA
animtype = Hard
hitflag = MAF
guardflag = M
givepower = 15,15
damage = 50,10
pausetime = 5,5
sparkno = 2
sparkxy = -15,-60
guard.sparkno = 50
hitsound = s4,12
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0
guard.velocity = 0
air.velocity = -1,-6
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = .5
kill = 0
p2facing = 1
p2stateno = 3701
p1stateno = 3702

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 14
persistent = 0
anim = 1605
postype = P1
pos = 60,-60
sprpriority = 10
ignorehitpause = 1
bindtime = -1

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
[Statedef 3702]
type = S
movetype = A
physics = S
anim = 3702
poweradd = 0
velset = 0
ctrl = 0

[State 00]
type = BGPalfx
trigger1 = 1
ignorehitpause = 1
time = 5
mul = 0,0,0
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
trigger2 = time = 153
trigger3 = time = 218
ignorehitpause = 1
time = 5
value = 248,248,248
under = 2

[state a]
type = velset
trigger1 = pos x < -120
trigger1 = facing = 1
x = 7

[state a]
type = velset
trigger1 = pos x > -106
trigger1 = facing = 1
x = -7

[state a]
type = velset
trigger1 = pos x >= -120 && pos x <= -106
trigger1 = facing = 1
x = 0

[state a]
type = velset
trigger1 = pos x > 120
trigger1 = facing = -1
x = 7

[state a]
type = velset
trigger1 = pos x < 106
trigger1 = facing = -1
x = -7

[state a]
type = velset
trigger1 = pos x <= 120 && pos x >= 106
trigger1 = facing = -1
x = 0

[State 114, 15]
type = TargetBind
trigger1 = 1
pos = 60,0

[State 3492, ANIM2]
type = ChangeState
trigger1 = Animtime = 0
value = 3703

;--------------------------------------------------------------------------
[Statedef 3703]
type = S
movetype = A
physics = S
anim = 3703
poweradd = 0
velset = 0
ctrl = 0

[State 2000特殊断言-不显示前景]
type = AssertSpecial
trigger1 = 1
flag = NoFG
ignorehitpause = 1

[State 20012, 2]
type = VelSet
trigger1 = time = 148
x = 2.4
y = -3.3

[State 20012, 3]
type = VelAdd
trigger1 = time > 149
x = 0.3
y = .30

[State 20012, 1]
type = PlaySnd
trigger1 = Time = 0
value = 8,3

[State 20012, 2]
type = HitDef
trigger1 = AnimElem = 11
attr = S,HA
hitflag = MAF
damage = 15,5
givepower = 5,5
guardflag = MA
pausetime = 12,12
sparkno = 2
sparkxy = -30,-80
guard.sparkno = 42
hitsound = 5,1
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3475

[State 20012, 2]
type = HitDef
trigger1 = AnimElem = 14
attr = S,HA
hitflag = MAF
damage = 15,5
givepower = 5,5
guardflag = MA
pausetime = 12,12
sparkno = 2
sparkxy = -30,-30
guard.sparkno =50
hitsound = 5,1
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3477

[State 20012, 2]
type = HitDef
trigger1 = AnimElem = 17
attr = S,HA
hitflag = MAF
damage = 15,5
givepower = 5,5
guardflag = MA
pausetime = 12,14
sparkno = 2
sparkxy = -40,-67
guard.sparkno = 50
hitsound = 5,1
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3475

[State 20012, 2]
type = HitDef
trigger1 = AnimElem = 23
attr = S,HA
hitflag = MAF
damage = 15,5
givepower = 5,5
guardflag = MA
pausetime = 13,17
sparkno = 2
sparkxy = -20,-100
guard.sparkno = 50
hitsound = 5,1
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = -1
air.hittime = 30
air.velocity = 0,-2
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3477

[State 20012, 2]
type = HitDef
trigger1 = AnimElem = 29
attr = A,HA
animtype = Med
air.animtype = Med
givepower = 5,5
damage = 20,5
guardflag = MA
pausetime = 12,12
sparkno = 2
sparkxy = -30,-100
guard.sparkno = 50
hitsound = 5,3
guardsound =6,2
ground.type = high
ground.slidetime = 20
ground.hittime = 40
ground.velocity = -.4,-6
guard.velocity = 0
air.hittime = 30
air.velocity = -.3,-5
air.fall = 1
yaccel = .4
kill = 0
p2facing = 1
fall.recover =  0
p2facing = 1
p2stateno = 3750

[State 20012, 2]
type = HitDef
trigger1 = AnimElem = 34
attr = A,HA
hitflag = MAF
animtype = DiagUp
air.animtype = DiagUp
givepower = 5,5
damage = 28,5
guardflag = MAF
pausetime = 12,12
sparkno = 2
sparkxy = -25,-120
guard.sparkno = 50
hitsound = 5,4
guardsound = 6,2
ground.type = high
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -1,-12
guard.velocity = 0
air.hittime = 30
air.velocity = -1,-10
air.fall = 1
fall = 1
yaccel = .4
kill = 0
p2facing = 1
p2stateno = 3750
fall.recovertime = 100
fall.recover =  0

[State 20012, 6]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3704

;----------------------------------------------
[Statedef 3704]
type = S
movetype = I
physics = S
anim = 3704
velset = 0,0

[State 1640, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1640, 2]
type = PosAdd
trigger1 = Time = 0
x = 0

[State 2000特殊断言-不显示前景]
type = AssertSpecial
trigger1 = 1
flag = NoFG
ignorehitpause = 1

[State 52,着陆灰尘]
type = Explod
trigger1 = StageVar(info.author) != "water"
trigger1 = Time = 0
anim = f50
scale = .55,.55
pos = 0,0
ontop = 1
ownpal = 1
postype = p1
spacing = 1
sprpriority = 8
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1

[State 52, 着陆水花]
type = Explod
trigger1 = StageVar(info.author) = "water"
trigger1 = time = 0
anim = F22
postype = p1
pos = 20,0
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 52, 着陆声效]
type = PlaySnd
trigger1 = time  = 0
value = F47,(0+(StageVar(info.author) = "water"))

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3705

;----------------------------------------------
[Statedef 3705]
type = S
anim = 3705

[State 193, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 2000特殊断言-不显示前景]
type = AssertSpecial
trigger1 = 1
flag = NoFG
ignorehitpause = 1

[State 7000,explod ]
type = Explod
trigger1 = animelemtime(5) >= 0&&animelemtime(5) <= 289
anim = 901
sprpriority = 1
postype = p1
vel = 0,-2.5
random = 10,0
pos = 15,-118
bindtime = 1
supermove = 1
under = 0
ownpal = 1
scale = .3,.3
ignorehitpause = 0
removetime = -2

[State 202, 0]
type = PlaySnd
trigger1 = AnimElem = 6
value = 5,5

[State 202, 0]
type = PlaySnd
trigger1 = AnimElem = 6
value = 7,1

[State 1000, ]
type = Helper
trigger1 = time = 8
name = "iori1"
stateno = 3710
ID = 3710
helpertype = normal
pos = -200,1 
postype = p1 
facing = 1
ownpal = 1
keyctrl = 0

[state 20030]
type = Helper
trigger1 = animelem = 4
id = 3730
name = "Chizuru"
sprpriority = 2
pos = 285,0
postype = p1
facing = -1
stateno = 3730
helpertype = normal
keyctrl = 0 
ownpal = 1

[state 20030]
type = Helper
trigger1 = time = 304
id = 3720
name = "iori"
sprpriority = 2
pos = -130,0
postype = p1
stateno = 3720
helpertype = normal
keyctrl = 0 
ownpal = 1

[State 193, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 3706

;-------------------------------------------
[Statedef 3706]
type = S
movetype = A
physics = S
anim = 3706
velset = 0
ctrl = 0
facep2 = 1

[State 2000特殊断言-不显示前景]
type = AssertSpecial
trigger1 = Time = [0,179]
flag = NoFG
ignorehitpause = 1

[State 1100, 1]
type = Helper
trigger1 = AnimElem = 4
id = 3813
sprpriority = 10
postype = P1
pos = -11,-39
stateno = 3813
helpertype = normal
keyctrl = 0 
ownpal = 1
ontop = 1
persistent = 0

[State 2200, 3]
type = PlaySnd
trigger1 = time = 16
value = 3,16

[State 2200, 3]
type = PlaySnd
trigger1 = time = 130 
value = 200,0
volume = 50

[State 3005,1]
type = helper
trigger1 = animelem = 7
helpertype = normal
ID = 1009
pos = 0,0
postype = p1
stateno = 1009
keyctrl = 0
ownpal = 1
persistent = 0

[State 3500, 13]
type = AssertSpecial
trigger1 = Time = [6,35]
flag = Nofg
flag1 = noshadow
ignorehitpause = 1

[State 220, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 5,15
channel = 10

[State 2001, 2] 
type = PalFX
trigger1 = time = 37
time = 14
add = 20, 9,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 51
time = 14
add = 40, 18,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 65
time = 14
add = 60, 27,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 79
time = 14
add = 80, 36,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 93
time = 14
add = 100, 45,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 107
time = 14
add = 120, 54,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 121
time = 14
add = 140, 63,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 135
time = 14
add = 160, 72,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 149
time = 16
add = 180, 81,0

[State 2001, 2] 
type = PalFX
trigger1 = time = 165
time = 18
add = 200, 90,0

[State 2105, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 3803

;---------------------------------------------------------------------------
[Statedef 3707]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3707
ctrl = 0

[State 2000, 6]
type = PlaySnd
trigger1 = animelemtime(5) = 15
value = 195,0

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 5,75
value = S0,16

[State 2200, 4]
type = Explod
trigger1 = AnimElem = 5,75
anim = F10
postype = p2
pos = 0,-60
supermove = 1
sprpriority = 3
bindtime = 1

[State 1001,2]
type = helper
trigger1 = AnimElem = 5,75
helpertype = normal
ID = 3561
pos = 0,0
postype = p2
stateno = 3561
keyctrl = 0
ownpal = 1

[State 0, AfterImageProj]
type = Projectile   
trigger1 = AnimElem = 6
projremove = 0    
projremovetime = 18
projanim = 3709
projsupermove = 1 
projsprpriority = 3    
offset = 7,-120 
postype = p1
afterimage.time = -1 
afterimage.length = 8 
afterimage.palbright = 0,0,0 
afterimage.palcontrast = 250,200,50  
afterimage.paladd =  0,0,0
afterimage.palmul = .85,.75,.75
afterimage.timegap = 1  
afterimage.framegap = 2   
afterimage.trans = add

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nofg
flag1 = noshadow
flag2 = Nobg
ignorehitpause = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 3708

;--------------------------------------------------------
[Statedef 3708]
type = S
movetype = A
physics = S
anim = 3708
poweradd = 0
velset = 0
ctrl = 0
facep2 = 0

[State 2000特殊断言-不显示前景]
type = AssertSpecial
trigger1 = Time = [0,60]
flag = NoFG
ignorehitpause = 1

[State 202, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = 7,5

[State 20070, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------
[Statedef 3730]
type    = A
movetype= I
sprpriority = 2
physics = N
velset = 8,0
anim = 3730
ctrl = 0

[State 2000, 6];声音
type = PlaySnd
trigger1 = animelem = 1
value = s105,0

[State 2];结束
type = changestate
trigger1 = time = 12
value = 3731

;---------------------------------------------------------------------
[Statedef 3731]
type    = A
movetype= A
sprpriority = -1
physics = N
velset = 0,0
anim = 3731
ctrl = 0

[State 2000, 6];声音
type = PlaySnd
trigger1 = animelem = 1
value = s15,5
volume = 200

[State 2]
type = changestate
trigger1 = animtime = 0
value = 3732

;-----------------------------------------------------------
[Statedef 3732]
type    = S
movetype= A
sprpriority = -1
physics = N
velset = 0,0
anim = 3732
ctrl = 0

[state a];攻击1
type = Helper
trigger1 = time = 2
id = 3760
name = "分身"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3760
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];攻击2
type = Helper
trigger1 = time = 5
id = 3761
name = "分身"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3761
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];攻击3
type = Helper
trigger1 = time = 11
id = 3762
name = "分身"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3762
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];攻击4
type = Helper
trigger1 = time = 23
id = 3763
name = "分身"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3763
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];攻击5
type = Helper
trigger1 = time = 32
id = 3764
name = "分身"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3764
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];攻击6
type = Helper
trigger1 = time = 16
id = 3765
name = "分身"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3765
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];攻击7
type = Helper
trigger1 = time = 12
id = 3766
name = "分身"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3766
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];攻击8
type = Helper
trigger1 = time = 10
id = 3767
name = "分身"
sprpriority = 2
pos = 205,0
postype = p1
facing = -1
stateno = 3767
helpertype = normal
keyctrl = 0 
ownpal = 1

[State 2200, 3]
type = PlaySnd
trigger1 = time = 0
value = s15,6
volume = 200

[State 2]
type = changestate
trigger1 = time = 56
value = 3733

;--------------------------------------------------
[Statedef 3760]
type    = S
movetype= A
sprpriority = 2
physics = N
velset = 1,0
anim = 3760
ctrl = 0

[State 20350, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = S,HA
hitflag = MAF
damage = 10,5
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = -10,-20
guard.sparkno = 50
hitsound = 5,var(30)
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3475

[state a]
type = velset
trigger1 = animelem = 7
x = 0.1

[state a]
type = velset
trigger1 = animelem = 8
x = 0

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-(var(35)), (var(35))

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 30
range = 0,3

[state a];变量
type = varadd
trigger1 = animelem = 5,>=0
v = 35
value = 12

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 32
range = 0,12

[State 2];消灭自己
type = destroyself
trigger1 = animelemtime(8) = 10

;-----------------------------------------------------
[Statedef 3761]
type    = A
movetype= A
sprpriority = 2
physics = N
velset = 1,-3
anim = 3761
ctrl = 0

[State 20360, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S,HA
hitflag = MAF
damage = 10,5
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = 5,-65
guard.sparkno = 50
hitsound = 5,var(30)
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3477

[state a];位置加
type = posadd
trigger1 = animelem = 1 || animelem = 2
x = 10
y = -5

[state a]
type = velset
trigger1 = animelem = 2
y = -2

[state a]
type = velset
trigger1 = animelem = 3
y = 0.2

[state a]
type = velset
trigger1 = animelem = 4 
y = 0.5

[state a]
type = posadd
trigger1 =  animelem = 3 || animelem = 4
x = 8
y = 1

[state a]
type = posadd
trigger1 = animelem = 5
x = 0.1
y = 0.3

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-(var(35)), (var(35))

[state a];变量
type = varadd
trigger1 = animelem = 3,>=0
v = 35
value = 12

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 30
range = 0,3

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 32
range = 0,12

[State 2];消灭自己
type = destroyself
trigger1 = animelemtime(5) = 5

;---------------------------------------------
[Statedef 3762]
type    = S
movetype= A
sprpriority = 2
physics = N
velset = 7,0
anim = 3762
ctrl = 0

[State 20370, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S,HA
hitflag = MAF
damage = 10,5
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = -5,-90
guard.sparkno = 50
hitsound = 5,var(30)
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3475

[state a];速度
type = velset
trigger1 =  animelem = 3
x = 1

[state a];速度
type = velset
trigger1 =  animelem = 4
x = 0.5

[state a];速度
type = velset
trigger1 =  animelem = 5
x = 0

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-(var(35)), (var(35))

[state a];变量
type = varadd
trigger1 = animelem = 3,>=0
v = 35
value = 10

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 30
range = 0,3

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 32
range = 0,12

[State 2];消灭自己
type = destroyself
trigger1 = animelemtime(8) = 3

;---------------------------------------------
[Statedef 3763]
type    = A
movetype= A
sprpriority = 2
physics = N
velset = 2.5,-0.6
anim = 3763
ctrl = 0

[State 20380, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S,HA
hitflag = MAF
damage = 10,5
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = -7,-70
guard.sparkno = 50
hitsound =5,var(30)
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3477

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-(var(35)), (var(35))

[state a];变量
type = varadd
trigger1 = animelem = 3,>=0
v = 35
value = 9

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 30
range = 0,3

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 32
range = 0,12

[State 2];消灭自己
type = destroyself
trigger1 = animelemtime(7) = 2

;---------------------------------------------
[Statedef 3764]
type    = S
movetype= A
sprpriority = 2
physics = N
velset = 3,0
anim = 3764
ctrl = 0

[State 20390, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S,HA
hitflag = MAF
damage = 10,5
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = 4,-60
guard.sparkno = 50
hitsound = 5,var(30)
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3475

[state a]
type = velset
trigger1 = animelem = 4
x = 0.3

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-(var(35)), (var(35))

[state a];变量
type = varadd
trigger1 = animelem = 3,>=0
v = 35
value = 10

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 30
range = 0,3

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 32
range = 0,12

[State 2];消灭自己
type = destroyself
trigger1 = animelemtime(7) = 5

;---------------------------------------------
[Statedef 3765]
type    = S
movetype= A
sprpriority = 2
physics = N
velset = 1.2,0
anim = 3765
ctrl = 0

[State 20400, 2]
type = HitDef
trigger1 = AnimElem = 10
attr = S,HA
hitflag = MAF
damage = 12,5
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = 12,-80
guard.sparkno = 50
hitsound = 5,var(30)
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3477

[state a];位置加
type = velset
trigger1 = animelem = 10
x = 0

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-(var(35)), (var(35))

[state a];变量
type = varadd
trigger1 = animelem = 8,>=0
v = 35
value = 10

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 30
range = 0,3

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 32
range = 0,12

[State 2];消灭自己
type = destroyself
trigger1 = animelemtime(12) = 7

;---------------------------------------------
[Statedef 3766]
type    = S
movetype= A
sprpriority = 2
physics = N
velset = 0.3,0
anim = 3766
ctrl = 0

[State 20410, 2]
type = HitDef
trigger1 = AnimElem = 18
attr = S,HA
hitflag = MAF
damage = 15,5
guardflag = MA
pausetime = 5,5
sparkno = 2
sparkxy = 0,-30
guard.sparkno = 50
hitsound = 5,var(30)
guardsound = 6,2
ground.type = high
ground.slidetime = 10
ground.hittime = 20
ground.velocity = 0
air.hittime = 30
air.velocity = 0,-1
air.fall = 1
yaccel = .5
kill = 0
p2stateno = 3475

[state a]
type = velset
trigger1 = animelem = 10
x = 0

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 306-(var(35)), (var(35))

[state a];变量
type = varadd
trigger1 = animelem = 12,>=0
v = 35
value = 7

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 30
range = 0,3

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 32
range = 0,12

[State 2];消灭自己
type = destroyself
trigger1 = animelemtime(22) = 6

;-----------------------------------------
[Statedef 3767]
type    = S
movetype= A
sprpriority = 3
physics = N
velset = 0,0
anim = 3732
ctrl = 0

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0+(var(38)), 500-(var(38))

[state a];变量
type = varadd
trigger1 = time >=0
v = 38
value = 10

[State 2]
type = changestate
trigger1 = time = 46
value = 3768

;------------------------------------
[Statedef 3768]
type    = S
movetype= A
sprpriority = 2
physics = N
velset = 0,0
anim = 3768
ctrl = 0

[state a];移动
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = -6

[state a]
type = velset
trigger1 = animelem = 7
x = 13.5

[state a]
type = veladd
trigger1 = vel x > 0
x = -0.4

[state a]
type = velset
trigger1 = vel x <= 0
x = 0

[state a];透明
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(var(36)), (var(36))

[state a];变量
type = varadd
trigger1 = animelem = 9, >=0
v = 36
value = 10

[State 0, Helper]
type = Helper ;援助控制器
trigger1 = animelem = 8
helpertype = normal ;player 援助级别
stateno = 3769;statedef编号
pos = 45,-84 ;位置
postype = p1    ;p2,front,back,left,right 绑定位置
ownpal = 1 ;独立色表

[State 20480, 2]
type = HitDef
trigger1 = AnimElem = 8
attr = A,HA
hitflag = MAFD
animtype = Up
air.animtype = Up
givepower = 5,5
damage = 60,10
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = -15,-90
guard.sparkno = 50
hitsound = s4,12
guardsound = 6,2
ground.type = high
ground.slidetime = 20
ground.hittime = 200
ground.velocity = -0.7,-18
guard.velocity = 0
air.hittime = 30
air.velocity = -0.5,-17
air.fall = 1
fall = 1
yaccel = .4
kill = 0
p2stateno = 3750

[State 0, AfterImageProj]
type = Projectile    ;飞行道具控制器(做残影exp专用)
trigger1 = p2stateno = 3750
projanim = 3733
projscale = .7,.7   ;长宽比 不需要放大或缩小的话 这个不用管
projremove = 0     ;飞行道具不会移除 这个直接用我写的就行了
projremovetime = 32  ;*********移除时间一定要和光效结束的时间一样*********
projsprpriority = 10     ;**********光效所在的图层********
offset = 20,-70  ;************位置*********
postype = p2    ;**********参照物********
supermovetime = 0     ;*****超杀停顿的时候可以不受停顿干扰的时间****
afterimage.time = -1      ;*****残影时间 一般都是全时间残影-1就行了****
afterimage.length = 5    ;*****残影最多保存的数量*****
;afterimage.palbright = 0,0,0 ;*****这个一般0,0,0就行了*****
afterimage.palcontrast = 150,100,0  ;******三个值红绿蓝 残影刚刚出现的颜色*****
afterimage.paladd = -10,-20,-20 ;这个0,0,0就行了 默认值10,10,25
afterimage.palmul = .65,.50,.50  ;*****这个是主要让残影颜色变淡的参数 变淡的话三个值一定要比1小 例如默认值0.65,0.65,0.75*****
afterimage.timegap = 1   ;残影每1ticks都存一张
afterimage.framegap = 2   ;残影每一张动画图片都存一张
afterimage.trans = add;透明类型一般都是ADD
persistent = 0

[State 2];消灭自己
type = destroyself
trigger1 =  AnimTime = 0

;--------------------------------------------------------------
[Statedef 3733]
type    = S
movetype= A
sprpriority = 2
physics = N
velset = 0,0
anim = 3768
ctrl = 0

[state a];移动
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = -6

[state a]
type = velset
trigger1 = animelem = 7
x = 13.5

[state a]
type = veladd
trigger1 = vel x > 0
x = -0.4

[state a]
type = velset
trigger1 = vel x <= 0
x = 0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 7
value = s15,7
volume = 200

[State 20480, 2]
type = HitDef
trigger1 = AnimElem = 8
attr = A,HA
hitflag = MAFD
animtype = Up
air.animtype = Up
givepower = 5,5
damage = 60,10
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = -15,-90
guard.sparkno = 50
hitsound = s4,12
guardsound = 6,2
ground.type = high
ground.slidetime = 20
ground.hittime = 200
ground.velocity = 0.7,-18
guard.velocity = 0
air.hittime = 30
air.velocity = 0.5,-17
air.fall = 1
fall = 1
yaccel = .4
kill = 0
p2stateno = 3750

[State 0, AfterImageProj]
type = Projectile    ;飞行道具控制器(做残影exp专用)
trigger1 = movehit
projanim = 3733
projscale = .7,.7   ;长宽比 不需要放大或缩小的话 这个不用管
projremove = 0     ;飞行道具不会移除 这个直接用我写的就行了
projremovetime = 32  ;*********移除时间一定要和光效结束的时间一样*********
projsprpriority = 10     ;**********光效所在的图层********
offset = 20,-70  ;************位置*********
postype = p2    ;**********参照物********
supermovetime = 0     ;*****超杀停顿的时候可以不受停顿干扰的时间****
afterimage.time = -1      ;*****残影时间 一般都是全时间残影-1就行了****
afterimage.length = 5    ;*****残影最多保存的数量*****
;afterimage.palbright = 0,0,0 ;*****这个一般0,0,0就行了*****
afterimage.palcontrast = 150,100,0  ;******三个值红绿蓝 残影刚刚出现的颜色*****
afterimage.paladd = -10,-20,-20 ;这个0,0,0就行了 默认值10,10,25
afterimage.palmul = .65,.50,.50  ;*****这个是主要让残影颜色变淡的参数 变淡的话三个值一定要比1小 例如默认值0.65,0.65,0.75*****
afterimage.timegap = 1   ;残影每1ticks都存一张
afterimage.framegap = 2   ;残影每一张动画图片都存一张
afterimage.trans = add;透明类型一般都是ADD
persistent = 0

[State 0, Helper]
type = Helper ;援助控制器
trigger1 = animelem = 8
helpertype = normal ;player 援助级别
stateno = 3769;statedef编号
pos = 45,-84 ;位置
postype = p1    ;p2,front,back,left,right 绑定位置
ownpal = 1 ;独立色表

[state a];转向
type = turn
trigger1 = animtime = 0

[State 2]
type = changestate
trigger1 = animtime = 0
value = 3734

;----------------------------------------------------------------------------------------
[Statedef 3769];*********做绑定残影helper的状态号 不要重复*********
type = A
movetype = I
physics = N
anim = 3863;3369  ;*********做绑定动画残影的动画号*********
ctrl = 0
sprpriority = 10 ;光效所在的图层 高的盖住低的

[State 0, BindToRoot]
type = BindToparent ;和根人物绑定控制器
trigger1 = 1  ;绑定的条件
time = 1  ;绑定的时间 (如果需要全时间绑定 trigger1和time用我写好的就行了)
pos = 45,-84   ;绑定的坐标

[State 0, AfterImage]
type = AfterImage  ;残影控制器 直接参考我写好解释的afterimage就行了
trigger1 = time = 0
time = -1
length = 8
palbright = 0,0,0
palcontrast = 250,150,0
paladd = 25,10,10
palmul = .75,.60,.60
timegap = 1
framegap = 1
trans = add ;"none","add1","sub"

[State 0, Trans]
type = Trans    ;透明处理
trigger1 = 1
trans = add      ;透明的形势 ADD ADD1 ADDALPHA SUP

[State 0, DestroySelf]
type = DestroySelf ;毁灭自己控制器
trigger1 = animtime = 0 ;条件

;----------------------------------------------------
[Statedef 3734]
type    = A
movetype= A
sprpriority = 0
physics = N
velset = 0,0
anim = 3734
ctrl = 0

[State 2]
type = changestate
trigger1 = time = 40
value = 3735

;-----------------------------------------
[Statedef 3735]
type    = A
movetype= A
sprpriority = 0
physics = N
velset = 0,0
anim = 3735
ctrl = 0

[State 2000, 6];声音
type = PlaySnd
trigger1 = Animelem = 8
value = s15,8
volume = 0

[State 2]
type = changestate
trigger1 = animtime = 0
value = 3736

;----------------------------------------
[Statedef 3736]
type    = A
movetype= A
sprpriority = 0
physics = N
velset = 0,0
anim = 3736
ctrl = 0

[State 20340, 1];声音
type = PlaySnd
trigger1 = Animelem = 11 || Animelem = 15
value = s15,9

[State 2]
type = changestate
trigger1 = animtime = 0
value = 3737

;---------------------------------------------------------------------------
[Statedef 3737]
type    = A
movetype= I
sprpriority = 0
physics = N
velset = 0,0
anim = 3737
ctrl = 0

[state a]
type = velset
trigger1 = animelem = 3
x = -9
y = -6.3

[state a]
type = veladd
trigger1 = animelem = 5,>=4
y = 0.4

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 3
value = f40,0

[State 2]
type = destroyself
trigger1 = time = 60

;-----------------------------------------------------------------
[Statedef 3710]
type     = S
movetype = A
physics  = N
ctrl     = 0
anim     = 3710
sprpriority = 5

[State 1010, 0]
type = AfterImage
trigger1 = Time = 0
length = 8
PalBright = -20,-20,-20
PalContrast = 100,100,100
PalAdd = 0,0,0
TimeGap = 2
FrameGap = 1
Trans = Add
Time = 9999

[State 1001, 特殊断言]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;不显示游戏者的影子

[State 2200, 3]
type = PlaySnd
trigger1 = time = 0
value = s14,0
volume = 150

[State 1000, 速度设置]
type = Velset
trigger1 = time >= 0
x = 11

[State 1000, 速度设置]
type = Velset
trigger1 = time >= 23
x = 2

[state 100]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 240,255

[state 1000]
type = Helper
trigger1 = time = 23
id = 3711
name = "3711"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3711
helpertype = normal
keyctrl = 0 
ownpal = 1

[state 1000]
type = Helper
trigger1 = time = 39
id = 3712
name = "3712"
sprpriority = 2
pos = 0,0
postype = p1
stateno = 3712
helpertype = normal
keyctrl = 0 
ownpal = 1

[State 20220, 5]
type = ChangeState 
trigger1 = Time = 55 
value = 3713

;-----------------------------------------------------------------------
[Statedef 3711]
type     = S
movetype = A
physics  = N
juggle   = 0
ctrl     = 0
Velset   = 0,0
anim     = 3711
sprpriority = 5

[State 1001, 特殊断言]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;不显示游戏者的影子

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 201,2
volume = -120

[State 1010, 0]
type = AfterImage
trigger1 = Time = 0
length = 8
PalBright = -20,-20,-20
PalContrast = 100,100,100
PalAdd = 0,0,0
TimeGap = 2
FrameGap = 1
Trans = Add
Time = 9999

[State 700, 光]
type = Explod
trigger1 = time = 0
anim = 3715
postype = P1
pos = 0, 5
sprpriority = 10
ownpal = 1
bindtime = 1
supermove = 1
removeongethit = 1
trans = addalpha
alpha = 255,200

[State 3000, HitBy]
type = HitBy
trigger1 = 1  
time = 10
value = S, HP

[State 3000, 火柱]
type = Projectile
trigger1 = time = 0
projID = 3719
projanim = 3719
projremove = 0 
projpriority = 10  
projhitanim = -1  
projremanim = -1  
projsprpriority = 8  
projshadow = 0,0,0   
projremovetime = 34   
postype = p1
pos = 0, 0
getpower = 0
ownpal = 0
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 12,5
hitflag = MAFD
pausetime = 0,20
sparkno = 2
sparkxy = 10,-60
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.velocity = -4,-6
fall = 1
air.fall = 1
kill = 0
palfx.time = 30
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
p2facing = 1
p2stateno = 3755

[state 100]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100,255;230,255

[State 1000, 消灭自己]
type = DestroySelf
trigger1 = AnimTime = 0 

;------------------------------------------------------------------------------
[Statedef 3712]
type     = S
movetype = A
physics  = N
juggle   = 0
ctrl     = 0
Velset   = 0,0
anim     = 3711
sprpriority = 4

[State 1010, 0]
type = AfterImage
trigger1 = Time = 0
length = 8
PalBright = -20,-20,-20
PalContrast = 100,100,100
PalAdd = 0,0,0
TimeGap = 2
FrameGap = 1
Trans = Add
Time = 9999

[State 1001, 特殊断言]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;不显示游戏者的影子

[State 700, ]
type = Explod
trigger1 = time = 1
anim = 3716
postype = P2
pos = 0, 15
persistent = 0
sprpriority = 1
ownpal = 1
bindtime = 1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 201,2
volume = -120

[State 700, 光]
type = Explod
trigger1 = time = 0
anim = 3715
postype = P1
pos = 0, 5
sprpriority = 10
ownpal = 1
bindtime = 1
supermove = 1
removeongethit = 1
trans = addalpha
alpha = 255,200

[State 3000,火柱]
type = Projectile
trigger1 = time = 0
projID = 3719
projanim = 3719
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 9
projshadow = 0,0,0
projremovetime = 34
postype = p1
pos = 0, 0
getpower = 0
ownpal = 0
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 12,5
hitflag = MAFD
pausetime = 0,20
sparkno = 2
sparkxy = 10,-60
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
fall = 1
air.velocity = -4,-6
air.fall = 1
kill = 0
palfx.time = 30
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
p2facing = 1
p2stateno = 3755

[state 100]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100,255

[State 1000, 消灭自己]
type = DestroySelf
trigger1 = AnimTime = 0 

;-------------------------------------------------------------------------------
[Statedef 3713]
type     = S
movetype = A
physics  = N
juggle   = 0
ctrl     = 0
Velset   = 0,0
anim     = 3711
sprpriority = 5

[State 1001, 特殊断言]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;不显示游戏者的影子

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 201,2
volume = -120

[State 1010, 0]
type = AfterImage
trigger1 = Time = 0
length = 8
PalBright = -20,-20,-20
PalContrast = 100,100,100
PalAdd = 0,0,0
TimeGap = 2
FrameGap = 1
Trans = Add
Time = 9999

[State 700, 光]
type = Explod
trigger1 = time = 0
anim = 3715
postype = P1
pos = 0, 5
sprpriority = 10
ownpal = 1
bindtime = 1
supermove = 1
removeongethit = 1
trans = addalpha
alpha = 255,200

[State 3000,火柱]
type = Projectile
trigger1 = time = 0
projID = 3719
projanim = 3719
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 34
postype = p1
pos = 0, 0
getpower = 0
ownpal = 0
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 12,5
hitflag = MAFD
pausetime = 0,20
sparkno = 2
sparkxy = 10,-60
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
fall = 1
kill = 0
air.velocity = -4,-6
air.fall = 1
palfx.time = 30
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
kill = 0
p2facing = 1
p2stateno = 3756

[state 100]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100,255

[State 1000, 消灭自己]
type = DestroySelf
trigger1 = AnimTime = 0 

;---------------------------------------------------------------------------
[Statedef 3720]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3720
ctrl     = 0

[State 1000, 位置加]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, 速度设置]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 8.5

[State 1000, 速度设置]
type = Velset
trigger1 = AnimElem = 4
y = -1

[State 1000, 速度设置]
type = Velset
trigger1 = AnimElem = 7
y = 0.5

[State 1000, ]
type = Velset
trigger1 = AnimElemtime(8) > 7
y = 1

[State 1950]
type = HitDef
trigger1 = AnimElem = 10
attr = S,HP
getpower = 0
damage = 8,0
animtype = Hard
hitflag = MAFD
guardflag = M
priority = 5
pausetime = 0,0
sparkno = -1
sparkxy = -15,-65
hitsound = 800,0
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
p2facing = 1
p2stateno = 3745

[State 1000, ]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3721

;---------------------------------------------------------------------------
[Statedef 3721]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3721
ctrl     = 0
sprpriority = 1

[State 1100, 抓火花]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = F9
postype = P1
pos = 58,-30
sprpriority = 10

[State 1000, 速度设置]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, 位置加]
type = Posadd
trigger1 = AnimElem = 72
x = 20

[State 1100, 地面周围光]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 3715
postype = P1
pos = 50,5
sprpriority = 10
bindtime = 1
trans = addalpha
alpha = 220,180

[State 3121, 1]
type = Helper
trigger1 = AnimElem = 1
id = 8882
postype = p1
pos = 50, 0
sprpriority = 10
stateno = 11492
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999 
pausemovetime = 99999

[State 1000]
type = Explod
trigger1 = AnimElem = 1
anim = F63
facing = facing
ignorehitpause = 1
postype = p1
pos = 50,0
sprpriority = 7

[State 1100, 地面周围光]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 3717
postype = P1
pos = 55,5
sprpriority = 10
bindtime = -1
removetime = 176
trans = addalpha
alpha = 200,200

[state a]
type = Helper
trigger1 = AnimElemtime(10) = 1
id = 3741
sprpriority = 2
pos = 60,0
postype = p1
stateno = 3861
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3201, 0]
type =Explod
trigger1 = AnimElemtime(10) = 1
anim = 30501
sprpriority = 5
postype = Left
pos = -10,160
id=512
ownpal = 1
facing = 1
ontop = 1
ignorehitpause = 1
persistent = 0
trans = addalpha
alpha = 100,220
bindtime = -1
removetime = -1

[State 3201, 0]
type =Explod
trigger1 = AnimElemtime(10) = 1
anim = 30500
sprpriority = -10
postype = Left
pos = -10,100
id=512
ownpal = 1
facing = 1
ontop = 0
ignorehitpause = 1
persistent = 0
trans = addalpha
alpha = 100,220
bindtime = -1
removetime = -1

[State 810, 3目标位置绑定]
type = TargetBind
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3
pos = 48, -8

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 4
pos = 58, -15

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = 65, -28

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 61, -49

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 62, -79

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 63, -93

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 70, -109

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 10
pos = 70, -110

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 11
pos = 70, -113

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 12
pos = 72, -113

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(13) > 0 && AnimElemtime(65) < 0
pos = 72, -113

[State 810, 1目标生命加]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -6
absolute = 1
kill = 0

[State 810, 1目标生命加]
type = TargetLifeAdd
trigger1 = AnimElem = 14
trigger2 = AnimElem = 16
trigger3 = AnimElem = 19
trigger4 = AnimElem = 21
trigger5 = AnimElem = 24
trigger6 = AnimElem = 26
trigger7 = AnimElem = 29
trigger8 = AnimElem = 31
trigger9 = AnimElem = 34
trigger10 = AnimElem = 36
trigger11 = AnimElem = 39
trigger12 = AnimElem = 41
trigger13 = AnimElem = 44
trigger14 = AnimElem = 46
trigger15 = AnimElem = 49
trigger16 = AnimElem = 51
trigger17 = AnimElem = 54
trigger18 = AnimElem = 58
trigger19 = AnimElem = 62
value = -10
kill = 0

[State 2200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 14,4
volume = 180

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 28
value = s14,5
volume = 150

[State 200, 3]
type = PlaySnd
trigger1 = AnimElem = 10
value = s14,6
volume = -50

[State 200, 4]
type = PlaySnd
trigger1 = AnimElem = 66
value = s14,8

[State 2100, 特殊断言]
type = AssertSpecial
trigger1 = AnimElemtime(10) > 0 && AnimElemtime(68) < 0
flag = noshadow ;不显示游戏者的影子

[State 200, ]
type = HitDef
trigger1 = AnimElem = 68
attr = S, HA
damage = 150,0
animtype = Diagup
numhits = 0
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = -1
hitsound = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,-7.5
air.velocity = -6,-7.5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
p2stateno = 3854
palfx.time = 70
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 10
envshake.ampl = 7
envshake.freq = 80
kill = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0 ;动作动画播放结束
value = 3722

;---------------------------------------
[Statedef 3722]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 3722
ctrl     = 0
sprpriority = -1

[State -2, 0]
type = RemoveExplod
trigger1 = time=0
ID = 512
ignorehitpause = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0 ;动作动画播放结束
value = 3723

;-----------------------------------------
[Statedef 3790]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 3790
ctrl     = 0
sprpriority = -1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = s14,7
volume = 50
channel = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0 ;动作动画播放结束
value = 20270

;-----------------------------------------
[Statedef 3723]
type     = S
movetype = I
physics  = S
velset   = 0,0
anim     = 3723
ctrl     = 0
sprpriority = -1

[State 7000,explod ]
type = Explod
trigger1 = animelemtime(15) >=0 && animelemtime(15) <= 41
anim = 902
sprpriority = 5
postype = p1
vel = 0,-2.5
random = 10,0
pos = 32,-78
bindtime = 1
supermove = 1
under = 0
ownpal = 1
scale = .3,.3
ignorehitpause = 0
removetime = -2

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 15
value = s14,9
volume = 100

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0 ;动作动画播放结束
value = 3724

;------------------------------------------------
[Statedef 3724]
type    = A
movetype= I
sprpriority = 0
physics = N
velset = 0,0
anim = 3724
ctrl = 0

[state a]
type = velset
trigger1 = animelem = 2
x = -9
y = -7

[state a]
type = veladd
trigger1 = animelem = 3,>=2
y = 0.3

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 2
value = f40,0

[State 2]
type = destroyself
trigger1 = time = 60

;---------------------------------------------------------------------------
[Statedef 3745]
type    = S
movetype= H
physics = N
velset = 0,0

[State 700,]
type = Palfx
trigger1 = AnimElem = 5
time = 300
add = 50,0,170
mul = 170,170,170
sinadd = 95,95,95,15
color = 0
invertall = 1

[State -2, 火花]
type = Explod
trigger1 = animelemtime(5) >= 1
trigger1 = numexplod(80004)< 3
ID = 80004
anim = F3110
pos = 0,-25
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State -2, 火花]
type = Explod
trigger1 = animelemtime(5) >= 1
trigger1 = numexplod(80005)< 1 
ID = 80005
anim = F3090
pos = 0,-25
random = 90,90
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State -2, 火花]
type = Explod
trigger1 = animelemtime(5) >= 1
trigger1 = numexplod(80006)< 1 
ID = 80006
anim = F3100
pos = 0,-25
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State 52, 位置设置]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2120,屏幕边缘]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

[State 1830,改变动画2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3753+var(55)*30000

;---------------------------------------------------------------------------
[Statedef 3861]
type    = A
movetype= A
sprpriority = 2
physics = N
velset = 0,0
anim = 3861
ctrl = 0

[State 1010, 0]
type = AfterImage
trigger1 = Time = 0
length = 3
PalBright = 12,12,12
PalContrast = 120,120,120
PalAdd      = 0,0,0
TimeGap  = 1
FrameGap = 1
Trans = Add
time = 1

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,255

[State 2]
type = changeanim
trigger1 = time = ifelse(NumHelper(3741)=1,154,144)
value = 3862

[state a]
type = destroyself
trigger1 = animtime = 0
trigger1 = anim = 3862

;---------------------------------------------------------------------------
[Statedef 3803]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3803
sprpriority = 1
ctrl = 0

[State 2001, 2053]
type = removeExplod
trigger1 = Time = 0
ID = 3640

[State 2001, 2053]
type = removeExplod
trigger1 = Time = 0
ID = 3620

[State 3005,1]
type = helper
trigger1 = animelem = 1
helpertype = normal
ID = 1010
pos = 0,0
postype = p1
stateno = 1009
keyctrl = 0
ownpal = 1

[state a]
type = posadd
trigger1 = animelem = 8
trigger2 = animelem = 9
trigger3 = animelem = 10
trigger4 = animelem = 12
trigger5 = animelem = 13
trigger6 = animelem = 14
x = 4

[state a]
type = posadd
trigger1 = animtime = 0
x = 16

[State 3040, 7]
type = EnvColor
trigger1 = animelem = 10
ignorehitpause = 1
time = 10
value = 255,255,255
under = 2

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 10
time = 35
ampl = -14
freq = 95
phase = 95

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nofg
flag1 = noshadow
flag2 = Nobg
ignorehitpause = 1

[State 2200, 4]
type = Explod
trigger1 = AnimElem = 9
trigger1 = prevstateno = 3706
anim = 2250;2211
postype = p1
pos = 128,0
supermove = 1
sprpriority = -3
bindtime = 1
trans = addalpha
alpha = 200,255

[State 2200, 4]
type = Explod
trigger1 = AnimElem = 10
anim = F10
postype = p2
pos = 0,0
supermove = 1
sprpriority = 3
bindtime = 1

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 1
value = 13,4

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 10
value = 13,6

[State 801, 2]
type = Targetstate
trigger1 = animelem = 11
value = 3855

[state a]
type = targetlifeadd
trigger1 = animelem = 11
value = -80

[state a]
type = changestate
trigger1 = animtime = 0
trigger1 = enemy,var(54) = 1
value = 3805

[state a]
type = changestate
trigger1 = animtime = 0
value =3707

;---------------------------------------------------------------------------
[Statedef 3854]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 821, 1]
type = palfx
trigger1 = animelem = 7
trigger2 = animtime = 0
time =12
color = 16
ignorehitpause=1
add = 110,60,180
mul = 256,256,256
sinadd = 80,95,40,16
invertall = 0

[State -2, 火花]
type = Explod
trigger1 = numexplod(80004)< 1 
ID = 80004
anim = F3110
pos = 0,-30
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State -2, 火花]
type = Explod
trigger1 = numexplod(80005)< 1 
ID = 80005
anim = F3090
pos = 0,-30
random = 90,90
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State -2, 火花]
type = Explod
trigger1 = numexplod(80006)< 1 
ID = 80006
anim = F3100
pos = 0,-30
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = posadd
trigger1 = animelem = 4
x = -7
y = -15

[state a]
type = posadd
trigger1 = animelem = 5
x = -12
y = -35

[state a]
type = posadd
trigger1 = animelem = 6
x = -10
y = -20

[state a]
type = posadd
trigger1 = animelem = 7
x = -10
y = -10

[state a]
type = posadd
trigger1 = animelem = 8
x = 15
y = -35

[State 700, 2]
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3850+var(55)*30000

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------------------------------------------------------------
[Statedef 3855]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 821, 1]
type = palfx
trigger1 = 1
time=1
ignorehitpause=1
color = 16
add = 220,120,0
mul = 256,220,256
sinadd = 40,95,80,16

[State -2, 火花]
type = Explod
trigger1 =numexplod(80100)< 3  
ID = 80100
anim = F3002
pos = 0,-50
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State -2, 火花]
type = Explod
trigger1 =  numexplod(80101)< 1  
ID = 80101
anim = F3003
pos = 0,-50
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State -2, 火花]
type = Explod
trigger1 = numexplod(80102)< 1 
ID = 80102
anim = F3001
pos = 0,-50
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3
persistent = 1
ignorehitpause = 1

[State 700, 2]
type = HitBy
trigger1 = 1
value = SCA,HP,HT

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = animexist(5052+var(55)*30000) = 0
value = 5050+var(55)*30000

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = animexist(5052+var(55)*30000) = 1
value = 5052+var(55)*30000

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 15
trigger1 = animexist(5061+var(55)*30000) = 1
value = 5061+var(55)*30000

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 15
trigger1 = animexist(5062+var(55)*30000) = 0
trigger1 = animexist(5062+var(55)*30000) = 1
value = 5062+var(55)*30000

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = time = 0
x = -0.2
y = -18

[State 821, 1] 
type = VelAdd
Trigger1 = 1
y = .3

[State 821, 3]
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 3861]
type    = A
movetype= A
sprpriority = 2
physics = N
velset = 0,0
anim = 3861
ctrl = 0

[State 1010, 0]
type = AfterImage
trigger1 = Time = 0
length = 3
PalBright = 12,12,12
PalContrast = 120,120,120
PalAdd      = 0,0,0
TimeGap  = 1
FrameGap = 1
Trans = Add
time = 1

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,255

[State 2]
type = changeanim
trigger1 = time = ifelse(NumHelper(3741)=1,154,144)
value = 3862

[state a]
type = destroyself
trigger1 = animtime = 0
trigger1 = anim = 3862

;---------------------------------------------------------------------------
[Statedef 3805]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3805
ctrl = 0

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 6
value = 195,0

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nofg
flag1 = noshadow
flag2 = Nobg
ignorehitpause = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------
[Statedef 3813]
type = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = IsHelper(3813)*3813
sprpriority = 2

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state bind]
type = bindtoparent
trigger1 = 1&&IsHelper(3813)                                          
pos = -11,-39

[State 3401, 0]
type = AfterImage
trigger1 = Time = 0
length = 10
PalBright   =  32,20,2
PalContrast =  144,112,32
PalAdd      = -14,-14,-12
PalMul      = .85,.80,.50
TimeGap  = 2
FrameGap = 1
Trans = Add
time = 10

[State 1020, 0]
type = afterimagetime
trigger1 = 1
time = 2

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,255

[State 1010, 0]
type = destroyself
trigger1 = root, stateno != 3706
trigger2 = root,movetype = H
ignorehitpause = 1
persistent = 0

;--------------------------------------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef 3900]
type     = S
movetype = A
physics  = S
juggle   = 4
velset   = 0,0
anim     = 3900
ctrl     = 0
sprpriority = 2
poweradd = -2000
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 0
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 0
helpertype = normal
stateno = 24301
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2200, 8]
type = SuperPause
trigger1 = Time = 1
time = 60
movetime = 60
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 63
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 1
anim = f7300
ownpal = 1
facing = 1
postype = p1
pos = -15,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 1
anim = f7310
ownpal = 1
facing = 1
postype = p1
pos = -15,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 1
value = F9000, 3

[State a]
type = Width
trigger1 = 1
edge = 10,0

[State a]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 70

[State 0, Explod]
type = Explod
trigger1 = Animelem = 2
anim = 3910
postype = back
pos = 200,120
sprpriority = -10
shadow = 0
ownpal = 1
pausemovetime = 99999
supermovetime = 99999

[State a]
type = AssertSpecial
trigger1 = time = [0,70]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State a]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,57

;-----------
[State a]
type = Helper
trigger1 = AnimElem = 4
name = "shadow"
helpertype = normal
Pos = 13,-50
postype = p1
stateno = 3510
ID= 3510
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 80
supermovetime = 80

[State a]
type = Helper
trigger1 = animelem=5
name = "shadow"
helpertype = normal
Pos = 10,-60
postype = p1
stateno = 3511
ID= 3511
SprPriority = 5
keyctrl = 0
ownpal = 1
size.xscale = .47
size.yscale = .47
pausemovetime = 50
supermovetime = 50

[State a]
type = ChangeState
trigger1 = AnimTime = 0
value = 3901

;---------------------------------------------------------------------------
[Statedef 3901]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3901
ctrl     = 0

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 7
Fv = 4
value = 1
ignorehitpause = 1
persistent = 0

[State 114, 3]
type = ReversalDef
trigger1 = p2Movetype != H
trigger1 = AnimElem = 5
reversal.attr = SC, NA, SA, HA
numhits = 0
sparkno = 42
pausetime = 12,12
sparkxy = 0,0
hitsound = F6,1

[State 114, 11]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2
x = 10

[State 114, 12]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 114, 12]
type = PosAdd
trigger1 = AnimElem = 4
x = 5

[State 1000, ]
type = null;PlaySnd
trigger1 = AnimElem = 4
value = f2,4

[State a]
type =helper
trigger1 = AnimElem = 5
name = "shadow"
helpertype = normal
ID = 1615
pos = 79,-65
postype = p1
stateno = 1615
keyctrl = 0
ownpal = 1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
;-----------
[State a]
type = HitDef
persistent = 0
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
attr = S, HA
damage = 100, 5
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 30,34
guard.pausetime = 3,14
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -70
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -3,-8
guard.velocity = -10
air.type = High
air.velocity = -3,-8
air.hittime = 12
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 30
envshake.ampl = 6
envshake.freq = 90
p2facing = 1
kill = 0
id = 1260

[State 1000, p2GCRUSH]
type = targetstate
trigger1 = AnimElem = 5||AnimElem = 6
trigger1 = moveguarded
trigger1 = p2statetype != A
persistent = 0
ignorehitpause = 1
value = 190010
ctrl = 0

[State a]
type = TargetState
trigger1 = NumTarget(1260)
trigger1 = Target(1260),stateno != [120,159]
trigger1 = MoveHit
value = 3910

[state a]
type = changestate
trigger1 = NumTarget(1260)
trigger1 = Target(1260),stateno = 3910
value = 3902

[State a]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = IfElse(fvar(55)=1,0,1)

;---------------------------------------------------------------------------
[Statedef 3902]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3902
ctrl     = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
Fv = 4
value = 1
ignorehitpause = 1
persistent = 0

[State a]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1005, 4]
type = PosAdd
trigger1 = AnimElem = 1
x = 5

[State 1005, 4]
type = PosAdd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3
trigger2 = AnimElem = 4 || AnimElem = 5 || AnimElem = 6
x = 10

[State 1005, 4]
type = PosAdd
trigger1 = AnimElem = 9 || AnimElem = 10 || AnimElem = 11
x = 10

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = f0,4

[State a]
type = helper
trigger1 = AnimElem = 5
name = "shadow"
helpertype = normal
ID = 1616
pos = 55,-60
postype = p1
stateno = 1616
keyctrl = 0
ownpal = 1

[State 200, qbg`]
type = HitDef
getpower = 0
trigger1 = time = 0
attr = S, HA
damage = 100,6
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,12
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -70
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -5
air.velocity = -3,-8
yaccel = .46
air.hittime = 12
fall = 0
fall.recovertime = 60
kill = 0
id = 21005
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
envshake.time = 30
envshake.ampl = 6
envshake.freq = 90

[State 1000, ]
type = PlaySnd
trigger1 = Movehit
value = 3900,0
persistent = 0
ignorehitpause = 1

[State a]
type = ChangeState
trigger1 = animelem = 10;AnimTime = 0
value = 3903

;---------------------------------------------------------------------------
[Statedef 3903]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3903
ctrl     = 0

[State a]
type = NotHitBy
trigger1 = 1
value = SCA

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = f0,4

[State 210, IL]
type = Width
trigger1 = 1
edge = 25,0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 2 | AnimElem = 3 | AnimElem = 4
x = 10

[State a]
type = helper
trigger1 = AnimElem = 4
name = "shadow"
helpertype = normal
ID = 1616
pos = 35,-60
postype = p1
stateno = 1616
keyctrl = 0
ownpal = 1

[State 200, qbg`]
type = HitDef
getpower = 0
trigger1 = time = 0
attr = S, HA
damage = 100,6
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,12
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -65
hitsound = 5,4
guardsound = 6,1
ground.type = low
ground.slidetime = 29
ground.hittime  = 29
ground.velocity = -5
air.velocity = -3,-5
air.hittime = 12
air.fall = 1
fall.recovertime = 40
id = 21005
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
kill = 0
envshake.time = 30
envshake.ampl = 6
envshake.freq = 90

[State 1000, ]
type = PlaySnd
trigger1 = Movehit
value = 3900,0
persistent = 0
ignorehitpause = 1

[State a]
type = ChangeState
trigger1 = animelem = 7;AnimTime = 0
value = 3904

;---------------------------------------------------------------------------
[Statedef 3904]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3904
ctrl     = 0

[State a]
type = NotHitBy
trigger1 = 1
value = SCA

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = f0,4

[State 210, IL]
type = Width
trigger1 = 1
edge = 25,0

[State a]
type = helper
trigger1 = AnimElem = 4
name = "shadow"
helpertype = normal
ID = 1615
pos = 45,-65
postype = p1
stateno = 1615
keyctrl = 0
ownpal = 1

[State 200, qbg`]
type = HitDef
getpower = 0
trigger1 = time = 0
attr = S, HA
damage = 100,6
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 9,12
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -65
hitsound = 5,4
guardsound = 6,1
ground.type = low
ground.slidetime = 29
ground.hittime  = 29
ground.velocity = -3
air.velocity = -3,-5
air.hittime = 12
air.fall = 1
fall.recovertime = 40
id = 21005
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
kill = 0
envshake.time = 30
envshake.ampl = 6
envshake.freq = 90

[State 1000, ]
type = PlaySnd
trigger1 = Movehit
value = 3900,0
persistent = 0
ignorehitpause = 1

[State a]
type = ChangeState
trigger1 = AnimTime = 0
value = 3905

;---------------------------------------------------------------------------
[Statedef 3905]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3905
ctrl     = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 5

[State a]
type = NotHitBy
trigger1 = 1
value = SCA

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = f0,4

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3900,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,42
channel = 4

[State a]
type = helper
trigger1 = AnimElem = 6
name = "shadow"
helpertype = normal
ID = 2252
pos = 30,3
postype = p1
stateno = 2250
keyctrl = 0
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 6
time = 30
ampl = 6
freq = 90

[State 210, IL]
type = Width
trigger1 = 1
edge = 25,0

[State a]
type = Helper
trigger1 = AnimElem = 6
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, qbg`]
type = HitDef
getpower = 0
trigger1 = time = 0
attr = S, HA
damage = 50,6
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 12,22
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -70
hitsound = 5,4
guardsound = 6,1
ground.type = low
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = 0
air.velocity = -3,-5
air.hittime = 12
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
kill = 0
envshake.time = 10
envshake.ampl = 6
envshake.freq = 90

[State a]
type = ChangeState
trigger1 = Animtime = 0
value = 3906

;---------------------------------------------------------------------------
[Statedef 3906]
type     = S
movetype = A
physics  = S
poweradd = 0
velset   = 0,0
anim     = 3906
ctrl     = 0

[state 1]
type = Palfx
trigger1 = AnimElem = 1
time = 70
add = 200,90,10
color = 1
ignorehitpause = 1

[State 2110, c]
type = AfterImage
trigger1 = AnimElem = 1
time = 40
length = 8
FrameGap = 2
PalBright = 0,0,0
palcolor = 1
PalContrast = 255,255,50
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State a]
type = EnvColor
triggerall = random%3 =0
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
trigger8 = AnimElem = 11
trigger9 = AnimElem = 13
time = 1
value = 255,255,255

[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 15
Fv = 4
value = 1
ignorehitpause = 1
persistent = 0

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 14
value = 3900,2

[State 210, IL]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
x = 20

[State 1000, u]
type = Velset
trigger1 = AnimElem = 2
x = 3.8
y = -4.5

[State 1000, u]
type = VelAdd
trigger1 = AnimElemtime(2) > 0
y = .12

[State 1000, u]
type = VelAdd
trigger1 = AnimElemtime(15) > 0
y = .42

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State a]
type = helper
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 14
name = "shadow"
helpertype = normal
ID = 1110
pos = 0,0
postype = p1
stateno = 1110
;keyctrl = 0
ownpal = 1

[State a]
type = helper
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
trigger3 = AnimElem = 18
name = "shadow"
helpertype = normal
ID = 1115
pos = -10,15
postype = p1
stateno = 1115
;keyctrl = 0
ownpal = 1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 1
getpower = 0
attr = S, HA
damage =50,10
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11,14
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -60
hitsound = 5,1
guardsound = 6,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.velocity = -9
ground.velocity = -1
air.velocity = -3,-5
air.type = High
air.hittime = 12
air.fall = 1
fall.recovertime = 30
id = 21005
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
trigger7 = AnimElem = 11
trigger8 = AnimElem = 13
getpower = 0
attr = A, HA
damage = 10,1
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1,2
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -60
hitsound = 5,1
guardsound = 6,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-4.5
air.velocity = 0,-4.5
guard.velocity = -9
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 60
id = 21005
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
kill = 0

[State a]
type = Helper
trigger1 = AnimElem = 14
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 14
getpower = 0
attr = A, HA
damage = 40,5
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 21,21
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -60
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-11
air.velocity = -3.2,-11
guard.velocity = -9
yaccel = .5
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 60
id = 21005
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 4200
p2getp1state = 0
envshake.time = 30
envshake.ampl = 6
envshake.freq = 90

[State 1000, ]
type = PlaySnd
trigger1 = Movehit = 1
value = 3900,0
ignorehitpause = 1
persistent = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3907

;---------------------------------------------------------------------------
[Statedef 3907]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3907
ctrl     = 0
sprpriority = 2


[State 52,着陆灰尘]
type = Explod
trigger1 = StageVar(info.author) != "water"
trigger1 = Time = 0
anim = f50
scale = .55,.55
pos = 0,0
ontop = 1
ownpal = 1
postype = p1
spacing = 1
sprpriority = 8
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1

[State 52, 着陆水花]
type = Explod
trigger1 = StageVar(info.author) = "water"
trigger1 = time = 0
anim = F22
postype = p1
pos = 20,0
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 52, 着陆声效]
type = PlaySnd
trigger1 = time  = 0
value = F47,(0+(StageVar(info.author) = "water"))


[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = IfElse(fvar(55)=1,0,1)

;---------------------------------------------------------------------------
[Statedef 3910]
type     = S
movetype = H
physics  = N
velset   = 0,0
ctrl     = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 14200]
type = posadd
trigger1 = time %4 = 0
x = 1

[State 14200]
type = posadd
trigger1 = time %4 = 2
x = -1

[State a]
type = ChangeAnim
trigger1 = 1
value = 5010+var(55)*30000

;============================================================
[Statedef 24300]
type = A
movetype = I
physics = N
anim = 99999
velset = 0, 0
ctrl = 0

[State 3020, 1]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28001)
triggerall = teamside = 1
trigger1 = !time
anim = F28001
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28001)
triggerall = teamside = 1
trigger1 = !time
anim = F28001
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28002)
triggerall = teamside = 1
trigger1 = !time
anim = F28002
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28002)
triggerall = teamside = 1
trigger1 = !time
anim = F28002
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28003)
triggerall = teamside = 1
trigger1 = !time
anim = F28003
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28003)
triggerall = teamside = 1
trigger1 = !time
anim = F28003
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28004)
triggerall = teamside = 1
trigger1 = !time
anim = F28004
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28004)
triggerall = teamside = 1
trigger1 = !time
anim = F28004
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28005)
triggerall = teamside = 1
trigger1 = !time
anim = F28005
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28005)
triggerall = teamside = 1
trigger1 = !time
anim = F28005
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28006)
triggerall = teamside = 1
trigger1 = !time
anim = F28006
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28006)
triggerall = teamside = 1
trigger1 = !time
anim = F28006
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28007)
triggerall = teamside = 1
trigger1 = !time
anim = F28007
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28007)
triggerall = teamside = 1
trigger1 = !time
anim = F28007
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28011)
triggerall = teamside = 2
trigger1 = !time
anim = F28011
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28011)
triggerall = teamside = 2
trigger1 = !time
anim = F28011
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28012)
triggerall = teamside = 2
trigger1 = !time
anim = F28012
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28012)
triggerall = teamside = 2
trigger1 = !time
anim = F28012
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28013)
triggerall = teamside = 2
trigger1 = !time
anim = F28013
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28013)
triggerall = teamside = 2
trigger1 = !time
anim = F28013
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28014)
triggerall = teamside = 2
trigger1 = !time
anim = F28014
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28014)
triggerall = teamside = 2
trigger1 = !time
anim = F28014
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28015)
triggerall = teamside = 2
trigger1 = !time
anim = F28015
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28015)
triggerall = teamside = 2
trigger1 = !time
anim = F28015
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28016)
triggerall = teamside = 2
trigger1 = !time
anim = F28016
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28016)
triggerall = teamside = 2
trigger1 = !time
anim = F28016
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28017)
triggerall = teamside = 2
trigger1 = !time
anim = F28017
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28017)
triggerall = teamside = 2
trigger1 = !time
anim = F28017
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 4300]
type = RemoveExplod
trigger1 = root,StateNo != [3400,3420]
trigger1 = root,StateNo != [3600,3630]
trigger1 = root,StateNo != [3700,3803]
id = 8000

[State Snd]
type = PlaySnd
trigger1 = root,StateNo != [3400,3420]
trigger1 = root,StateNo != [3600,3630]
trigger1 = root,StateNo != [3700,3803]
value = F23997,3
persistent = 0

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
triggerall = teamside = 1
trigger1 = root,StateNo != [3400,3420]
trigger1 = root,StateNo != [3600,3630]
trigger1 = root,StateNo != [3700,3803]
anim = F24293
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
triggerall = teamside = 2
trigger1 = root,StateNo != [3400,3420]
trigger1 = root,StateNo != [3600,3630]
trigger1 = root,StateNo != [3700,3803]
anim = F24294
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = DestroySelf
triggerall = Time > 0
trigger1 = root,StateNo != [3400,3420]
trigger1 = root,StateNo != [3600,3630]
trigger1 = root,StateNo != [3700,3803]
;============================================================
[Statedef 24301]
type = A
movetype = I
physics = N
anim = 99999
velset = 0, 0
ctrl = 0

[State 191]
type = AssertSpecial
trigger1 = 1
flag = nobg
flag2 = nofg

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = F99910
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 4300]
type = RemoveExplod
trigger1 = root,stateno != [3500,3502]
trigger1 = root,stateno != [3900,3906]
trigger2 = root,StateNo = 3906 && root,animelemtime(15) = 1
id = 8000

[State Snd]
type = PlaySnd
trigger1 = root,stateno != [3500,3502]
trigger1 = root,stateno != [3900,3906]
trigger2 = root,StateNo = 3906 && root,animelemtime(15) = 1
value = F23997,3
persistent = 0

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
trigger1 = root,stateno != [3500,3502]
trigger1 = root,stateno != [3900,3906]
trigger2 = root,StateNo = 3906 && root,animelemtime(15) = 1
anim = F24292
scale = 1.2,1
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = DestroySelf
triggerall = Time > 0
trigger1 = root,stateno != [3500,3502]
trigger1 = root,stateno != [3900,3906]
trigger2 = root,StateNo = 3906 && root,animelemtime(15) = 1