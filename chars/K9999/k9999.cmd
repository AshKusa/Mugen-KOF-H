;------| TAG |------------------------------------------------------
[Command]
name = "ｻｻﾈﾋ"
command = ~B, F, B, F, s
time = 30

[Command]
name = "ﾔｮｻ､ｹ･ｻA"
command = ~D, DF, F, D, DF, F, s
time = 30

[Command]
name = "ﾔｮｻ､ｹ･ｻB"
command = ~D, DB, B, D, DB, B, s
time = 30
;------------------------------------------------------------------
;-| AI |------------------------------------------------------
[Command]
name = "AI0"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI1"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI2"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI3"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI4"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI5"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI6"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI7"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI8"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI9"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI10"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI11"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI12"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI13"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI14"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI15"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI16"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI17"
command = a,B,c,x,y,z,s,B,D,F,U,a,b,c,x,y,z,s,s
time = 0
[Command]
name = "AI18"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI19"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b
time = 0
[Command]
name = "AI20"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI21"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI22"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI23"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI24"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI25"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F
time = 0
[Command]
name = "AI26"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D
time = 0
[Command]
name = "AI27"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B
time = 0
[Command]
name = "AI28"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U
time = 0
[Command]
name = "AI29"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
time = 0
[Command]
name = "AI30"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c
time = 0
[Command]
name = "AI31"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x
time = 0
[Command]
name = "AI32"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y
time = 0
[Command]
name = "AI33"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI34"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s
time = 0
[Command]
name = "AI35"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI36"
command = z,z,z,z,z,z,a,a,a,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI37"
command = z,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,z,z,z
time = 0
[Command]
name = "AI38"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z
time = 0
[Command]
name = "AI39"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI40"
command = z,z,z,z,a,a,a,z,z,z,z,a,z,z,a,a,z,z,z
time = 0
[Command]
name = "AI41"
command = z,z,z,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z,z
time = 0
[Command]
name = "AI42"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI43"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,a,a,z
time = 0
[Command]
name = "AI44"
command = z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,a,a,a,z
time = 0
[Command]
name = "AI45"
command = z,z,z,z,z,z,a,a,z,z,z,z,z,a,a,a,a,z,z
time = 0
[Command]
name = "AI46"
command = z,z,z,z,z,z,z,z,a,a,a,a,a,a,z,z,z,z,z
time = 0
[Command]
name = "AI47"
command = z,z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,z,z,z
time = 0
[Command]
name = "AI48"
command = z,z,z,z,z,a,a,a,z,z,z,a,a,a,z,z,a,z,a
time = 0
[Command]
name = "AI49"
command = z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z,z
time = 0
[Command]
name = "AI50"
command = z,z,z,a,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z
time = 0
;===========================================================================
; CMD file for K9999 
;===========================================================================

;-| Super Motions |---------------------------------------------------------

[Command]
name = "tuki"
command = ~D,F, D,F, x
time = 35

[Command]
name = "tuki"
command = ~D,F, D,F, y
time = 35

[Command]
name = "ittimae_ab"
command = ~D,F, D,F, c
time = 35

[Command]
name = "ittimae_z"
command = ~D,F, D,F, a+b
time = 35

[Command]
name = "ittimae"
command = ~D,F, D,F, a
time = 35

[Command]
name = "ittimae"
command = ~D,F, D,F, b
time = 35

[Command]
name = "tikaraga"
command = ~D, F, D, F, x+y
time = 35

[Command]
name = "kore"
command = ~D, B, D, B, c
time = 30

[Command]
name = "bachiyan"
command = ~D, B, D, F, c
time = 30

[Command]
name = "yanao"
command = ~D, F, D, B, c
time = 30

;-| Special Motions |-------------------------------------------------------

[Command]
name = "atti_x"
command = ~D, DF, F, x
time = 15

[Command]
name = "atti_y"
command = ~D, DF, F, y
time = 15

[Command]
name = "warero_x"
command = ~F, DF, F,x
time = 20

[Command]
name = "warero_y"
command = ~F, DF,F, y
time = 20

[Command]
name = "kudakero_a"
command = ~D, DB, B, a 
time = 15

[Command]
name = "kudakero_b"
command = ~D, DB, B, b
time = 15

[Command]
name = "gaki_a"
command = ~D, DF, F, a
time = 15

[Command]
name = "gaki_b"
command = ~D, DF, F, b
time = 15

[Command]
name = "meirei_x"
command = ~D, DB, B, x
time = 15

[Command]
name = "meirei_y"
command = ~D, DB, B, y
time = 15

;-| Button Combination |----------------------------------------------------

[Command]
name = "ax"
command = a+x
time = 1

[Command]
name = "by"
command = b+y
time = 1

[Command]
name = "abc"
command = a+b+c
time = 1

[Command]
name = "xyz"
command = x+y+z
time = 1

;-| Dir + Button |----------------------------------------------------------

[Command]
name = "fwd_a"
command = /F,a
time = 1

[Command]
name = "fwd_b"
command = /F,b
time = 1

[Command]
name = "fwd_x"
command = /F,x
time = 1

[Command]
name = "fwd_y"
command = /F,y
time = 1

[Command]
name = "fwd_s"
command = /F,s
time = 1

[Command]
name = "back_b"
command = /B,b
time = 1

[Command]
name = "back_a"
command = /B,a
time = 1

[Command]
name = "back_x"
command = /B,x
time = 1

[Command]
name = "back_y"
command = /B,y
time = 1

[Command]
name = "downfwd_a"
command = /DF,a
time = 1

[Command]
name = "downfwd_y"
command = /DF,y
time = 1

;-| Single Button |---------------------------------------------------------

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

[Command]
Name = "fwd"
Command = F
Time = 1

[Command]
Name = "back"
Command = B
Time = 1

[Command]
Name = "up"
Command = U
Time = 1

[Command]
Name = "down"
Command = D
Time = 1

;-| Do not remove! |--------------------------------------------------------

[Command]
name = "recovery"
command = x+y
time = 1

[Command]
name = "recovery"
command = z
time = 1

[Command]
name = "ay"
command = a+y
time = 1

[Command]
name = "FF"
command = F, F
time = 10

[Command]
name = "BB"
command = B, B
time = 10

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup"
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

[Command]
name = "longjump"
command = D, $U
time = 18
;===========================================================================

[Statedef -1]
;---------------------------------------------------------------------------
;============================================================================= 

[State -1]
type = ChangeState
value = 1990
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype != A
triggerall = stateno != [800,899)
triggerall = command = "ay"
trigger1 = stateno != 1990 && (stateno = [0,999]) && movecontact

[State -1]
type = ChangeState
value = 1991
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype != A
triggerall = command = "ay"
trigger1 = ctrl || stateno = 100

; air(ｿﾕﾖﾐ)
[State -1]
type = ChangeState
value = 1992
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype= A
triggerall = stateno != [800,899)
triggerall = command = "ay"
trigger1 = stateno != 1992 && (stateno = [0,999])

;------------------------------------------------------------------------------
[State -1, yanxing]
type = ChangeState
value = 3700 
triggerall = command = "bachiyan"
triggerall = power >= 2000
triggerall = statetype != A
trigger1 = fvar(30) > 0
trigger1 = ctrl 
trigger2 = stateno = 100 && fvar(29) > 1000
trigger3 = movecontact && fvar(29) > 1000
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact && fvar(29) > 1000
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact && fvar(29) > 1000
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0) && fvar(29) > 1000
trigger6 = (stateno = 3010) && animelem = 7,>=0 && fvar(29) > 1000
trigger7 = (stateno = 3016) && animelem = 6,>=0 && fvar(29) > 1000
trigger8 = stateno = 217 || stateno = 218&& animelem = 6,>=0 && fvar(29) > 1000
trigger9 = (stateno = 3015) && animelem = 7,>=0 && fvar(29) > 1000

[State -1, yanxing]
type = ChangeState
value = 3400
triggerall = command = "yanao"
triggerall = power >= 2000
triggerall = statetype != A
trigger1 = fvar(30) > 0
trigger1 = ctrl 
trigger2 = stateno = 100 && fvar(29) > 1000
trigger3 = movecontact && fvar(29) > 1000
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact && fvar(29) > 1000
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact && fvar(29) > 1000
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0) && fvar(29) > 1000
trigger6 = (stateno = 3010) && animelem = 7,>=0 && fvar(29) > 1000
trigger7 = (stateno = 3016) && animelem = 6,>=0 && fvar(29) > 1000
trigger8 = stateno = 217 || stateno = 218&& animelem = 6,>=0 && fvar(29) > 1000
trigger9 = (stateno = 3015) && animelem = 7,>=0 && fvar(29) > 1000
;---------------------------------------------------------------------------
; 力が・・・勝手に・・・ぅわあああ！！
[State -1]
type = ChangeState
value = 3020
triggerall = command = "tikaraga"
triggerall = power >= ifelse(fvar(30) > 0,1000,2000)
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0)
trigger6 = stateno = 217 || stateno = 218&& animelem = 6,>=0
trigger7 = (stateno = 3010) && animelem = 7,>=0
trigger8 = (stateno = 3016) && animelem = 6,>=0
;---------------------------------------------------------------------------
; これは・・・まるで・・・:AKOF
[State -1]
type = ChangeState
value = 3030
triggerall = command = "kore"
triggerall = power >= 2000
triggerall = statetype != A
trigger1 = fvar(30) > 0
trigger1 = ctrl 
trigger2 = stateno = 100 && fvar(29) > 1000
trigger3 = movecontact && fvar(29) > 1000
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact && fvar(29) > 1000
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact && fvar(29) > 1000
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0) && fvar(29) > 1000
trigger6 = (stateno = 3010) && animelem = 7,>=0 && fvar(29) > 1000
trigger7 = (stateno = 3016) && animelem = 6,>=0 && fvar(29) > 1000
trigger8 = stateno = 217 || stateno = 218&& animelem = 6,>=0 && fvar(29) > 1000
trigger9 = (stateno = 3015) && animelem = 7,>=0 && fvar(29) > 1000
;---------------------------------------------------------------------------
; てめぇも往っちまえ！！MAX
[State -1]
type = ChangeState
value = 3015
triggerall = command = "ittimae_z"
triggerall = power >= ifelse(fvar(30) > 0,1000,2000)
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0)
trigger6 = (stateno = 3010) && animelem = 7,>=0
trigger7 = (stateno = 3016) && animelem = 6,>=0
trigger8 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; 月・・・！
[State -1]
type = ChangeState
value = 3000
triggerall = command = "tuki"
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0)
trigger6 = Var(7) = 4
trigger6 = (stateno = [200,235]) || (stateno = [400,430])
trigger7 = Var(7) = 4 && movecontact
trigger7 = stateno = 330
trigger8 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; てめぇも往っちまえ！！MAX
[State -1]
type = ChangeState
value = 2150;3015
triggerall = command = "ittimae_ab"
triggerall = power >= 2000 
triggerall = statetype != A
trigger1 = fvar(30) > 0
trigger1 = ctrl 
trigger2 = stateno = 100 && fvar(29) > 1000
trigger3 = movecontact && fvar(29) > 1000
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact && fvar(29) > 1000
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact && fvar(29) > 1000
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0) && fvar(29) > 1000
trigger6 = (stateno = 3010) && animelem = 7,>=0 && fvar(29) > 1000
trigger7 = (stateno = 3016) && animelem = 6,>=0 && fvar(29) > 1000
trigger8 = stateno = 217 || stateno = 218&& animelem = 6,>=0 && fvar(29) > 1000
trigger9 = (stateno = 3015) && animelem = 7,>=0 && fvar(29) > 1000
;---------------------------------------------------------------------------
; てめぇも往っちまえ！！
[State -1]
type = ChangeState
value = 3010
triggerall = command = "ittimae"
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300 || (stateno = 330 && AnimElem = 7,< 0)
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = movecontact
trigger5 = ((stateno = [1000,1005]) && Time < 29) || ((stateno = [1010,1015]) && AnimElem = 9,< 0)
trigger6 = Var(7) = 4
trigger6 = (stateno = [200,235]) || (stateno = [400,430])
trigger7 = Var(7) = 4 && movecontact
trigger7 = stateno = 330 || stateno = [1000,3000)
trigger8 = stateno = 217 || stateno = 218&& animelem = 6,>=0

;---------------------------------------------------------------------------
; 割れろォ！弱
[State -1]
type = ChangeState
value = 1010
triggerall = command = "warero_x" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; 割れろォ！強
[State -1]
type = ChangeState
value = 1015
triggerall = command = "warero_y" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0

; 砕けろォ！弱
[State -1]
type = ChangeState
value = 1100
triggerall = command = "kudakero_a" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; 砕けろォ！強
[State -1]
type = ChangeState
value = 1105
triggerall = command = "kudakero_b" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0


; ガキどもぉ！弱
[State -1]
type = ChangeState
value = 1200
triggerall = command = "gaki_a" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; ガキどもぉ！強
[State -1]
type = ChangeState
value = 1205
triggerall = command = "gaki_b" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; あっちへいってろォ！弱
[State -1]
type = ChangeState
value = 1000
triggerall = command = "atti_x" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; あっちへいってろォ！強
[State -1]
type = ChangeState
value = 1005
triggerall = command = "atti_y" 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0

;---------------------------------------------------------------------------
; 割れろォ！弱
[State -1]
type = ChangeState
value = 1300
triggerall = (command = "meirei_x" || command = "meirei_y") 
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0

;---------------------------------------------------------------------------
; 割れろォ！弱
[State -1]
type = ChangeState
value = 1700
triggerall = (command = "kudakero_a" || command = "kudakero_b") 
trigger1 = ctrl && statetype = A
trigger2 = movecontact
trigger2 = stateno = [600,699]

;---------------------------------------------------------------------------
; 緊急回避
[State -1]
type = ChangeState
value = ifelse(command = "holdback",815,810)
triggerall = command = "ax" || command = "z"
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
;---------------------------------------------------------------------------
; ふっとばし攻撃
[State -1]
type = ChangeState
value = ifelse(statetype != A,300,310)
triggerall = command = "by" || command = "c"
trigger1 = ctrl
trigger2 = stateno = 100
trigger3 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger3 = (stateno = [200,235]) || (stateno = [400,430])
trigger4 = Var(7) = 4 && MoveContact
trigger4 = (stateno = [200,235]) || (stateno = [400,430])
trigger5 = Var(7) = 4 && movecontact
trigger5 = stateno = 330 || stateno = [1000,3000)
trigger6 = Var(7) = 4 && MoveContact
trigger6 = (stateno = [600,630]) || stateno = 310

;-------------------------------------------------------------Roll from falling
[State -1]
type = ChangeState
triggerall = Vel Y > 0 && Pos Y >= -20 && alive && (StateNo = 5050 || StateNo = 5071)
trigger1 = command = "ax" || command = "z"
value = 5200
;-------------------------------------------------------------
;---------------------------------------------------------------------------
; ガードキャンセル緊急回避
[State -1]
type = ChangeState
value = ifelse(command != "holdback",830,835)
triggerall = command = "ax" || command = "z"
triggerall = statetype != A
triggerall = power >= 1000
trigger1 = stateno = [150,153]
;---------------------------------------------------------------------------
; ガードキャンセルふっとばし攻撃
[State -1]
type = ChangeState
value = 820
triggerall = command = "by" || command = "c"
triggerall = statetype != A
triggerall = power >= 1000
trigger1 = stateno = [150,153]
;---------------------------------------------------------------------------
; 消えろぉ!
[State -1]
type = ChangeState
value = 900
triggerall = stateno != 100
triggerall = stateno != 101
trigger1 = command = "fwd_y" || command = "back_y"
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X < 15
trigger1 = statetype != A && ctrl
;---------------------------------------------------------------------------
; いつまで遊んでんだよォ！
[State -1]
type = ChangeState
value = 910
triggerall = stateno != 100
triggerall = stateno != 101
trigger1 = command = "fwd_b" || command = "back_b"
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X < 15
trigger1 = statetype != A && ctrl
;---------------------------------------------------------------------------
; うるせえー！
[State -1]
type = ChangeState
value = 330
triggerall = command = "fwd_x"
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4 && MoveContact
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)
trigger7 = stateno = 217 || stateno = 218&& animelem = 6,>=0
;---------------------------------------------------------------------------
; こいつッ！
[State -1]
type = ChangeState
value = 217
triggerall = command = "back_x"
trigger1 = ctrl && statetype != A

[State -1]
type = ChangeState
value = 218
triggerall = command = "back_x"
trigger1 = ctrl && statetype != A
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = Var(7) = 4 && MoveContact
trigger5 = (stateno = [200,235]) || (stateno = [400,430])
trigger6 = Var(7) = 4 && movecontact
trigger6 = stateno = 330 || stateno = [1000,3000)

;---------------------------------------------------------------------------
; 立ち弱P
[State -1]
type = ChangeState
value = ifelse(P2BodyDist X > 20,200,205)
triggerall = command = "x" && command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = stateno = 100
trigger3 = (stateno = [200,205]) && AnimElem = 4,> 0
trigger4 = (stateno = [220,225]) && AnimElem = 4,> 0
trigger5 = stateno = 400 && AnimElem = 4,> 0
trigger6 = stateno = 420 && AnimElem = 4,> 0
trigger7 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger7 = (stateno = [200,205]) || stateno = 400
trigger8 = Var(7) = 4 && MoveContact
trigger8 = (stateno = [200,235]) || (stateno = [400,430])
trigger9 = Var(7) = 4 && movecontact
trigger9 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; 立ち強P
[State -1]
type = ChangeState
value = ifelse(P2BodyDist X > 25,210,215)
triggerall = command = "y" && command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = stateno = 100
trigger3 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger3 = (stateno = [200,205]) || (stateno = [220,225]) || stateno = 400 || stateno = 420
trigger4 = Var(7) = 4 && MoveContact
trigger4 = (stateno = [200,235]) || (stateno = [400,430])
trigger5 = Var(7) = 4 && movecontact
trigger5 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; 立ち弱K
[State -1]
type = ChangeState
value = ifelse(P2BodyDist X > 20,220,225)
triggerall = command = "a" && command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = stateno = 100
trigger3 = (stateno = [200,205]) && AnimElem = 4,> 0
trigger4 = (stateno = [220,225]) && AnimElem = 4,> 0
trigger5 = stateno = 400 && AnimElem = 4,> 0
trigger6 = stateno = 420 && AnimElem = 4,> 0
trigger7 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger7 = (stateno = [200,205]) || (stateno = [220,225]) || stateno = 400 || stateno = 420
trigger8 = Var(7) = 4 && MoveContact
trigger8 = (stateno = [200,235]) || (stateno = [400,430])
trigger9 = Var(7) = 4 && movecontact
trigger9 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; 立ち強K
[State -1]
type = ChangeState
value = ifelse(P2BodyDist X > 20,230,235)
triggerall = command = "b" && command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = stateno = 100
trigger3 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger3 = (stateno = [200,225]) || (stateno = [400,420])
trigger4 = Var(7) = 4 && MoveContact
trigger4 = (stateno = [200,235]) || (stateno = [400,430])
trigger5 = Var(7) = 4 && movecontact
trigger5 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; 屈み弱P
[State -1]
type = ChangeState
value = 400
triggerall = command = "x" && command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 100
trigger3 = (stateno = [200,205]) && AnimElem = 4,> 0
trigger4 = (stateno = [220,225]) && AnimElem = 4,> 0
trigger5 = stateno = 400 && AnimElem = 4,> 0
trigger6 = stateno = 420 && AnimElem = 4,> 0
trigger7 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger7 = (stateno = [200,205]) || stateno = 400
trigger8 = Var(7) = 4 && MoveContact
trigger8 = (stateno = [200,235]) || (stateno = [400,430])
trigger9 = Var(7) = 4 && movecontact
trigger9 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; 屈み強P
[State -1]
type = ChangeState
value = 410
triggerall = command = "y" && command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 100
trigger3 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger3 = (stateno = [200,205]) || (stateno = [220,225]) || stateno = 400 || stateno = 420
trigger4 = Var(7) = 4 && MoveContact
trigger4 = (stateno = [200,235]) || (stateno = [400,430])
trigger5 = Var(7) = 4 && movecontact
trigger5 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; 屈み弱K
[State -1]
type = ChangeState
value = 420
triggerall = command = "a" && command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 100
trigger3 = (stateno = [200,205]) && AnimElem = 4,> 0
trigger4 = (stateno = [220,225]) && AnimElem = 4,> 0
trigger5 = stateno = 400 && AnimElem = 4,> 0
trigger6 = stateno = 420 && AnimElem = 4,> 0
trigger7 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger7 = (stateno = [200,205]) || (stateno = [220,225]) || stateno = 400 || stateno = 420
trigger8 = Var(7) = 4 && MoveContact
trigger8 = (stateno = [200,235]) || (stateno = [400,430])
trigger9 = Var(7) = 4 && movecontact
trigger9 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; 屈み強K
[State -1]
type = ChangeState
value = 430
triggerall = command = "b" && command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 100
trigger3 = movecontact
trigger3 = stateno = 205 || stateno = 215 || stateno = 225 || stateno = 300
trigger4 = movecontact
trigger4 = stateno = 400 || stateno = 420
trigger5 = MoveContact && (Var(20) = 1 || Var(21) = 1)
trigger5 = (stateno = [200,225]) || (stateno = [400,420])
trigger6 = Var(7) = 4 && MoveContact
trigger6 = (stateno = [200,235]) || (stateno = [400,430])
trigger7 = Var(7) = 4 && movecontact
trigger7 = stateno = 330 || stateno = [1000,3000)
;---------------------------------------------------------------------------
; ジャンプ弱P
[State -1]
type = ChangeState
value = 600
triggerall = command = "x"
trigger1 = statetype = A && ctrl
trigger2 = Var(7) = 4 && MoveContact
trigger2 = (stateno = [600,630]) || stateno = 310
;---------------------------------------------------------------------------
; ジャンプ強P
[State -1]
type = ChangeState
value = 610
triggerall = command = "y"
trigger1 = statetype = A && ctrl
trigger2 = Var(7) = 4 && MoveContact
trigger2 = (stateno = [600,630]) || stateno = 310
;---------------------------------------------------------------------------
; ジャンプ弱K
[State -1]
type = ChangeState
value = 620
triggerall = command = "a"
trigger1 = statetype = A && ctrl
trigger2 = Var(7) = 4 && MoveContact
trigger2 = (stateno = [600,630]) || stateno = 310
;---------------------------------------------------------------------------
; ジャンプ強K
[State -1]
type = ChangeState
value = 630
triggerall = command = "b"
trigger1 = statetype = A && ctrl
trigger2 = Var(7) = 4 && MoveContact
trigger2 = (stateno = [600,630]) || stateno = 310
;---------------------------------------------------------------------------
; ダッシュ
[State -1]
type = ChangeState
value = 100
trigger1 = command = "FF"
trigger1 = statetype = S && ctrl
;---------------------------------------------------------------------------
; バックステップ
[State -1]
type = ChangeState
value = 105
trigger1 = command = "BB"
trigger1 = statetype = S && ctrl
;---------------------------------------------------------------------------
; 挑発
[State -1]
type = ChangeState
value = 195
triggerall = command = "start"
trigger1 = statetype != A && ctrl
trigger2 = stateno = 100
;====================================================================================
[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(80000)
trigger1=roundstate=2
trigger1=alive
trigger1=var(59)=0
Trigger1=(PrevStateNo=[191,194])||PrevStateNo=5900
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=80000
ID=80000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, ↑が余計なことしないように]
type=changestate
trigger1= ishelper(80000)
trigger1= stateno!=80000
value=80000

[State -3, AI判定]
Type = VarSet
Triggerall = !var(59)
Triggerall = RoundState = [1,2]
Trigger1 = Command = "AI0"
Trigger2 = Command = "AI1"
Trigger3 = Command = "AI2"
Trigger4 = Command = "AI3"
Trigger5 = Command = "AI4"
Trigger6 = Command = "AI5"
Trigger7 = Command = "AI6"
Trigger8 = Command = "AI7"
Trigger9 = Command = "AI8"
Trigger10 = Command = "AI9"
Trigger11 = Command = "AI10"
Trigger12 = Command = "AI11"
Trigger13 = Command = "AI12"
Trigger14 = Command = "AI13"
Trigger15 = Command = "AI14"
Trigger16 = Command = "AI15"
Trigger17 = Command = "AI16"
Trigger18 = Command = "AI17"
Trigger19 = Command = "AI18"
Trigger20 = Command = "AI19"
Trigger21 = Command = "AI20"
Trigger22 = Command = "AI21"
Trigger23 = Command = "AI22"
Trigger24 = Command = "AI23"
Trigger25 = Command = "AI24"
Trigger26 = Command = "AI25"
Trigger27 = Command = "AI26"
Trigger28 = Command = "AI27"
Trigger29 = Command = "AI28"
Trigger30 = Command = "AI29"
Trigger31 = Command = "AI30"
Trigger32 = Command = "AI31"
Trigger33 = Command = "AI32"
Trigger34 = Command = "AI33"
Trigger35 = Command = "AI34"
Trigger36 = Command = "AI35"
Trigger37 = Command = "AI36"
Trigger38 = Command = "AI37"
Trigger39 = Command = "AI38"
Trigger40 = Command = "AI39"
Trigger41 = Command = "AI40"
Trigger42 = Command = "AI41"
Trigger43 = Command = "AI42"
Trigger44 = Command = "AI43"
Trigger45 = Command = "AI44"
Trigger46 = Command = "AI45"
Trigger47 = Command = "AI46"
Trigger48 = Command = "AI47"
Trigger49 = Command = "AI48"
Trigger50 = Command = "AI49"
Trigger51 = Command = "AI50"
Trigger52 = numhelper(80000)
Trigger52 = helper(80000),var(59)
var(59) = 11
ignorehitpause = 1

;================================================================================================
;重力加速度計算
[state -3, yaccel]
type = varset
trigger1 = fvar(50) != EnemyNear(floor(fvar(57))),const(movement.yaccel)
trigger1 = EnemyNear(floor(fvar(57))),stateno != [5000,5210]
trigger1 = EnemyNear(floor(fvar(57))),Vel Y != 0
FV = 50
value = EnemyNear(floor(fvar(57))),const(movement.yaccel)
ignorehitpause = 1

[state -3, yaccel]
type = varset
trigger1 = fvar(50) != EnemyNear(floor(fvar(57))),GetHitVar(yaccel)
trigger1 = EnemyNear(floor(fvar(57))),stateno = [5000,5210]
;trigger1 = EnemyNear(floor(fvar(57))),Vel Y != 0
FV = 50
value = EnemyNear(floor(fvar(57))),GetHitVar(yaccel);(打撃当てた時のyaccel値)
ignorehitpause = 1

[state -3, yaccel]
type = varset
trigger1 = fvar(50) != 0
trigger1 = EnemyNear(floor(fvar(57))),Vel Y = 0
FV = 50
value = 0
ignorehitpause = 1

;================================================================================================
;コンボ用
[State -3]
Type = varset
Triggerall = var(59) 
Trigger1 = Stateno = 1100 && Movehit
fvar(56) = 1

[State -3]
Type = varset
Triggerall = var(59) 
Trigger1 = P2MoveType != H
fvar(56) = 0

;================================================================================================
;追撃不可フラグ
[State -3]
Type = varset
Triggerall = var(59) 
Trigger1 = Stateno = 1200 && Movehit
fvar(56) = 2

[State -3]
Type = varset
Triggerall = var(59) 
Trigger1 = P2MoveType != H
fvar(56) = 0

;================================================================================================
;タッグ用生存確認
[State -3]
Type = varset
Trigger1 = numenemy=1
fvar(57) = 0

[State -3]
Type = varset
Trigger1 = numenemy=2
fvar(57) = ifelse(EnemyNear(0),alive,0,1)

[State -3, MAX S]
type = ChangeState
value = 3700
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = power >= 2300
triggerall = P2StateType != A
triggerall = P2bodydist X = [-5,55]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -7 
Triggerall = prevstateno = 810;700
triggerall = EnemyNear(floor(fvar(57))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, Sjump]
type = ChangeState
value = 3030
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 2150
triggerall = P2BodyDist X > 40
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100
trigger1 = ctrl

[State -3, MAX S]
type = ChangeState
value = 2150
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = power >= 2200
triggerall = P2StateType != A
triggerall = P2bodydist X > 55
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -7 
Triggerall = prevstateno = 810;700
triggerall = EnemyNear(floor(fvar(57))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, S]
type = ChangeState
value = 3000
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = power >= 1000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -7 
Triggerall = prevstateno = 810;700
triggerall = EnemyNear(floor(fvar(57))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Kick]
type = ChangeState
value = 220
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2BodyDist X = [-10,15]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -5 
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 810 || prevstateno = 52000
triggerall = EnemyNear(floor(fvar(57))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -6 
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 810 || prevstateno = 52000
triggerall = EnemyNear(floor(fvar(57))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3,G･C]
type = ChangeState
value = 1100
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = p2StateType != A
triggerall = P2StateType != L
triggerall = P2bodydist X = [-10,60]
;triggerall = P2bodydist y = [-72,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -8 
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 810 || prevstateno = 52000
triggerall = EnemyNear(floor(fvar(57))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3,G･C]
type = ChangeState
value = 3000
triggerall = var(59) >= 10
TriggerAll = StateType != A
TriggerAll = RoundState = 2
TriggerAll = power >= 2400
triggerall = P2StateType != L
triggerall = P2bodydist X = [-10+floor(8*(EnemyNear(floor(fvar(57))),vel X)),50+floor(8*(EnemyNear(floor(fvar(57))),vel X))]
;triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(10)),0-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(50))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*100
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -8 
triggerall = EnemyNear(floor(fvar(57))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(57))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 52000
Trigger3 = (PrevStateNo=[120,159])

[State -3,G･C]
type = ChangeState
value = 1010
triggerall = var(59) >= 10
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2bodydist X = [-10+floor(8*(EnemyNear(floor(fvar(57))),vel X)),50+floor(8*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(10)),0-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(50))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*100
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -8 
triggerall = EnemyNear(floor(fvar(57))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(57))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 52000
Trigger3 = (PrevStateNo=[120,159])

[State -3, T S]
type = ChangeState
value = 810;700
triggerall = var(59)
Triggerall = RoundState = 2
TriggerAll = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
TriggerAll = P2BodyDist X = [-10,110] 
TriggerAll = P2BodyDist Y >= -60 
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !EnemyNear(floor(fvar(57))),HitDefAttr = SCA,NT,ST,HT
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -30 
TriggerAll = Random<= var(59)*100
triggerall = EnemyNear(floor(fvar(57))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(57))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 52000
Trigger3 = (PrevStateNo=[120,159])

[State -3, Back Step]
type = ChangeState
value = 1100
triggerall = var(59)
Triggerall = RoundState = 2
TriggerAll = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
TriggerAll = P2BodyDist X = [-10,120] 
TriggerAll = P2BodyDist Y >= -60 
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(57))),AnimTime <= -9 
TriggerAll = BackEdgeBodyDist >= 20
TriggerAll = Random<= var(59)*100
triggerall = EnemyNear(floor(fvar(57))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(57))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 52000
Trigger3 = (PrevStateNo=[120,159])


[State 3200, 1]
type = Changestate
value = 13020
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
trigger1 = AnimElemTime(63) >= 0 && AnimElemTime(70) <= 0
trigger1 = stateno = 3020

[State -3, H-Jump]
type = ChangeState
value = 3020
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2MoveType != H
Triggerall = power >= 2000
Triggerall = P2BodyDist X >= 200
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = Random <= var(59)*100
trigger1 = EnemyNear(floor(fvar(57))),NumProj >= 1 || EnemyNear(floor(fvar(57))),HitDefAttr = SC,NP,SP,HP
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(57))),HitDefAttr = ,AP

[State -3, H-Jump]
type = ChangeState
value = 810;700
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2MoveType != H
Triggerall = P2BodyDist X >= 200
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = Random <= var(59)*15
trigger1 = EnemyNear(floor(fvar(57))),NumProj >= 1 || EnemyNear(floor(fvar(57))),HitDefAttr = SC,NP,SP,HP
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(57))),HitDefAttr = ,AP

[State -3]
Type = ChangeState
Value = 120
TriggerAll = var(59)
TriggerAll = StateType = A
TriggerAll = Ctrl
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(57))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = Random<=var(59)*100
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(57))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(57))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(57))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(57))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(57))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(57))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(57))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(57))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(57))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = P2movetype = A
Trigger5 = Var(28)

[State -3]
Type = ChangeState
Value = 120
TriggerAll = var(59)
TriggerAll = StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(57))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = Random<=var(59)*100
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(57))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(57))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(57))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(57))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0 
Trigger3 = EnemyNear(floor(fvar(57))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(57))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(57))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(57))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(57))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = P2movetype = A
Trigger5 = Var(28)

[State -1]
type = ChangeState
value = 820
triggerall = roundstate = 2
triggerall = P2movetype = A
TriggerAll = p2StateType != A
Triggerall = P2BodyDist X < 60
TriggerAll = var(59)
trigger1 = (stateno = 150 || stateno = 151) && power >= 1200
trigger1 = random <= 40

[State -3, Dash]
Type = ChangeState
Value = 100
Ctrl = 0
Triggerall = var(59) 
Triggerall = RoundState = 2 
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
Triggerall = P2BodyDist X = [15,300]
Triggerall = Facing != EnemyNear(floor(fvar(57))),Facing
Triggerall = EnemyNear(floor(fvar(57))),BackEdgeBodyDist >= 40
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3, Crouching Light Kick]
type = ChangeState
value = 220
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-5,15]
Triggerall = Facing = EnemyNear(floor(fvar(57))),Facing
Triggerall = EnemyNear(floor(fvar(57))),AnimTime = -1
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

[State -3, LK]
type = ChangeState
value = 1000
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X = [51,110]
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(57))),AnimTime = -19

[State -3, SK]
type = ChangeState
value = 1005
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X = [111,150]
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(57))),AnimTime = -19

[State -3,]
Type = ChangeState
Value = 105
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
Triggerall = Facing != EnemyNear(floor(fvar(57))),Facing
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-5,30]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*150

;36666666666666666666666666666666666666666666666666666666666666666666

[State -3, F]
type = ChangeState
value = 1010
triggerall = var(59)
triggerall = fvar(56) = 1
triggerall = roundstate = 2
triggerall = power>= 3000
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(57))),vel X)),80+floor(6*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-100-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50)),0-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50))]
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, F]
type = ChangeState
value = 1010
triggerall = var(59)
triggerall = fvar(56) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(57))),vel X)),80+floor(6*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-60-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50)),0-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50))]
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Kick]
type = ChangeState
value = 215
triggerall = var(59)
triggerall = !fvar(56)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-5,15]
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2statetype != A
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59)
triggerall = !fvar(56)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50)),0-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X = [-10,25]
triggerall = P2BodyDist Y >= 0 
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(59)
triggerall = !fvar(56)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-5,34]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(57))),vel Y)+(3*(3+1)/2)*fvar(50)),0-floor(3*(EnemyNear(floor(fvar(57))),vel Y)+(3*(3+1)/2)*fvar(50))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = P2StateType != C
Trigger1 = Random <= var(59)*100

;=======362

[State -3, LW]
type = ChangeState
value = 1100
triggerall = var(59)
triggerall = fvar(56) = 2
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-15,30]
;triggerall = P2BodyDist Y = [-85-floor(9*(EnemyNear(floor(fvar(57))),vel Y)+(9*(9+1)/2)*fvar(50)),0-floor(9*(EnemyNear(floor(fvar(57))),vel Y)+(9*(9+1)/2)*fvar(50))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
TriggerAll = EnemyNear(floor(fvar(57))),BackEdgeBodyDist <= 15
triggerall = P2StateType = A
triggerall = P2MoveType = H
trigger1 = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Dash]
type = ChangeState
value = 100
triggerall = var(59)
triggerall = !fvar(56)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 30
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Sjump]
type = ChangeState
value = 43
triggerall = var(59)
triggerall = !fvar(56)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [0,90]
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2movetype = H
triggerall = P2StateType != L
triggerall = P2StateType = C
triggerall = P2stateno = [120,159]
Trigger1 = Random <= var(59)*100

[State -3, Sjump]
type = ChangeState
value = 41
triggerall = var(59)
triggerall = !fvar(56)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [40,90]
;TriggerAll = EnemyNear(floor(fvar(57))),BackEdgeBodyDist <= 20
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
;triggerall = P2movetype = H
triggerall = P2StateType = L
;triggerall = P2StateType = C
;triggerall = P2stateno = [120,159]
Trigger1 = Random <= var(59)*100

[State -3, Jump Strong Kick]
type = ChangeState
value = 610
triggerall = var(59)
triggerall = !fvar(56)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = ctrl
triggerall = stateno != 105
triggerall = P2BodyDist X = [-15,54]
triggerall = P2BodyDist Y = [-22,59]
triggerall = !inguarddist
triggerall = P2StateType != A
;triggerall = P2movetype = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

;-------------------------------------------------------------

[State -3, Crouching Light Punch]
type = ChangeState
value = 200
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
triggerall = P2statetype != C
triggerall = P2bodydist X < 35
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 220 && AnimElem = 4 && Movehit
Trigger2 = stateno = 400 &&  movecontact


[State -3, Crouching Light Punch]
type = ChangeState
value = 330
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 200 && Movehit
Trigger2 = stateno = 215 && AnimElem = 7 && Movehit
Trigger3 = stateno = 400 && Movehit
Trigger4 = stateno = 200 && moveguarded && Random <= 200
Trigger5 = stateno = 215 && AnimElem = 7 && moveguarded && Random <= 200
Trigger6 = stateno = 400 && moveguarded && Random <= 200

[State -3, Crouching Light Punch]
type = ChangeState
value = 1000
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
triggerall = P2statetype = C
Triggerall = P2StateType != L
Triggerall = !InGuardDist
TriggerAll = EnemyNear(floor(fvar(57))),BackEdgeBodyDist >= 20
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 330  && AnimElem = 8 && Movehit
Trigger2 = stateno = 330  && AnimElem = 8 && moveguarded

[State -3, Crouching Light Punch]
type = ChangeState
value = 1010
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
triggerall = P2statetype = C
Triggerall = P2StateType != L
Triggerall = !InGuardDist
TriggerAll = EnemyNear(floor(fvar(57))),BackEdgeBodyDist <= 16
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 330  && AnimElem = 8 && Movehit
Trigger2 = stateno = 330  && AnimElem = 8 && moveguarded && Random <= 200

[State -3, Crouching Light Punch]
type = ChangeState
value = 1200
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
TriggerAll = EnemyNear(floor(fvar(57))),BackEdgeBodyDist <= 20
triggerall = P2statetype = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 330 && AnimElem = 10 && Movehit
Trigger2 = stateno = 330  && AnimElem = 8 && moveguarded && Random <= 200

[State -3, Crouching Light Punch]
type = ChangeState
value = 1100
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
TriggerAll = EnemyNear(floor(fvar(57))),BackEdgeBodyDist >= 25
triggerall = P2statetype = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 330 && AnimElem = 10 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 3000
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 2500
triggerall = statetype != A
triggerall = P2statetype = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 1015 && AnimElem = 11 && Movehit
Trigger2 = stateno = 1010 && AnimElem = 8 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(random <= 400,3015,3020)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 2100
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 1000 && AnimElem = 10 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 3010
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1400
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 1000 && AnimElem = 10 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 3020
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 2000
triggerall = statetype != A
triggerall = P2statetype = A
triggerall = P2movetype = H
;TriggerAll = EnemyNear(floor(fvar(57))),BackEdgeBodyDist >= 30
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 3000 && AnimElem = 18 

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(random <= 400,1100,1000)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 330  && AnimElem = 8 && moveguarded

;--------------------------------------
[State -1, Walk]
type = ChangeState
value = 21
triggerall = !fvar(56)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || stateno = 19
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 5*var(59)
trigger2 = enemynear,movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*var(59)
trigger3 = enemynear,movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 10*var(59)
trigger4 = enemynear,statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 10*var(59)
trigger5 = enemynear,movetype = H
trigger5 = enemynear,statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 = enemynear,BackEdgeBodyDist <= 0 || enemynear,FrontEdgeBodyDist <= 0
trigger5 = random <= 8*var(59)

[State -1, Walk]
type = ChangeState
value = 22
triggerall = !fvar(56)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || stateno = 21
triggerall = stateno != [10,12]
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 7*(var(59))
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*(var(59))
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 8*(var(59))
trigger3 = enemynear,stateno != [5000,5210]
trigger4 = enemynear,StateNo= [120,155]
trigger4 = random <= 10*(var(59))
trigger4 = P2BodyDist X <= 60
trigger5 = enemynear,statetype != A
trigger5 = enemynear,statetype = L
trigger5 = P2BodyDist X = [40,120]
trigger5 = random <= 100*(var(59))
trigger6 = enemynear,statetype != L
trigger6 = enemynear,movetype = H
trigger6 = enemynear,stateno = [5000,5029]
trigger6 = random <= 100*var(59)

[State -3, SKr]
type = ChangeState
value = 3000
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power>= 1900
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2bodydist X = [0,30];[-10+floor(8*(EnemyNear(floor(fvar(57))),vel X)),65+floor(8*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2bodydist y = [-82-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(50)),0-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*100

[State -3, SKr]
type = ChangeState
value = 1010
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2bodydist X = [0,30];[-10+floor(8*(EnemyNear(floor(fvar(57))),vel X)),65+floor(8*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2bodydist y = [-52-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(50)),0-floor(8*(EnemyNear(floor(fvar(57))),vel Y)+(8*(8+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X = [-21,21]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-21+floor(6*(EnemyNear(floor(fvar(57))),vel X)),21+floor(6*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50)),0-floor(6*(EnemyNear(floor(fvar(57))),vel Y)+(6*(6+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-30+floor(5*(EnemyNear(floor(fvar(57))),vel X)),30+floor(5*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-10-floor(5*(EnemyNear(floor(fvar(57))),vel Y)+(5*(5+1)/2)*fvar(50)),0-floor(5*(EnemyNear(floor(fvar(57))),vel Y)+(5*(5+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-34+floor(3*(EnemyNear(floor(fvar(57))),vel X)),34+floor(3*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(57))),vel Y)+(3*(3+1)/2)*fvar(50)),0-floor(3*(EnemyNear(floor(fvar(57))),vel Y)+(3*(3+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Stand Light Punch]
type = ChangeState
value = 220
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-34+floor(3*(EnemyNear(floor(fvar(57))),vel X)),34+floor(3*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(57))),vel Y)+(3*(3+1)/2)*fvar(50)),0-floor(3*(EnemyNear(floor(fvar(57))),vel Y)+(3*(3+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype = C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Standing Strong Kick]
type = ChangeState
value = 1100
triggerall = var(59)
triggerall = roundstate = 2
triggerall = p2bodydist X > 24
triggerall = P2BodyDist X = [24,40]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [24+floor(12*(EnemyNear(floor(fvar(57))),vel X)),40+floor(12*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-41-floor(12*(EnemyNear(floor(fvar(57))),vel Y)+(12*(12+1)/2)*fvar(50)),0-floor(3*(EnemyNear(floor(fvar(57))),vel Y)+(12*(12+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*10

;遠距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(57))),vel X)),60+floor(7*(EnemyNear(floor(fvar(57))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(57))),vel Y)+(7*(7+1)/2)*fvar(50)),0-floor(7*(EnemyNear(floor(fvar(57))),vel Y)+(7*(7+1)/2)*fvar(50))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Jump Strong Punch]
type = ChangeState
value = 630
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X = 0
triggerall = P2BodyDist X = [-15+floor(9*(EnemyNear(floor(fvar(57))),vel X)+floor(9*vel X)),24+floor(9*(EnemyNear(floor(fvar(57))),vel X)+floor(9*vel X))]
triggerall = P2BodyDist Y = [-50-floor(9*(EnemyNear(floor(fvar(57))),vel Y)+(9*(9+1)/2)*fvar(50)-floor(9*vel Y)-(9*(9+1)/2)*0.54),11-floor(9*(EnemyNear(floor(fvar(57))),vel Y)+(9*(9+1)/2)*fvar(50)-floor(9*vel Y)-(9*(9+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(57))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(57))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, UKEMI]
type = ChangeState
value = 5200
triggerall = var(59)
triggerall = alive = 1
Triggerall = Random <= var(59)*100
trigger1 = stateno = 5050
trigger1 = pos y > -30
trigger1 = vel y > 0 && vel y < 9

[State -3, Jump Strong Punch]
type = ChangeState
value = 600
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(57))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(57))),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(57))),vel Y)+(5*(5+1)/2)*fvar(50)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(57))),vel Y)+(5*(5+1)/2)*fvar(50)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(57))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(57))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Kick]
type = ChangeState
value = 610
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = P2BodyDist X = [-15+floor(7*(EnemyNear(floor(fvar(57))),vel X)+floor(7*vel X)),54+floor(7*(EnemyNear(floor(fvar(57))),vel X)+floor(7*vel X))]
triggerall = P2BodyDist Y = [-22-floor(7*(EnemyNear(floor(fvar(57))),vel Y)+(7*(7+1)/2)*fvar(50)-floor(7*vel Y)-(7*(7+1)/2)*0.54),59-floor(7*(EnemyNear(floor(fvar(57))),vel Y)+(7*(7+1)/2)*fvar(50)-floor(7*vel Y)-(7*(7+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(57))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(57))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3]
type = ChangeState
value = ifelse(random <= 400,900,910)
triggerall = var(59)
triggerall = Random <= var(59)*500
triggerall = p2stateno != [5050,5122]
triggerall = ctrl && statetype != A
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2bodydist x = [-15,15]
trigger1 = ctrl
