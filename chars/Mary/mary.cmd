;------| TAG |------------------------------------------------------
[Command]
name = "»»ÈË"
command = ~B, F, B, F, s
time = 30

[Command]
name = "Ô®»¤¹¥»÷A"
command = ~D, DF, F, D, DF, F, s
time = 30

[Command]
name = "Ô®»¤¹¥»÷B"
command = ~D, DB, B, D, DB, B, s
time = 30
;------------------------------------------------------------------
;-| AI |-----------------------------------------------------------------------
[Command]
name = "CPU1"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU2"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU3"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU4"
command = F, B, U, U, D, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU5"
command = U, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU6"
command = U, D, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU7"
command = F, F, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU8"
command = U, D, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU9"
command = F, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU10"
command = F, F, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU11"
command = U, U, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU12"
command = U, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU13"
command = U, B, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU14"
command = U, F, B, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU15"
command = U, B, F, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU16"
command = U, B, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU17"
command = U, D, B, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU18"
command = U, D, B, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU19"
command = U, D, F, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU20"
command = U, D, U, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU21"
command = U, D, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU22"
command = F, F, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU23"
command = U, U, U, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU24"
command = B, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU25"
command = D, D, D, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU26"
command = D, D, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU27"
command = F, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU28"
command = U, U, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU29"
command = U, U, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU30"
command = D, D, F, F, U, B, U, D, F, z, z, z
time = 1

;-|Super Motions |-------------------------------------------------------------

[Command]
name = "Infinity Rose"
command = ~D, DF, F, D, DF, F, c
time = 25

[Command]
name = "Infinity Rose2"
command = ~D, DB, B, D, DB, B, c
time = 25

[Command]
name = "Dynamite Swing2"
command = ~D, DF, F, D, DF, F, a+b
time = 25

[Command]
name = "Dynamite Swing"
command = ~D, DF, F, D, DF, F, a
time = 25

[Command]
name = "Dynamite Swing"
command = ~D, DF, F, D, DF, F, b
time = 25

[Command]
name = "Splash Rose2"
command = ~D, DF, F, D, DB, B,  x+y
time = 25

[Command]
name = "Splash Rose"
command = ~D, DF, F, D, DB, B,  x
time = 25

[Command]
name = "Splash Rose"
command = ~D, DF, F, D, DB, B, y
time = 25

[Command]
name = "Twister Rose"
command = ~D, DB, B, D, DB, B, a+b
time = 25

;-| Special Motions |-----------------------------------------------------------

[Command]
name = "ELEC"
command = ~D, DF, F, x
time = 15

[Command]
name = "ELEC"
command = ~D, DF, F, y
time = 15

[Command]
name = "Spinfall_x"
command = ~D, DF, F, x
time = 15

[Command]
name = "Spinfall_y"
command = ~D, DF, F, y
time = 15

;Hi
[Command]
name = "RealCtr1"
command = ~D, DB, B, x
time = 15

[Command]
name = "RealCtr2"
command = ~D, DB, B, y
time = 15

;vertical air
[Command]
name = "uppercut_b"
command = ~F, D ,DF, a
time = 20

;vertical air
[Command]
name = "uppercut_d"
command = ~F, D ,DF, b
time = 20

;good night
[Command]
name = "goodnight"
command = ~B, DF,  F, x
time = 20

[Command]
name = "goodnight"
command = ~B, DF,  F, y
time = 20

[Command]
name = "tatsumaki_b"
command = ~D, DB, B, a
time = 15

[Command]
name = "tatsumaki_d"
command = ~D, DB, B, b
time = 15

;Spinfall
[Command]
name = "spinfall_a"
command = ~D, DF, F, a
time = 15

[Command]
name = "spinfall_b"
command = ~D, DF, F, b
time = 15

[Command]
name = "spider_x"
command = ~D, DF, F, a
time = 15

[Command]
name = "spider_y"
command = ~D, DF, F, b
time = 15

[Command]
name = "slicer_a"
command = ~B, F, a
time = 15

[Command]
name = "slicer_b"
command = ~B,  F, b
time = 15

[Command]
name = "fireball_a"
command = ~D, DF, F, a
time = 15

[Command]
name = "fireball_b"
command = ~D, DF, F, b
time = 15

;-| Double Tap |---------------------------------------------------------------
[Command]
name = "FF"
command = F, F
time = 12

[Command]
name = "BB"
command = B, B
time = 12

;-| 2/3 Button Combination |---------------------------------------------------

[Command]
name = "recovery";Required (do not remove)
command = z
time = 1

;dodge
[Command]
name = "recovery"
command = a+x
time = 1

;counter
[Command]
name = "b+y"
command = b+y
time = 1

[Command]
name = "b+y"
command = c
time = 1

[Command]
name = "ay"
command = a+y
time = 1 

;-| Hold Button |--------------------------------------------------------------

[Command]
name = "hold_a"
command = /a
time = 1

[Command]
name = "hold_b"
command = /b
time = 1

[Command]
name = "hold_c"
command = /c
time = 1

[Command]
name = "hold_x"
command = /x
time = 1

[Command]
name = "hold_y"
command = /y
time = 1

[Command]
name = "hold_z"
command = /z
time = 1

;-| Hold Dir |-----------------------------------------------------------------
[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup"
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

;-| Dir + Button |-------------------------------------------------------------
[Command]
name = "throw_b"
command = /F,b;z
time = 1

[Command]
name = "throw_b"
command = /B,b;z
time = 1

[Command]
name = "throw_c"
command = /F,y
time = 1

[Command]
name = "throw_c"
command = /B,y
time = 1

[Command]
name = "fwd_a"
command = /F,a
time = 1

[Command]
name = "fwd_b"
command = /F,b
time = 1
[Command]
name = "fwd_b"
command = /F,x
time = 1

[Command]
name = "fwd_c"
command = /F,c
time = 1

[Command]
name = "fwd_c"
command = /F,y
time = 1

[Command]
name = "fwd_d"
command = /F,z
time = 1

[Command]
name = "back_c"
command = /B,c
time = 1
[Command]
name = "back_c"
command = /B,y
time = 1

;-| Single Button |------------------------------------------------------------
[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

[command]
name = "fwd"
command = F
time = 1

[command]
name = "back"
command = B
time = 1

[command]
name = "up"
command = U
time = 1

[command]
name = "down"
command = D
time = 1

;-| Hold Dir |-----------------------------------------------------------------
[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

;---------------------------------------------------------------------------
[Statedef -1]
;============================================================================= 

[State -1]
type = ChangeState
value = 1990
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype != A
triggerall = stateno != [800,899)
triggerall = command = "ay"
trigger1 = stateno != 1990 && (stateno = [0,999]) && movecontact

[State -1]
type = ChangeState
value = 1991
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype != A
triggerall = command = "ay"
trigger1 = ctrl || stateno = 100

; air(¿ÕÖÐ)
[State -1]
type = ChangeState
value = 1992
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype= A
triggerall = stateno != [800,899)
triggerall = command = "ay"
trigger1 = stateno != 1992 && (stateno = [0,999])
;-------------------------------------------
; AI
;-------------------------------------------

[State -1,AI]
type = Varset
triggerall = var(59) != 1
trigger1 = command = "CPU1"
trigger2 = command = "CPU2"
trigger3 = command = "CPU3"
trigger4 = command = "CPU4"
trigger5 = command = "CPU5"
trigger6 = command = "CPU6"
trigger7 = command = "CPU7"
trigger8 = command = "CPU8"
trigger9 = command = "CPU9"
trigger10 = command = "CPU10"
trigger11 = command = "CPU11"
trigger12 = command = "CPU12"
trigger13 = command = "CPU13"
trigger14 = command = "CPU14"
trigger15 = command = "CPU15"
trigger16 = command = "CPU16"
trigger17 = command = "CPU17"
trigger18 = command = "CPU18"
trigger19 = command = "CPU19"
trigger20 = command = "CPU20"
trigger21 = command = "CPU21"
trigger22 = command = "CPU22"
trigger23 = command = "CPU23"
trigger24 = command = "CPU24"
trigger25 = command = "CPU25"
trigger26 = command = "CPU26"
trigger27 = command = "CPU27"
trigger28 = command = "CPU28"
trigger29 = command = "CPU29"
trigger30 = command = "CPU30"
v = 59
value = 1

[State -1, SGuard]
type            = ChangeState
Value           = 130
triggerall      = Roundstate = 2 && Var(59) = 1
triggerall      = statetype != A
triggerall      = p2statetype != L
triggerall      = p2movetype = A
triggerall      = ctrl
trigger1        = StateType = S
trigger1        = p2statetype = S
trigger1        = p2bodydist X < 50
trigger1        = random = [551,999]
trigger2        = p2statetype = A
trigger2        = p2bodydist X <= 50 && random = [400,999]
trigger3        = p2movetype = A
trigger3        = p2bodydist X < 50

[State -1, CGuard]
type            = ChangeState
Value           = 131
triggerall      = Roundstate = 2 && Var(59) = 1
triggerall      = statetype != A
triggerall      = p2statetype != L
triggerall      = p2movetype = A
triggerall      = ctrl
Trigger1        = EnemyNear,MoveType != A
Trigger1        = StateType = C
trigger1        = p2statetype = C
trigger1        = P2bodydist X <=  50

[State -1, AGuard]
type            = ChangeState
Value           = 132
triggerall      = Roundstate = 2 && Var(59) = 1
triggerall      = statetype = A
triggerall      = p2statetype != L
triggerall      = p2movetype = A
Triggerall      = ctrl
trigger1        = P2bodydist X <= 80

;---------------------------------------------------------------------------
[State -1, AI Infinity Rose]
type = ChangeState
value = 3600
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = power >= 3000 
triggerall = Random <= 350
triggerall = statetype != A
triggerall = p2statetype != A
trigger1 = ctrl
trigger1 = P2BodyDist X >= 60

[State -1, AI Twister Rose]
type = ChangeState
value = 3800
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = power >= 2000
triggerall = Random <= 350
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = P2BodyDist X <= 80
trigger1 = ctrl

[State -1, AI splash]
type = ChangeState
value = 3400
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = power >= 2000
triggerall = Random <= 500
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = P2BodyDist X <= 90
trigger1 = ctrl

[State -1, AI splash]
type = ChangeState
value = 3300
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = power >= 1000
triggerall = Random <= 600
triggerall = statetype = S
triggerall = stateno != 1001
trigger1 = P2BodyDist X <= 100
trigger1 = ctrl

[State -1, AI dinamite]
type = ChangeState
value = 3100
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = power >= 1000
triggerall = Random <= 600
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = P2BodyDist X <= 100
trigger1 = ctrl

[State -1, AI straight slicer a]
type = ChangeState
value = 1600
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype != A
triggerall = enemy,statetype != L
triggerall = enemy,statetype != A
triggerall = P2BodyDist X < 90
triggerall = Random <= 220
trigger1 = ctrl

[State -1, AI Good night]
type = ChangeState
value = 1300
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype != A
triggerall = enemy,statetype != L
triggerall = enemy,statetype != A
triggerall = P2BodyDist X < 55
triggerall = Random <= 200
trigger1 = ctrl

[State -1, AI spinfall_b]
type = ChangeState
value = 1160
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = Random <= 200
triggerall = statetype != A
trigger1 = P2BodyDist X < 80
trigger1 = ctrl

[State -1, AI Vertical_D]
type = ChangeState
value = 1110
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = Random <= 600
trigger1 = statetype != A && ctrl
trigger1 = p2statetype = A
trigger1 = p2bodydist X = [0,70]
trigger1 = p2bodydist Y = [-100,-40]

[State -1, AI stand counter]
type = ChangeState
value = 240
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = enemy,statetype != L
triggerall = enemy,statetype != A
triggerall = Random <= 500
trigger1 = statetype = S && ctrl
trigger1 = P2BodyDist X = [60,100]

[State -1, AI Crouching Strong Kick]
type = ChangeState
value = 231
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = Random <= 500
triggerall = statetype != A && ctrl
trigger1 = p2bodydist X = [-5,70]
trigger1 = p2statetype != A && p2statetype != L

;Jumping_D
[State -1, AI air hard kick]
type = ChangeState
value = 233
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = Random <= 500
triggerall = P2BodyDist Y < 90
triggerall = P2BodyDist X < 50
trigger1 = statetype = A
trigger1 = ctrl

[State -1, AI Crouching Strong Kick]
type = ChangeState
value = 231
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = Random <= 500
trigger1 = P2BodyDist X < 50
trigger1 = statetype = C
trigger1 = ctrl

[State -1, AI stand hard kick]
type = ChangeState
value = 230
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = Random <= 500
trigger1 = P2BodyDist X < 50
trigger1 = statetype = S
trigger1 = ctrl

[State -1, AI Crouching]
type = ChangeState
value = 222
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = Random <= 500
trigger1 = P2BodyDist X < 50
trigger1 = statetype = C
trigger1 = ctrl

[state -1, AI Stand Punch]
type = ChangeState
value = ifelse(p2bodydist X < 30,211,210)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = enemy,statetype != L
triggerall = enemy,statetype != A
triggerall = Random = [0,250]
trigger1 = statetype = S && ctrl
trigger1 = p2bodydist x < 50

[state -1, AI Stand Punch]
type = ChangeState
value = ifelse(p2bodydist X < 30,221,220)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = enemy,statetype != L
triggerall = enemy,statetype != A
triggerall = Random = [0,250]
trigger1 = statetype = S && ctrl
trigger1 = p2bodydist x < 60

[state -1, AI Stand Punch]
type = ChangeState
value = ifelse(p2bodydist X < 25,201,200)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = enemy,statetype != L
triggerall = enemy,statetype != A
triggerall = Random = [0,250]
trigger1 = statetype = S && ctrl
trigger1 = p2bodydist x < 50

[State -1, AI Walk]
type = ChangeState
value = 20
triggerall = Roundstate = 2 && Var(59) = 1
trigger1 = stateno != 100 && stateno != 20 && statetype = S && ctrl
trigger1 = p2bodydist x > 40 &&  p2movetype != A && random <= 500

;------------------------------------------------------------------------------
; AI
;------------------------------------------------------------------------------

[State -1, Infinity Rose]
type = ChangeState
value = 3600
triggerall = command = "Infinity Rose"
triggerall = power >= 2000 
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = fvar(30) > 0 
trigger1 = ctrl
trigger2 = hitdefattr = SC, NA, SA
trigger2 = movehit
;------------------------------------------------------------------------------

[State -1, Infinity Rose]
type = ChangeState
value = 3060
triggerall = command = "Infinity Rose2"
triggerall = power >= 2000 
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = fvar(30) > 0 
trigger1 = ctrl
trigger2 = hitdefattr = SC, NA, SA
trigger2 = movehit

;------------------------------------------------------------------------------
[State -1, Twister Rose]
type = ChangeState
value = 3800
triggerall = command = "Twister Rose"
triggerall = power >= ifelse(fvar(30) > 0,1000,2000)
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = ctrl
trigger2 = stateno = 3310
trigger3 = stateno = 204 && movehit

;------------------------------------------------------------------------------
[State -1, Splash Rose2]
type = ChangeState
value = 3400
triggerall = var(59) != 1
triggerall = command = "Splash Rose2"
triggerall = power >= ifelse(fvar(30) > 0,1000,2000)
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = ctrl
trigger2 = stateno = 1602
trigger2 = movecontact
trigger3 = stateno = 1612
trigger3 = movecontact 

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 3300
triggerall = command = "Splash Rose"
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = ctrl
trigger2 = stateno = 1602
trigger2 = movecontact
trigger3 = stateno = 1612
trigger3 = movecontact

;---------------------------------------------------------------------------
[State -1, Dynamite Swing2]
type = ChangeState
value = 3200
triggerall = command = "Dynamite Swing2"
triggerall = power >= ifelse(fvar(30) > 0,1000,2000)
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = ctrl
trigger2 = hitdefattr = SC, NA, SA
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1, Dynamite Swing]
type = ChangeState
value = 3100
triggerall = command = "Dynamite Swing"
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
triggerall = statetype != A
triggerall = stateno != 1001
trigger1 = ctrl
trigger2 = hitdefattr = SC, NA, SA
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1, Dodge Fwd]
type = ChangeState
value = 700
triggerall = command = "z"  || command = "recovery"
triggerall = command != "holdback"
trigger1 = statetype != A && (ctrl || stateno = 100)
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = power >= 1000
trigger2 = stateno = [150,151]

;------------------------------------------------------------------------------
[State -1, Dodge Back]
type = ChangeState
value = 710
triggerall = command = "z" || command = "recovery"
triggerall = command = "holdback"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = power >= 1000
trigger2 = stateno = [150,151]

;------------------------------------------------------------------------------
;[State -1, Hi]
;type = ChangeState
;value = 250
;triggerall = command = "RealCtr1"
;triggerall = stateno != 250
;trigger1 = statetype = S
;trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
triggerall = !var(0)
value = IfElse(Vel X = 0,1810,1800)
TriggerAll= Var(59)<=0
triggerall = (Command = "Spinfall_x" || Command = "Spinfall_y")
trigger1 = StateType = A && Ctrl = 1
trigger2=stateno=603||stateno=624||stateno=623||stateno=613||stateno=633||stateno=632
trigger2=movecontact&&statetype=A

;------------------------------------------------------------------------------
[State -1, straight slicer a]
type = ChangeState
value = 1600
triggerall = command = "slicer_a"
triggerall = command != "spinfall_a"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = statetype != A
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1, straight slicer b]
type = ChangeState
value = 1610
triggerall = command = "slicer_b"
triggerall = command != "spinfall_b"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = statetype != A
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 1500
triggerall = command = "tatsumaki_b"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = statetype != A
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 1520
triggerall = command = "tatsumaki_d"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = statetype != A
trigger2 = movecontact

;===============================================================================
[State SP]
type = ChangeState
value = 1400
triggerall = command = "RealCtr1"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = stateno != 220
trigger2 = stateno != 230
trigger2 = movehit

[State SP]
type = ChangeState
value = 1450
triggerall = command = "RealCtr2"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = stateno != 220
trigger2 = stateno != 230
trigger2 = movehit

;===============================================================================

;------------------------------------------------------------------------------
[State -1, good night]
type = ChangeState
value = 1300
triggerall = command = "goodnight"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = stateno != 220
trigger2 = stateno != 230
trigger2 = movehit

[State -1, Spider]
type = ChangeState
value = 1205
triggerall = stateno = 1150
triggerall = movehit
triggerall = statetype = A
trigger1 = command = "spider_x"
trigger2 = command = "spider_y"

[State -1, Spider]
type = ChangeState
value = 1205
triggerall = stateno = 1160
triggerall = movehit
triggerall = statetype = A
trigger1 = command = "spider_x"
trigger2 = command = "spider_y"

;------------------------------------------------------------------------------
[State -1, spinfall_b]
type = ChangeState
value = 1160
triggerall = command = "spinfall_b"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = stateno != 220
trigger2 = stateno != 230
trigger2 = statetype != A
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1, spinfall_a]
type = ChangeState
value = 1150
triggerall = command = "spinfall_a"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = stateno != 220
trigger2 = stateno != 230
trigger2 = statetype != A
trigger2 = movecontact

;------------------------------------------------------------------------------
;Vertical_B
[State -1]
type = ChangeState
value = 1100
triggerall = command = "uppercut_b"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = stateno != 220
trigger2 = stateno != 230
trigger2 = statetype != A
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 1110
triggerall = command = "uppercut_d"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = [200, 299]
trigger2 = stateno != 220
trigger2 = stateno != 230
trigger2 = statetype != A
trigger2 = movecontact

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 100
triggerall = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 105
triggerall = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 900
triggerall = statetype = S
triggerall = ctrl
triggerall = stateno != 100    ;Not running
triggerall = p2bodydist X < 6
trigger1 = command = "throw_c" ;Near, p2 stand
trigger1 = p2statetype = S
trigger1 = p2movetype != H
trigger2 = command = "throw_c" ;Near, p2 crouch
trigger2 = p2statetype = C
trigger2 = p2movetype != H

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 920
triggerall = statetype = S
triggerall = ctrl
triggerall = stateno != 100    ;Not running
triggerall = p2bodydist X < 6
trigger1 = command = "throw_b" ;Near, p2 stand
trigger1 = p2statetype = S
trigger1 = p2movetype != H
trigger2 = command = "throw_b" ;Near, p2 crouch
trigger2 = p2statetype = C
trigger2 = p2movetype != H


;------------------------------------------------------------------------------
[State -1, Taunt]
type = ChangeState
value = 195
triggerall = command = "start"
triggerall = stateno != 195
trigger1 = statetype = S
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 204
triggerall = command = "holdfwd" || (var(21) && command = "holdback")
triggerall = command = "x"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 221
trigger2 = movecontact
trigger3 = stateno = 234
trigger3 = movecontact

;------------------------------------------------------------------------------
[State -1, stand light punch]
type = ChangeState
value = 200
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = P2bodydist X >= 15
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 200
trigger2 = animelem = 3, > 1
trigger3 = stateno = 201
trigger3 = animelem = 3, > 1

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 201
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = P2bodydist X < 15
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 201
trigger2 = animelem = 3, > 1

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 202
triggerall = command = "x"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 202
trigger2 = animelem = 3, > 3

;------------------------------------------------------------------------------
[State -1, air light punch]
type = ChangeState
value = 203
triggerall = command = "x"
trigger1 = statetype = A
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 215
triggerall = command = "holdfwd" || (var(21) && command = "holdback")
triggerall = command = "a"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 221
trigger2 = movecontact
trigger3 = stateno = 234
trigger3 = movecontact

;------------------------------------------------------------------------------
[State -1, stand light kick]
type = ChangeState
value = 210
triggerall = command = "a"
triggerall = command != "holddown"
trigger1 = P2bodydist X >= 10
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 201
trigger3 = movecontact

;------------------------------------------------------------------------------
[State -1, stand near kick]
type = ChangeState
value = 211
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = P2bodydist X < 10
trigger1 = statetype = S
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 212
triggerall = command = "a"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 212
trigger2 = animelem = 3, > 8

;------------------------------------------------------------------------------
[State -1, air light kick]
type = ChangeState
value = 213
triggerall = command = "a"&&Vel X=0
trigger1 = statetype = A
trigger1 = ctrl

[State -1, air light kick]
type = ChangeState
value = 300
triggerall = command = "a"
trigger1 = statetype = A
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1, air counter]
type = ChangeState
value = 241
triggerall = command = "c" || command = "b+y"
trigger1 = statetype = A
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1, Blown Off]
type = ChangeState
value = 240
triggerall = command = "c" || command = "b+y"
trigger1 = statetype != A
trigger1 = ctrl
;---------------------------------------------------------------------------

;CD attack(during guard)
[State -1]
type = ChangeState
value = 243
triggerall = command = "c" || command = "b+y"
triggerall = power >= 1000
trigger1 = statetype != A
trigger1 = stateno = [150,153]

;------------------------------------------------------------------------------
[State -1, stand hard punch]
type = ChangeState
value = 220
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = P2bodydist X >= 24
trigger1 = statetype = S
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1, stand near hard punch]
type = ChangeState
value = 221
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = P2bodydist X < 24
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200,201]
trigger2 = movecontact
trigger3 = stateno = [210,211]
trigger3 = movecontact

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 222
triggerall = command = "y"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1, air medium punch]
type = ChangeState
value = 224
triggerall = command = "y"
triggerall = statetype = A
triggerall = ctrl
trigger1 = Vel X != 0

;------------------------------------------------------------------------------
[State -1, air hard punch]
type = ChangeState
value = 223
triggerall = command = "y"
trigger1 = statetype = A
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1, stand hard kick]
type = ChangeState
value = 230
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2bodydist X >= 20
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200,201]
trigger2 = movecontact
trigger3 = stateno = [210,211]
trigger3 = movecontact

;------------------------------------------------------------------------------
[State -1]
type = ChangeState
value = 234
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2bodydist X < 20
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = [200,201]
trigger2 = movecontact
trigger3 = stateno = [210,211]
trigger3 = movecontact

;------------------------------------------------------------------------------
[State -1, crouch ]
type = ChangeState
value = 231
triggerall = command = "b"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1, air hard kick]
type = ChangeState
value = 232
triggerall = command = "b"&&Vel X=0
trigger1 = statetype = A
trigger1 = ctrl

;------------------------------------------------------------------------------
[State -1, air hard kick]
type = ChangeState
value = 233
triggerall = command = "b"
trigger1 = statetype = A
trigger1 = ctrl
