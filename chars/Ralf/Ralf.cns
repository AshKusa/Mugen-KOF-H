
[Data]
life = 1500
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15                                                                                             
sparkno = 2
guard.sparkno = 42
KO.echo = 0
volume = 100
IntPersistIndex = 5,20
FloatPersistIndex = 40
power= 5000

[Size]
xscale = 1
yscale = 1
ground.back = 16
ground.front = 15
air.back = 12
air.front = 11
height = 48
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -96
mid.pos = 12, -56
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd     = 2.6         
walk.back    = -2.4       
run.fwd      = 5.6, 0     
run.back     = -5.9,-3.9   
jump.neu     = 0,-11.4      
jump.back    = -2.5        
jump.fwd     = 2.55        
runjump.back = -2.55,-8.1  
runjump.fwd  = 4,-9.5      
airjump.neu  = 0,-9.6      
airjump.back = -2.5        
airjump.fwd  = 2.55 	

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .68
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; 胜利姿势设置
[Statedef 180]
type = S
;------------------------------------------------
[State a]
type = ChangeState
triggerall = Enemy,Stateno = 99971
trigger1 = time = 0
value = 99972

[State a]
type  = ChangeState
triggerall = Enemy,Stateno != 99971
trigger1 = MatchOver
value  = 99998
;------------------------------------------------
[State 180, 1]
type = ChangeState
trigger1 = 1
value = 181+random%2

;---------------------------------------------------------------------------
; 胜利1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time < 150
flag = roundnotover

[State 181, 1]
type = PlaySnd
trigger1 = AnimElem = 12
value = 180,0

;---------------------------------------------------------------------------
; 胜利2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 1]
type = AssertSpecial
trigger1 = Time < 150
flag = roundnotover

[State 182, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 180,1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 开场设置
[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 190, 1]
type = ChangeState
trigger1 = P2Name = "Heidern" || p4name = "Heidern"
trigger2 = P2Name = "Whip" || p4name = "Whip"
trigger3 = P2Name = "Clark" || p4name = "Clark"
trigger4 = P2Name = "Leona" || p4name = "Leona"
trigger5 = P2Name = "Ralf" || p4name = "Ralf"
value = 192

[State 190, 2]
type = ChangeState
trigger1 = P2Name = "K'" || p4name = "K'"
trigger2 = P2Name = "Maxima" || p4name = "Maxima"
trigger3 = P2Name = "Kula" || p4name = "Kula"
value = 193

[State 190, 3]
type = ChangeState
trigger1 = 1
value = 191
;---------------------------------------------------------------------------
; 开场1
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 191, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 190,0
channel = 0

[State 191, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 95196
;---------------------------------------------------------------------------
; 开场2
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 192, 1]
type = EnvShake
trigger1 = AnimElem = 5,= 1
time = 12
ampl = -12

[State 192, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 190,2
channel = 0

[State 192, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 190,3
channel = 0

[State 192, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 95196
;---------------------------------------------------------------------------
; 开场3
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 193, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 95196
;---------------------------------------------------------------------------
; 挑衅
[Statedef 195]
type = S
movetype = I
physics = S
anim = 195
velset = 0,0
ctrl = 0

[State 195, 1]
type = PlaySnd
trigger1 = Time = 0
trigger2 = IsHelper(1234567777)
value = 190,1
channel = 0

[state 1]
type=assertspecial
trigger1 = IsHelper(1234567777)
flag=invisible

[State 1010, 0]
type = destroyself
trigger1 = animtime = 0
trigger2 = IsHelper(1234567777)
ignorehitpause = 1
persistent = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef 3300]
type = S
movetype = A
physics = N
anim = 3300
velset = 0
ctrl = 0
poweradd = ifelse(fvar(30) > 0,0,-1000)
juggle = 10

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2200, 8]
type = SuperPause
trigger1 = AnimElem = 3
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = AnimElem = 3
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = AnimElem = 3
anim = f7000
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = AnimElem = 3
anim = f7010
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = F9000, 0

[State 3050, 1]
type = AfterImage
trigger1 = AnimElem = 3
time = 48
length = 12
timegap = 1
framegap = 3
palbright = 1, 1, 1
palcolor = 0
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3101, 1]
type = PlaySnd
trigger1 = time = 0
value = 1000,7

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 105,0

[State 1105, 1]
type = PlaySnd
trigger1 = time = 30
value = 1000,8
channel = 20

[State 1105, 1]
type = StopSnd
trigger1 = AnimElem = 25
channel = 20

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 30
value = 1000,9

[State 3050, 1]
type = NotHitBy
trigger1 = AnimElem = 3
value = SCA

[State 3050, 1]
type = ReversalDef
trigger1 = AnimElem = 3
pausetime = 10,16
sparkno = 5
sparkxy = -15,0
hitsound = S6,1
reversal.attr = SA,NA,SA,HA
numhits = 0
ignorehitpause = 1

[State 3050, 1]
type = AttackDist
trigger1 = 1
value = 0

[State 1105, 1]
type = velset
trigger1 = AnimElem = 8,= 1
x = 6

[State 1105, 1]
type = velset
trigger1 = AnimElem = 24
x = 0

[State 1100, 1]
type = AfterImage
trigger1 = AnimElem = 8
time = 50
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1

[State 1100, 1]
type = AfterImageTime
trigger1 = AnimElem = 24
time = 0

[State 1105, 1]
type = Projectile
trigger1 = AnimElem = 8,>= 0 && AnimElem = 24,< 0
projanim = 1107
projremovetime = 1
offset = 20,0
ignorehitpause = 1

[State 1105, 1]
type = HitDef
trigger1 = animelem = 8
trigger2 = animelem = 16
attr = S, HA
damage = 50, 10
animtype = hard
hitflag = MAFP
PRIORITY=7
guardflag = M
getpower = 20,7
pausetime = 20, 50
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,4
guardsound = s6, 2
ground.type = low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15
envshake.time = 30
envshake.ampl = -3
envshake.freq = 90
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 1105, 1]
type = HitDef
trigger1 = animelem = 12
trigger2 = animelem = 20
attr = S, HA
damage = 50, 10
hitflag = MAFP
PRIORITY = 7
animtype = hard
guardflag = M
getpower = 20,7
pausetime = 20, 51
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,4
guardsound = s6, 2
ground.type = high
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15
envshake.time = 30
envshake.ampl = -3
envshake.freq = 90
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 1105, 1]
type = HitDef
trigger1 = animelem = 9
trigger2 = animelem = 17
attr = S, HA
damage = 50, 5
animtype = hard
hitflag = MAFP
PRIORITY=7
guardflag = M
getpower = 20,7
pausetime = 20, 50
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,4
guardsound = s6, 2
ground.type = low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15
envshake.time = 30
envshake.ampl = -3
envshake.freq = 90
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 1105, 1]
type = HitDef
trigger1 = animelem = 13
trigger2 = animelem = 21
attr = S, HA
damage = 20, 5
hitflag = MAFP
PRIORITY = 7
animtype = hard
guardflag = M
getpower = 20,7
pausetime = 20, 51
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,4
guardsound = s6, 2
ground.type = high
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15
envshake.time = 30
envshake.ampl = -3
envshake.freq = 90
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 1105, 1]
type = HitDef
trigger1 = AnimElem = 23
attr = S, SA
damage = 10,6
animtype = Hard
guardflag = M
hitflag = MAFP
getpower = 100,0
pausetime = 10,50
guard.pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S3050,3
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
guard.velocity = -10
p2stateno = 1106
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0
envshake.time = 30
envshake.ampl = -3
envshake.freq = 90

[State 3000, b]
type = Explod
trigger1 = AnimElem = 23, >= 0
trigger1 = movehit
anim = F10
pos = -10,-70
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElemtime(8) > 0 && AnimElemtime(27) < 0
trigger1 = gametime%5 = 0
anim = f400
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9
ownpal = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElemtime(8) > 0 && AnimElemtime(27) < 0
trigger1 = gametime%5 = 0
anim = f401
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9
ownpal = 1

[State 1000, palfx]
type = palfx
trigger1 = AnimElemtime(8) > 0 && AnimElemtime(27) < 0
time = 5
add = 230,170,110
mul = 240,180,100
color = 0
ignorehitpause = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElemtime(8) > 0 && AnimElemtime(27) < 0
trigger1 = gametime%5 = 0
anim = f403
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9
ownpal = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElemtime(8) > 0 && AnimElemtime(27) < 0
trigger1 = gametime%5 = 0
anim = f402
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 100,100
removetime = -2
sprpriority = 9
ownpal = 1

[State 1105, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                     
juggle  = 1                      
velset = 0,0                   
ctrl = 0                        
anim = 200                       
poweradd = 20                    
sprpriority = 2                 

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = 0
guard.sparkno = 40
sparkxy = -15, -80
hitsound = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3              
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,0
persistent = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 205]
type = S
movetype = A
physics = S
anim = 205
velset = 0
ctrl = 0
juggle = 1

[State 205, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = 0
guard.sparkno = 40
sparkxy = -15, -80
hitsound = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 205, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,0
persistent = 0

[State 205, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,2
persistent = 0

[State 210, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 120,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -25, -75
hitsound = S1,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -5
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 210, 4]
type = ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
ignorehitpause = 1
persistent = 0
value = 210
elem = 6

[State 210, 5]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------
[Statedef 215]
type = S
movetype = A
physics = S
anim = 215
velset = 0
ctrl = 0
juggle = 4

[State 215, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 215, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,2
persistent = 0

[State 215, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 110,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -25, -75
hitsound = S1,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 210, 5]
type = SprPriority
trigger1 = AnimElem = 6
value = 2

[State 215, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 230, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S900,2
persistent = 0

[State 230, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = 0
guard.sparkno = 40
sparkxy = -15, -85
hitsound = s1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 235]
type = S
movetype = A
physics = S
anim = 235
velset = 0
ctrl = 0
juggle = 4

[State 235, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 235, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S900,2
persistent = 0

[State 235, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = 0
guard.sparkno = 40
sparkxy = -15, -85
hitsound = s1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 235, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 240, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,3
persistent = 0

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 110,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -25, -75
hitsound = S1,3
guardsound = S6,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 245]
type = S
movetype = A
physics = S
anim = 245
velset = 0
ctrl = 0
juggle = 5

[State 245, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 245, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,3
persistent = 0

[State 245, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 110,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -20, -75
hitsound = S1,3
guardsound = S6,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 245, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,0
persistent = 0

[State 400, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = 0
guard.sparkno = 40
sparkxy = -20, -40
hitsound = S1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 400, 4]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 410, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,1
persistent = 0

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 105,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -25, -40
hitsound = S1,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S900,2
persistent = 0

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 50,0
animtype = Light
guardflag = L
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = 0
guard.sparkno = 40
sparkxy = -25, -10
hitsound = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 430, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 440, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,3
persistent = 0

[State 440, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 100,0
animtype = Hard
guardflag = L
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -20, -10
hitsound = S1,3
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3.5,-3
p2stateno = 4840
air.velocity = -3.5,-3
down.velocity = -3.5,-2
guard.velocity = -8
fall = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,0
persistent = 0

[State 600, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 60,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = 0
guard.sparkno = 40
sparkxy = -20, -50
hitsound = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))


[Statedef 605]
type = A
movetype = A
physics = A
anim = 605
ctrl = 0
juggle = 2

[State 605, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 605, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,0
persistent = 0

[State 605, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 65,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = 0
guard.sparkno = 40
sparkxy = -20, -50
hitsound = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

;---------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 610, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,2
persistent = 0

[State 610, 4]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 105,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = 1
guard.sparkno = 41
sparkxy = -20, -50
hitsound = S1,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))


[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 615
sprpriority = 2

[State 615, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 615, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,2
persistent = 0

[State 615, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 105,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = 1
guard.sparkno = 41
sparkxy = -20, -50
hitsound = S1,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

;---------------------------------------------------------------------------
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 630, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S900,2
persistent = 0

[State 630, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 60,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = 0
guard.sparkno = 40
sparkxy = -20, -40
hitsound = S1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))


[Statedef 635]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 635
sprpriority = 2

[State 635, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 635, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S900,2
persistent = 0

[State 635, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = 0
guard.sparkno = 40
sparkxy = -20, -40
hitsound = S1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

;---------------------------------------------------------------------------
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 640, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 640, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,3
persistent = 0

[State 640, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 100,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = 1
guard.sparkno = 41
sparkxy = -20, -40
hitsound = S1,3
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))


[Statedef 645]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 645
sprpriority = 2

[State 645, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 645, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = Random > 250
value = S5,3
persistent = 0

[State 645, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = A, NA
damage = 100,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = 1
guard.sparkno = 41
sparkxy = -20, -40
hitsound = S1,3
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

;---------------------------------------------------------------------------
[Statedef 650]
type = S
movetype = A
physics = S
anim = 405
velset = 0
ctrl = 0
juggle = 10

[State 650, 1]
type = PlaySnd
trigger1 = Time = 8
value = 0, 4

[State 650, 2]
type = PlaySnd
trigger1 = time = 0
value = S5,4

[State 650, 3]
type = posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
x = 20

[State 650, 4]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 120,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 2
guard.sparkno = 41
sparkxy = -20, -75
hitsound = S1,4
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-4
p2stateno = ifelse(enemy,var(0) = 1,4815,4045)
air.velocity = -4.5,-4
guard.velocity = -10
fall = 1
envshake.time = 8
envshake.ampl = -4

[State 650, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 655]
type = A
movetype = A
physics = A
anim = 650
ctrl = 0
juggle = 10

[State 655, 1]
type = PlaySnd
trigger1 = Time = 5
value = 0, 4

[State 655, 2]
type = PlaySnd
trigger1 = time = 0
value = S5,4

[State 655, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 110,0
animtype = Hard
guardflag = MA
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 2
guard.sparkno = 41
sparkxy = -20, -40
hitsound = S1,4
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-4
p2stateno = ifelse(enemy,var(0) = 1,4815,4045)
air.velocity = -4.5,-4
guard.velocity = -10
fall = 1
envshake.time = 8
envshake.ampl = -4

;---------------------------------------------------------------------------
[Statedef 660]
type = S
movetype = A
physics = S
anim = 660
ctrl = 0
poweradd = 0

[State 660, 1]
type = PlaySnd
trigger1 = Time = 5
value = 0, 4

[State 660, 2]
type = PlaySnd
trigger1 = time = 0
value = S5,4

[State 660, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 660, 4]
type = Pause
trigger1 = Time = 0
time = 12
movetime = 12

[State 660, 5]
type = AssertSpecial
trigger1 = time < 5
flag = nobardisplay
flag = nobg
flag = nofb

[State 820, 6]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 660, 7]
type = posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
x = 20

[State 660, 8]
type = HitDef
trigger1 = AnimElem = 6
attr = A, NA
damage = 110,0
animtype = Hard
guardflag = MA
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = 2
guard.sparkno = 41
sparkxy = -20, -40
hitsound = S1,4
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-4
air.velocity = -4.5,-4
guard.velocity = -10
fall = 1
p2stateno = 55351
p2facing = 1
p2getp1state = 1

[State 660, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 700]
type = S
movetype = I
physics = S
anim = 700
velset = 0
ctrl = 0
sprpriority = -1

[State 700, 2]
type = PlaySnd
trigger1 = time = 0
value = S700,2

[State 700, 3]
type = PlayerPush
trigger1 = AnimElem = 8,< 0
value = 0

[State 700, 4]
type = AfterImage
trigger1 = time = 1
time = 16
length = 16
timegap = 1
framegap = 4
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 700, 5]
type = HitBy
trigger1 = time < 19
value = SC,ST,HT

[State 700, 6]
type = posadd
trigger1 = AnimElem = 3,>= 0 && AnimElem = 7,< 0
x = 5

[State 700, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 710]
type = S
movetype = I
physics = S
anim = 710
velset = 0
ctrl = 0
sprpriority = -1

[State 710, 2]
type = PlaySnd
trigger1 = time = 0
value = S700,2

[State 710, 3]
type = PlayerPush
trigger1 = AnimElem = 8,< 0
value = 0

[State 710, 4]
type = AfterImage
trigger1 = time = 1
time = 16
length = 16
timegap = 1
framegap = 4
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 710, 5]
type = HitBy
trigger1 = time < 19
value = SC,ST,HT

[State 710, 6]
type = posadd
trigger1 = AnimElem = 3,>= 0 && AnimElem = 7,< 0
x = -5

[State 710, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 720]
type = S
movetype = I
physics = S
anim = 700
velset = 0
ctrl = 0
sprpri;---------------------------------------------------
[State 700, PalFX];身上白光
type = PalFX
triggerall = (Time = 0 || Time = 3 || Time = 6)
trigger1 = prevstateno = [150,153]
time = 1
add = 0,0,255

[State 701, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = [150,153]
trigger1 = time = 0
value = -1000

[State 700, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = [150,153]
trigger1 = 1
value = SCA

[State 700, EnvColor]
type = EnvColor
triggerall = time = 0
trigger1 = prevstateno = [150,153]
value = 255,255,255
time = 1
under = 1

[State 700, Explod]
type = Explod
trigger1 = prevstateno = [150,153]
trigger1 = time = 0
anim = f700
postype = p1
ID = 700
pos = 0,-65
ontop = 1
ownpal = 1
persistent = 0
pausemovetime = 999999
supermovetime = 999999
supermove = 1

[State 700, Pause]
type = Pause
trigger1 = prevstateno = [150,153]
trigger1 = time = 0
time = 6
movetime = 6
ignorehitpause = 1

[State 700, AfterImage]
type = AfterImage
triggerall = time = 0
trigger1 = prevstateno = [150,153]
time = 15
length = 3
frameGap = 1
timeGap = 4
PalAdd = 0, 0, 0
PalMul = 1, 1, 1
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
Trans = add1
;---------------------------------------------------

[State 720, 2]
type = PlaySnd
trigger1 = time = 0
value = S700,0

[State 720, 3]
type = PlayerPush
trigger1 = AnimElem = 8,< 0
value = 0

[State 720, 8]
type = posadd
trigger1 = AnimElem = 3,>= 0 && AnimElem = 7,< 0
x = 5

[State 720, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 725]
type = S
movetype = I
physics = S
anim = 710
velset = 0
ctrl = 0
sprpriority = -1
;---------------------------------------------------
[State 700, PalFX];身上白光
type = PalFX
triggerall = (Time = 0 || Time = 3 || Time = 6)
trigger1 = prevstateno = [150,153]
time = 1
add = 0,0,255

[State 701, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = [150,153]
trigger1 = time = 0
value = -1000

[State 700, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = [150,153]
trigger1 = 1
value = SCA

[State 700, EnvColor]
type = EnvColor
triggerall = time = 0
trigger1 = prevstateno = [150,153]
value = 255,255,255
time = 1
under = 1

[State 700, Explod]
type = Explod
trigger1 = prevstateno = [150,153]
trigger1 = time = 0
anim = f700
postype = p1
ID = 700
pos = 0,-65
ontop = 1
ownpal = 1
persistent = 0
pausemovetime = 999999
supermovetime = 999999
supermove = 1

[State 700, Pause]
type = Pause
trigger1 = prevstateno = [150,153]
trigger1 = time = 0
time = 6
movetime = 6
ignorehitpause = 1

[State 700, AfterImage]
type = AfterImage
triggerall = time = 0
trigger1 = prevstateno = [150,153]
time = 15
length = 3
frameGap = 1
timeGap = 4
PalAdd = 0, 0, 0
PalMul = 1, 1, 1
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
Trans = add1
;---------------------------------------------------

[State 725, 1]
type = PlaySnd
trigger1 = time = 0
value = S700,0

[State 725, 2]
type = PlayerPush
trigger1 = AnimElem = 8,< 0
value = 0

[State 725, 5]
type = PlayerPush
trigger1 = AnimElem = 8,< 0
value = 0

[State 725, 7]
type = HitBy
trigger1 = time < 19
value = SC,ST,HT

[State 725, 8]
type = posadd
trigger1 = AnimElem = 3,>= 0 && AnimElem = 7,< 0
x = -5

[State 725, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
[Statedef 730]
type = S
movetype = I
physics = S
anim = 720
velset = 0
ctrl = 0
sprpriority = -1

[state 730, 1]
type = posset
trigger1 = time = 0
y = 0

[state 730, 1]
type = velset
trigger1 = time = 0
y = 0

[State 730, 1]
type = PlaySnd
trigger1 = time = 0
value = S700,1

[State 730, 2]
type = PlayerPush
trigger1 = AnimElem = 6,< 0
value = 0

[State 730, 7]
type = NotHitBy
trigger1 = 1
value = SCA

[State 705, 1]
type = velset
trigger1 = Time = [0,10]
x = -5

[State 730, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 800]
type = S
movetype = A
physics = S
anim = 800
velset = 0
ctrl = 0

[State 800, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NT
guardflag =
hitflag = M-
sparkno = -1
sparkxy = 0, 0
priority = 5,dodge
p1stateno = 810
p2stateno = 820
p2facing = 1

[State 800, 2]
type = ChangeState
trigger1 = Time = 1
value = 215

;---------------------------------------------------------------------------
[Statedef 810]
type = S
movetype = A
physics = S
anim = 810
velset = 0
sprpriority = 0
poweradd = 150

[State 810, 1]
type = Explod
trigger1 = AnimElem = 1
anim = F8
pos = 30,-95
postype = p1
sprpriority = 3
shadow = 0
ownpal = 1

[State 810, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = F800,0

[State 810, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 900,5
channel = 0

[State 810, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1,4

[State 810, 1]
type = Explod
trigger1 = AnimElem = 7
anim = F2
pos = 30,-85
postype = p1
sprpriority = 5
shadow = 0
ownpal = 1

[State 810, 1]
type = Explod
trigger1 = AnimElem = 7
anim = F60
pos = 0,5
postype = p1
sprpriority = 5
shadow = 0
ownpal = 1

[State 810, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 900,6

[State 810, 1]
type = TargetBind
trigger1 = AnimElem = 2,< 0
pos = 35,-95

[State 810, 1]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 && AnimElem = 5,< 0
pos = 30,-95

[State 810, 1]
type = TargetBind
trigger1 = AnimElem = 5,>= 0 && AnimElem = 7,< 0
pos = 25,-95

[State 810, 1]
type = TargetBind
trigger1 = AnimElem = 7,>= 0 && AnimElem = 7,< 8
pos = 35,0

[State 810, 1]
type = EnvShake
trigger1 = AnimElem = 7
time = 12
ampl = -8

[State 810, 1]
type = TargetState
trigger1 = AnimElem = 7,= 8
value = 821

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 7,= 8
value = -150

[State 810, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 820+var(55)*30000

[State 820, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

;---------------------------------------------------------------------------
[Statedef 821]
type = A
movetype = H
physics = N
velset = -5,-7

[State 821, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5030+var(55)*30000

[State 821, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = anim = 5030+var(55)*30000 && SelfAnimExist(5035+var(55)*30000)
value = 5035+var(55)*30000

[State 821, 3]
type = ChangeAnim
triggerall = AnimTime = 0
trigger1 = anim = 5030+var(55)*30000 && !SelfAnimExist(5035+var(55)*30000)
trigger2 = anim = 5035+var(55)*30000
value = 5050+var(55)*30000

[State 821, 4]
type = veladd
trigger1 = 1
y = .45

[State 821, 5]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 900]
type = S
movetype = A
physics = S
anim = 800
velset = 0
ctrl = 0
poweradd = 150

[State 900, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NT
guardflag =
hitflag = M-
sparkno = -1
sparkxy = 0, 0
priority = 5,dodge
p1stateno = 910
p2stateno = 920
p2facing = 1

[State 900, 2]
type = ChangeState
trigger1 = Time = 1
value = 235

;---------------------------------------------------------------------------
[Statedef 910]
type = S
movetype = A
physics = S
anim = 900
velset = 0
sprpriority = 2

[State 910, 1]
type = Explod
trigger1 = AnimElem = 2
anim = F8
pos = 40,-50
postype = p1
sprpriority = 3
shadow = 0
ownpal = 1

[State 910, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = F800,0

[State 910, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 900,7
channel = 0

[State 910, 1]
type = PlaySnd
trigger1 = AnimElem = 15
value = 900,1

[State 910, 1]
type = PlaySnd
trigger1 = AnimElem = 18
value = 900,6

[State 910, 1]
type = width
trigger1 = Time = 0
edge = 0,40

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 1,>= 0 && AnimElem = 3,< 0
pos = 15,-5

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 3,>= 0 && AnimElem = 4,< 0
pos = 35,-55

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 4,>= 0 && AnimElem = 5,< 0
pos = 10,-65

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 5,>= 0 && AnimElem = 6,< 0
pos = 10,-75

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 6,>= 0 && AnimElem = 7,< 0
pos = 10,-95

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 7,>= 0 && AnimElem = 8,< 0
pos = 10,-110

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 8,>= 0 && AnimElem = 10,< 0
pos = 5,-120

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 10,>= 0 && AnimElem = 11,< 0
pos = 5,-125

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 11,>= 0 && AnimElem = 12,< 0
pos = 5,-120

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 12,>= 0 && AnimElem = 13,< 0
pos = 5,-118

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 13,>= 0 && AnimElem = 14,< 0
pos = 5,-115

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 14,>= 0 && AnimElem = 15,< 0
pos = 5,-110

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 15,>= 0 && AnimElem = 16,< 0
pos = 5,-100

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 16,>= 0 && AnimElem = 17,< 0
pos = 5,-80

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 17,>= 0 && AnimElem = 18,< 0
pos = 5,-45

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 18,>= 0 && AnimElem = 19,< 0
pos = 5,-20

[State 910, 1]
type = TargetBind
trigger1 = AnimElem = 19,>= 0 && AnimElem = 20,< 0
pos = 0,0

[State 910, 1]
type = Explod
trigger1 = AnimElem = 18
anim = F67
pos = 0,5
postype = p1
sprpriority = -1
shadow = 0
ownpal = 1

[State 910, 1]
type = Explod
trigger1 = AnimElem = 18
anim = F66
pos = 0,5
postype = p1
sprpriority = -1
shadow = 0
ownpal = 1

[State 910, 1]
type = EnvShake
trigger1 = AnimElem = 18
time = 12
ampl = -8

[State 910, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 20
value = -140

[State 910, 1]
type = TargetState
trigger1 = AnimElem = 20
value = 925

[State 910, 2]
type = turn
trigger1 = AnimElem = 31

[State 910, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 920]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 920, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 920+var(55)*30000

[State 920, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

;---------------------------------------------------------------------------
[Statedef 925]
type = A
movetype = H
physics = N
velset = 4.5,-3.5

[State 925, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 925+var(55)*30000

[State 925, 1]
type = veladd
trigger1 = Time > 0
y = .4

[State 925, 1]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;===========================================================================
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
velset = 0
ctrl = 0
poweradd = 100

[State 1000, 1]
type = VarSet
trigger1 = 1
fvar(1) = ScreenPos X

[State 1000, 2]
type = PlaySnd
trigger1 = Time = 1
value = 900,2

[State 1000, 3]
type = HitDef
trigger1 = Time = 0
trigger1 = enemynear,stateno != [120,153]
attr = S, ST
guardflag =
hitflag = M
getpower = 150,0
sparkno = -1
sparkxy = 0, 0
priority = 6,dodge
p1stateno = 1001
p2stateno = 1002
p2facing = 1
numhits = 0

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1001]
type = S
movetype = A
physics = S
anim = 1001
sprpriority = 0
velset = 0,0

[State 1001, 1]
type = Explod
trigger1 = AnimElem = 2
anim = F9
pos = 60,-80
postype = p1
sprpriority = 1
shadow = 0
ownpal = 1

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 900,0

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = F800,0

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 900,1

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 900,3

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 13
value = 900,5

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 13
value = 900,6

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 1,>= 0 && AnimElem = 4,< 0
pos = 30,0

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 4,>= 0 && AnimElem = 5,< 0
pos = 20,-90

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 5,>= 0 && AnimElem = 6,< 0
pos = -5,-140

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 9,>= 0 && AnimElem = 10,< 0
pos = 5,-90

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 10,>= 0 && AnimElem = 11,< 0
pos = 0,-100

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 11,>= 0 && AnimElem = 12,< 0
pos = -20,-100

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 12,>= 0 && AnimElem = 13,< 0
pos = -50,-95

[State 1001, 1]
type = TargetBind
trigger1 = AnimElem = 13
pos = -90,0

[State 1001, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 9
value = -50
kill = 0

[State 1001, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 13
value = -50

[State 1001, 1]
type = TargetState
trigger1 = AnimElem = 9
value = 1003

[State 1001, 1]
type = TargetState
trigger1 = AnimElem = 13
value = 1004

[State 1001, 1]
type = PosAdd
trigger1 = enemy,BackEdgeDist < 30
trigger1 = fvar(1) != ScreenPos X
trigger1 = AnimElem = 11,< 0
x = abs(fvar(1)-ScreenPos X)

[State 1001, 1]
type = VarSet
trigger1 = AnimElem = 11,< 0
fvar(1) = ScreenPos X

[State 1001, 1]
type = Explod
trigger1 = AnimElem = 9
anim = F60
pos = 0,5
postype = p1
sprpriority = -1
shadow = 0
ownpal = 1

[State 1001, 1]
type = Explod
trigger1 = AnimElem = 9
anim = F2
pos = 0,-80
postype = p1
sprpriority = 5
shadow = 0
ownpal = 1

[State 1001, 1]
type = sprpriority
trigger1 = AnimElem = 9
value = -1

[State 1001, 1]
type = EnvShake
trigger1 = AnimElem = 9
trigger2 = AnimElem = 13
time = 12
ampl = -8

[State 1001, 1]
type = width
trigger1 = AnimElem = 11,< 0
edge = 55,0

[State 1001, 1]
type = width
trigger1 = AnimElem = 11,= 0
edge = 0,80

[State 1001, 1]
type = Explod
trigger1 = AnimElem = 13
anim = F67
postype = p2
pos = 0,5
sprpriority = -1
shadow = 0
ownpal = 1

[State 1001, 1]
type = Explod
trigger1 = AnimElem = 13
anim = F66
postype = p2
pos = 0,5
sprpriority = -1
shadow = 0
ownpal = 1

[State 1001, 1]
type = turn
trigger1 = AnimElem = 16

[State 1001, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

-------------------------------------------
[Statedef 1008]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1008

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f993
scale = .5,.5
id = 993
postype = p1
pos= 10,0
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f994
scale = .5,.5
id = 994
postype = p1
pos= 10,0
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 6]
type = PlaySnd
trigger1 = Time = 0
value = f7000,5

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 2000, 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 25
value = 2000, 3

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
trigger7 = AnimElem = 10
trigger8 = AnimElem = 11
trigger9 = AnimElem = 12
trigger10 = AnimElem = 13
trigger11 = AnimElem = 14
trigger12 = AnimElem = 15
trigger13 = AnimElem = 16
value = 0, 0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
attr = S, SA
animtype  = Medium
hitflag = MAFP
PRIORITY=7
damage    = 10,3
guardflag = MA
getpower = 5,0
pausetime = 5,30
sparkno = 2
guard.sparkno = 42
sparkxy = -40,-60
hitsound   = s1, 1
guardsound = s6, 2
ground.type = HIGH
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 4,0
air.velocity = -2.2,-5
palfx.sinadd=64,64,64,4
palfx.mul=128,128,128
palfx.time=36+(4*var(10))
fall = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
attr = S, SA
animtype  = Medium
hitflag = MAFP
PRIORITY=7
damage    = 0,0
guardflag = MA
getpower = 5,0
pausetime = 5,30
sparkno = 2
guard.sparkno = 42
sparkxy = -30,-20
hitsound   = s1, 1
guardsound = s6, 2
ground.type = HIGH
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 4,0
air.velocity = -2.2,-5
palfx.sinadd=64,64,64,4
palfx.mul=128,128,128
palfx.time=36+(4*var(10))
fall = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
attr = S, SA
animtype  = Medium
hitflag = MAFP
PRIORITY=7
damage    = 0,0
guardflag = MA
getpower = 5,0
pausetime = 5,30
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-20
hitsound   = s1, 1
guardsound = s6, 2
ground.type = HIGH
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 4,0
air.velocity = -2.2,-5
palfx.sinadd=64,64,64,4
palfx.mul=128,128,128
palfx.time=36+(4*var(10))
fall = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
attr = S, SA
animtype  = Medium
hitflag = MAFP
PRIORITY=7
damage    = 0,0
guardflag = MA
getpower = 5,0
pausetime = 5,30
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-10
hitsound   = s1, 1
guardsound = s6, 2
ground.type = HIGH
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 4,0
air.velocity = -2.2,-5
palfx.sinadd=64,64,64,4
palfx.mul=128,128,128
palfx.time=36+(4*var(10))
fall = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
attr = S, SA
animtype  = Medium
hitflag = MAFP
PRIORITY=7
damage    = 0,0
guardflag = MA
getpower = 5,0
pausetime = 5,30
sparkno = 2
guard.sparkno = 42
sparkxy = 60,-50
hitsound   = s1, 1
guardsound = s6, 2
ground.type = HIGH
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 4,0
air.velocity = -2.2,-5
palfx.sinadd=64,64,64,4
palfx.mul=128,128,128
palfx.time=36+(4*var(10))
fall = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
attr = S, SA
animtype  = Medium
hitflag = MAFP
PRIORITY=7
damage    = 0,0
guardflag = MA
getpower = 5,0
pausetime = 5,30
sparkno = 2
guard.sparkno = 42
sparkxy = -40,-60
hitsound   = s1, 1
guardsound = s6, 2
ground.type = HIGH
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 4,0
air.velocity = -2.2,-5
palfx.sinadd=64,64,64,4
palfx.mul=128,128,128
palfx.time=36+(4*var(10))
fall = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
trigger5 = AnimElem = 13
trigger6 = AnimElem = 15
attr = S, SA
animtype  = Medium
hitflag = MAFP
PRIORITY=7
damage    = 10,3
guardflag = MA
getpower = 5,0
pausetime = 5,30
sparkno = 2
guard.sparkno = 42
sparkxy = -30,-70
hitsound   = s1, 1
guardsound = s6, 2
ground.type = LOW
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 4,0
air.velocity = -2.2,-5
palfx.sinadd=64,64,64,4
palfx.mul=128,128,128
palfx.time=36+(4*var(10))
fall = 0

[State 7180, flames]
type=explod
trigger1 = HitCount = 1
trigger2 = HitCount = 2
trigger3 = HitCount = 3
trigger4 = HitCount = 4
trigger5 = HitCount = 5
trigger6 = HitCount = 6
trigger7 = HitCount = 7
trigger8 = HitCount = 8
trigger9 = HitCount = 9
trigger10 = HitCount = 10
trigger11 = HitCount = 11
trigger12 = HitCount = 12
trigger13 = HitCount = 13
trigger14 = HitCount = 14
anim=4056
ID=7182
sprpriority=3
postype=p2
vel=-.2,-.75
pos= (enemynear,const(size.mid.pos.x)), ifelse((enemynear,statetype=L), 0, (enemynear,const(size.mid.pos.y) + 10))
random=40,40
scale=.5,.5
ownpal=1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 26
attr = S, SA
animtype  = Medium
damage    = 80,10
guardflag = MA
getpower = 83,20
pausetime = 10,10
sparkno = 2
guard.sparkno = 42
sparkxy = -50,-90
hitsound   = S1,5
guardsound = S6,2
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -10,-8
air.velocity = -20,-14
ground.cornerpush.veloff = -50
envshake.time = 30
envshake.ampl = -3
envshake.freq = 90
fall = 0

[State 3000, b]
type = Explod
trigger1 = AnimElem = 26
trigger1 = movehit
anim = F10
pos = -50,-90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[state 230，移动]
type = veladd
trigger1 = time = 10
x = 15.5

[State 110,残影]
type=AfterImage
trigger1=Time=0
time=20
length=6
PalBright=0,0,0
PalContrast=128,128,128
PalAdd=0,0,0
PalMul=1,1,1
FrameGap=4
Trans=Add1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1002]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 1002, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1002+var(55)*30000

[State 1002, 1]
type = turn
trigger1 = AnimElem = 4

[State 1002, 1]
type = velset
trigger1 = AnimElem = 6
y = -12

[State 1002, 1]
type = veladd
trigger1 = AnimElem = 6,> 0
y = .45

[State 1002, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

;---------------------------------------------------------------------------

[Statedef 1003]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -2

[State 1003, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1003+var(55)*30000

[State 1003, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

;---------------------------------------------------------------------------

[Statedef 1004]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -2

[State 1004, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1004+var(55)*30000

[State 1004, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 1004, 1]
type = velset
trigger1 = AnimElem = 2
x = -3
y = -2

[State 1004, 1]
type = veladd
trigger1 = AnimElem = 2,> 0
y = .4

[State 1004, 1]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
poweradd = 100
ctrl = 0
anim = 1010

[State 3050, 1]
type = AttackDist
trigger1 = 1
value = 0

[State 3050, 1]
type = NotHitBy
trigger1 = AnimElem = 2,< 0
value = SCA

[State 3050, 1]
type = ReversalDef
trigger1 = AnimElem = 2,>= 0 && AnimElem = 4,< 0
pausetime = 10,12
sparkno = 42
sparkxy = -15,0
hitsound = 6,1
reversal.attr = SA,NA,SA,HA
numhits = 0
ignorehitpause = 1

[State 1010]
type = PlaySnd
trigger1 = animelem = 7
value = 0,4

[State 1010]
type = PlaySnd
trigger1 = prevstateno != [200,499]
trigger1 = time = 0
value = 3050,0

[State 1010]
type = PlaySnd
trigger1 = animelem = 6
value = 1000,0

[State 1010]
type = HitDef
trigger1 = animelem = 6
attr = S, SA
hitflag = MA
damage = 220, 220
animtype = hard
getpower = 60,20
pausetime = 20, 20
guard.pausetime = 11, 12
hitsound = s3050, 3
guardsound = s6, 2
ground.type = high
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -2,-18
sparkno = 2
guard.sparkno = 42
sparkxy = -15,-80
airguard.velocity = -2,-10
air.type = high
air.velocity = -7,-8
air.hittime = 25
fall = 1
fall.recover = 0
palfx.time = 70
palfx.sinadd = -55,-255,-255,125
palfx.add = 255,220,0
palfx.invertall = 1
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
yaccel = 0.5
envshake.time = 15
envshake.ampl = -6
p2facing = 1
p2stateno = 1016

[State 3000, b]
type = Explod
trigger1 = AnimElem = 6, >= 0 && movehit = 1
anim = F10
pos = -10,-70
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, a]
type = Explod
trigger1 = AnimElem = 6, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 6, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 7, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1010, 1]
type = posadd
trigger1 = AnimElem = 3
x = 10

[State 1010, 2]
type = posadd
trigger1 = AnimElem = 5,=2 || AnimElem = 5,=6 || AnimElem = 5,=10 || AnimElem = 5,=14 || AnimElem = 5,=18 || AnimElem = 5,=22
trigger2 = AnimElem = 5,=26 || AnimElem = 5,=30 || AnimElem = 5,=34 || AnimElem = 5,=38 || AnimElem = 5,=42
x = 1

[State 1010, 2]
type = posadd
trigger1 = AnimElem = 5,=4 || AnimElem = 5,=8 || AnimElem = 5,=12 || AnimElem = 5,=16 || AnimElem = 5,=20 || AnimElem = 5,=24
trigger2 = AnimElem = 5,=28 || AnimElem = 5,=32 || AnimElem = 5,=36 || AnimElem = 5,=40 || AnimElem = 5,=44
x = -1

[State 1010, 1]
type = posadd
trigger1 = AnimElem = 6
x = 10

[State 1010, 1]
type = posadd
trigger1 = AnimElem = 7 || AnimElem = 9 
x = 2

[State 1010, 1]
type = posadd
trigger1 = AnimTime = 0
x = 32

[State 1010]
type = ChangeState
trigger1 = (prevstateno = [200,499]) && time = 0
value = 1015

[State 1010]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1015]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
poweradd = 100
ctrl = 0
anim = 1015

[State 1015]
type = PlaySnd
trigger1 = animelem = 6
value = 0,4

[State 1015]
type = PlaySnd
trigger1 = animelem = 5
value = 1000,0

[State 1015]
type = HitDef
trigger1 = animelem = 6
attr = S, SA
hitflag = MA
sparkno = 2
guard.sparkno = 42
sparkxy = -15,-80
hitsound = s1, 4
guardsound = s6, 2
damage = 160, 15
animtype = hard
guardflag = MA
getpower = 60,20
pausetime = 20, 20
guard.pausetime = 11, 12
ground.type = high
ground.slidetime = 18
ground.hittime  = 15
ground.velocity = -2,-18
airguard.velocity = -2,-10
air.type = high
air.velocity = -7,-8
air.hittime = 25
fall = 1
fall.recover = 0
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
envshake.time = 15
envshake.ampl = -6
yaccel = 0.5
p2facing = 1
p2stateno = 1016

[State 1015, 1]
type = posadd
trigger1 = AnimElem = 3
x = 25

[State 1015, 1]
type = posadd
trigger1 = AnimElem = 6
x = 10

[State 1015, 1]
type = posadd
trigger1 = AnimElem = 7 || AnimElem = 9 
x = 2

[State 1015, 1]
type = posadd
trigger1 = AnimTime = 0
x = 32

[State 1015]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1016]
type = A
movetype = H
physics = N
velset = 0
anim = 1016
sprpriority = 0

[State 1600]
type = ChangeAnim2
trigger1 = time = 0
value = 1016+var(55)*30000

[State 1600]
type = posadd
trigger1 = time = 0
y = -20
x = 3

[State 1600]
type = PosFreeze
trigger1 = Time = 0

[State 1600]
type = VelSet
trigger1 = Time = 20
x = -3.2
y = -12

[State 1600]
type = VelAdd
trigger1 = Time > 20
y = -0.2

[State 1600]
type = VelAdd
trigger1 = Time > 35
y = 1.0
x = -0.05

[State 1600, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1600]
type = VelSet
trigger1 =  Pos Y >= 0 && Vel Y > 0
y = 0


[State 1600, 5]
type = SelfState
trigger1 =  animtime = 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 1020]
type = S
movetype = A
physics = N
anim = 1020
velset = 0
ctrl = 0
poweradd = 100
juggle = 10

[State 1020, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,1

[State 1020, 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
value = 0,2
channel = 0

[State 1020, 1]
type = velset
trigger1 = AnimElem = 1
x = 6

[State 1020, 1]
type = velset
trigger1 = AnimElem = 7
x = 3

[State 1020, 1]
type = velset
trigger1 = AnimElem = 12
x = 2.5

[State 1020, 1]
type = velmul
trigger1 = Time > 0
x = .8

[State 1020, 1]
type = posadd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 15
x = 20

[State 1020, 1]
type = posadd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 17
x = 12

[State 1020, 1]
type = posadd
trigger1 = AnimElem = 13
x = 10

[State 1020, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 45,5
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -85
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = -2
air.velocity = -4,-5
air.fall = 1
fall.recover = 0

[State 1020, 3]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
damage = 45,5
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -5, -70
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = -2
air.velocity = -4,-5
air.fall = 1
fall.recover = 0

[State 1020, 4]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
damage = 45,5
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -80
hitsound = S1,4
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1020, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1030]
type = S
movetype = A
physics = N
anim = 1030
velset = 0
ctrl = 0
poweradd = 100
juggle = 10

[State 1030, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,1

[State 1030, 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
value = 0,2
channel = 0

[State 1030, 1]
type = velset
trigger1 = AnimElem = 1
x = 10

[State 1030, 1]
type = velset
trigger1 = AnimElem = 7
x = 6

[State 1030, 1]
type = velset
trigger1 = AnimElem = 12
x = 2.5

[State 1030, 1]
type = velmul
trigger1 = Time > 0
x = .8

[State 1030, 1]
type = posadd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 15
x = 20

[State 1030, 1]
type = posadd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 17
x = 12

[State 1030, 1]
type = posadd
trigger1 = AnimElem = 13
x = 10

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 40,4
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -85
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = -2
air.velocity = -4,-5
air.fall = 1
fall.recover = 0

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
damage = 40,4
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -5, -70
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = -2
air.velocity = -4,-5
air.fall = 1
fall.recover = 0

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
damage = 40,4
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -80
hitsound = S1,4
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4,-5
guard.velocity = -2
air.fall = 1
fall.recover = 0

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 14
attr = S, SA
damage = 40,4
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -20, -85
hitsound = S1,4
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1030, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1050]
type    = C
movetype= A
physics = C
juggle  = 10
velset = 0,0
poweradd = 100
ctrl = 0
anim = 1050

[State 1050]
type = Explod
trigger1 = animelem = 4
anim = F60
sprpriority = 0
pos = 5,0
postype = p1
bindtime = 1
supermove = 0
ownpal = 1
ignorehitpause = 1

[State 1050, 1]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 120, 20
animtype = hard
guardflag = L
getpower = 70,25
hitflag = MA
pausetime = 10, 12
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-20
hitsound = s1, 4
guardsound = s6, 2
ground.type = hard
ground.slidetime = 27
ground.hittime  = 17
ground.velocity = -5,-5
guard.velocity = -10
guard.slidetime = 12
guard.hittime = 12
envshake.time = 10
envshake.ampl = -6
airguard.velocity = -5,-6
air.type = High
air.velocity = -4,-5
air.hittime = 5
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0

[State 1050, 2]
type = NotHitBy
trigger1 = AnimElem = 3
value = SCA
time = 21

[State 1050, 3]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A

[State 1050, 4]
type = StateTypeSet
trigger1 = vel y = 0
trigger1 = AnimElem = 11
statetype = C

[State 1050, 5]
type = HitBy
trigger1 = AnimElem = 3
value = SCA, NT, ST, HT
time = 21

[State 1050, 6]
type = PlaySnd
trigger1 = Time = 1
value = 1000, 2

[State 1050, 6]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 3

[State 1050, 6]
type = PlaySnd
trigger1 = animelem = 4
value = 900, 6

[State 1050, 7]
type = posset
trigger1 = AnimElem = 1
y = 0

[State 1050, 8]
type = posadd
trigger1 = AnimElem = 6
x = 16

[State 1050, 9]
type = Velset
trigger1 = AnimElem = 7
x = 2.54
y = -3.7

[State 1050, 10]
type = Velset
trigger1 = AnimElem = 7,>=0
x = 2.6

[State 1050, 11]
type = Veladd
trigger1 = time > 20
y = 0.34

[State 1050, 12]
type = ChangeState
trigger1 = time > 20
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1051
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 1051]
type    = C
movetype= I
physics = C
velset = 0,0
ctrl = 0
anim = 1051

[State 1051, 1]
type = PlaySnd
trigger1 = Time = 0
value = 47,0

[State 810, 1]
type = EnvShake
trigger1 = AnimElem = 1
time = 6
ampl = -3

[State 1051, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1051, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1051, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1055]
type    = C
movetype= A
physics = C
juggle  = 0
velset = 0,0
poweradd = 100
ctrl = 0
anim = 1055

[State 1055, 1]
type = Explod
trigger1 = animelem = 4
anim = F60
sprpriority = 0
pos = 5, 0
postype = p1
bindtime = 1
supermove = 1
ownpal = 1

[State 1055, 6]
type = PlaySnd
trigger1 = animelem = 8
value = 0, 3

[State 1055, 6]
type = PlaySnd
trigger1 = animelem = 4
value = 900, 6

[State 1055, 2]
type = HitDef
trigger1 = animelem = 8
attr = S, SA
damage = 80, 20
animtype = hard
guardflag = MAF
getpower = 90
hitflag = MAF
pausetime = 4, 5
guard.pausetime = 12, 13
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-20
hitsound = s1, 4
guardsound = s6, 2
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7,-8
guard.velocity = -10
guard.slidetime = 17
guard.hittime = 17
airguard.velocity = -7,-7
air.type = high
air.velocity = -6,-6
air.hittime = 10
yaccel = 0.54
envshake.time = 10
envshake.ampl = -6
fall = 1
fall.recover = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 1055, 2]
type = HitDef
trigger1 = animelem >= 13
attr = S, SA
damage = 80, 20
animtype = hard
guardflag = MAF
getpower = 90
hitflag = MAF
pausetime = 12, 13
guard.pausetime = 12, 13
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-20
hitsound = s1, 4
guardsound = s6, 2
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7,-8
guard.velocity = -10
guard.slidetime = 17
guard.hittime = 17
airguard.velocity = -7,-7
air.type = high
air.velocity = -6,-6
air.hittime = 10
yaccel = 0.54
envshake.time = 10
envshake.ampl = -6
fall = 1
fall.recover = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 1055, 3]
type = PlaySnd
trigger1 = Time = 1
value = 1000, 3

[State 1055, 4]
type = NotHitBy
trigger1 = AnimElem = 3
value = SCA
time = 23

[State 1055, 5]
type = StateTypeSet
trigger1 = AnimElem = 8
statetype = A

[State 1050, 4]
type = StateTypeSet
trigger1 = vel y = 0
trigger1 = AnimElem = 11
statetype = C

[State 1050, 6]
type = posset
trigger1 = AnimElem = 1
y = 0

[State 1050, 7]
type = HitBy
trigger1 = AnimElem = 3
value = SCA, NT, ST, HT
time = 23

[State 1050, 8]
type = posadd
trigger1 = AnimElem = 6
x = 16

[State 1050, 9]
type = Velset
trigger1 = AnimElem = 7
y = -5.76

[State 1050, 10]
type = Velset
trigger1 = AnimElem = 7,>=0
x = 3.6

[State 1050, 11]
type = Veladd
trigger1 = AnimElem = 7,>=0
y = 0.34

[State 1050, 12]
type = ChangeState
trigger1 = time > 20
trigger1 = movetype != H
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1056
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 1056]
type    = C
movetype= I
physics = C
velset = 0,0
ctrl = 0
anim = 1056

[State 1056, 1]
type = PlaySnd
trigger1 = Time = 0
value = 47,0

[State 810, 1]
type = EnvShake
trigger1 = AnimElem = 1
time = 6
ampl = -3

[State 1056, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1056, 3]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = S

[State 1056, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1060]
type = S
movetype = A
physics = N
anim = 1060
velset = 0
ctrl = 0
poweradd = 100
juggle = 7

[State 1060, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,4
channel = 0

[State 1060, 1]
type = VarSet
trigger1 = Time = 0
var(9) = 0

[State 1060, 1]
type = posadd
trigger1 = command = "holdfwd"
trigger1 = AnimElem = 16,< 0
x = 1

[State 1060, 1]
type = VarSet
trigger1 = Time > 1
trigger1 = command = "pX4"
var(9) = 1

[State 1060, 1]
type = Explod
trigger1 = AnimElem = 4
anim = 4053
pos = 55,-100
postype = p1
sprpriority = 5
ownpal = 1

[State 1060, 1]
type = Explod
trigger1 = AnimElem = 7
anim = 4053
pos = 70,-80
postype = p1
sprpriority = 5
ownpal = 1

[State 1060, 1]
type = Explod
trigger1 = AnimElem = 10
anim = 4053
pos = 65,-50
postype = p1
sprpriority = 5
ownpal = 1

[State 1060, 1]
type = Explod
trigger1 = AnimElem = 13
anim = 4053
pos = 80,-60
postype = p1
sprpriority = 5
ownpal = 1

[State 1060, 1]
type = Explod
trigger1 = AnimElem = 16
anim = 4053
pos = 45,-85
postype = p1
sprpriority = 5
ownpal = 1

[State 1060, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 12
trigger5 = AnimElem = 15
attr = S, SA
damage = 30,10
animtype = Hard
guardflag = M
hitflag = MAFD
getpower = 100,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-5
air.velocity = -4.5,-5
guard.velocity = -10
guard.cornerpush.veloff = -12
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = -6
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 3000, a]
type = Explod
trigger1 = AnimElem = 3, >= 0 && movehit = 1
trigger2 = AnimElem = 6, >= 0 && movehit = 1
trigger3 = AnimElem = 9, >= 0 && movehit = 1
trigger4 = AnimElem = 12, >= 0 && movehit = 1
trigger5 = AnimElem = 15, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 3, >= 0 && movehit = 1
trigger2 = AnimElem = 6, >= 0 && movehit = 1
trigger3 = AnimElem = 9, >= 0 && movehit = 1
trigger4 = AnimElem = 12, >= 0 && movehit = 1
trigger5 = AnimElem = 15, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 4, >= 0 && movehit = 1
trigger2 = AnimElem = 7, >= 0 && movehit = 1
trigger3 = AnimElem = 10, >= 0 && movehit = 1
trigger4 = AnimElem = 13, >= 0 && movehit = 1
trigger5 = AnimElem = 16, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1060, 3]
type = ChangeState
trigger1 = AnimElem = 17,= -1
trigger1 = var(9)
value = 1061

[State 1060, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1061]
type = S
movetype = A
physics = N
anim = 1061

[State 1061, 1]
type = posadd
trigger1 = command = "holdfwd"
trigger1 = AnimElem = 16,< 0
x = 1

[State 1061, 1]
type = Explod
trigger1 = AnimElem = 3
anim = 4053
pos = 55,-100
postype = p1
sprpriority = 5
ownpal = 1

[State 1061, 1]
type = Explod
trigger1 = AnimElem = 6
anim = 4053
pos = 70,-80
postype = p1
sprpriority = 5
ownpal = 1

[State 1061, 1]
type = Explod
trigger1 = AnimElem = 9
anim = 4053
pos = 65,-50
postype = p1
sprpriority = 5
ownpal = 1

[State 1061, 1]
type = Explod
trigger1 = AnimElem = 12
anim = 4053
pos = 80,-60
postype = p1
sprpriority = 5
ownpal = 1

[State 1061, 1]
type = Explod
trigger1 = AnimElem = 15
anim = 4053
pos = 45,-85
postype = p1
sprpriority = 5
ownpal = 1

[State 1061, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
attr = S, SA
damage = 50,10
animtype = Hard
guardflag = M
hitflag = MAFD
getpower = 100,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-5
air.velocity = -4.5,-5
guard.velocity = -10
guard.cornerpush.veloff = -12
envshake.time = 10
envshake.ampl = -6
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 3000, a]
type = Explod
trigger1 = AnimElem = 2, >= 0 && movehit = 1
trigger2 = AnimElem = 5, >= 0 && movehit = 1
trigger3 = AnimElem = 8, >= 0 && movehit = 1
trigger4 = AnimElem = 11, >= 0 && movehit = 1
trigger5 = AnimElem = 14, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 2, >= 0 && movehit = 1
trigger2 = AnimElem = 5, >= 0 && movehit = 1
trigger3 = AnimElem = 8, >= 0 && movehit = 1
trigger4 = AnimElem = 11, >= 0 && movehit = 1
trigger5 = AnimElem = 14, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1061, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1070]
type = S
movetype = A
physics = N
anim = 1070
velset = 0
ctrl = 0
poweradd = 100
juggle = 7

[State 1070, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,4
channel = 0

[State 1070, 1]
type = VarSet
trigger1 = Time = 0
var(9) = 0

[State 1070, 1]
type = posadd
trigger1 = command = "holdfwd"
trigger1 = AnimElem = 16,< 0
x = 1

[State 1070, 1]
type = VarSet
trigger1 = Time > 1
trigger1 = command = "pX4"
var(9) = 1

[State 1070, 1]
type = Explod
trigger1 = AnimElem = 4
anim = 4053
pos = 55,-100
postype = p1
sprpriority = 5
ownpal = 1

[State 1070, 1]
type = Explod
trigger1 = AnimElem = 7
anim = 4053
pos = 70,-80
postype = p1
sprpriority = 5
ownpal = 1

[State 1070, 1]
type = Explod
trigger1 = AnimElem = 10
anim = 4053
pos = 65,-50
postype = p1
sprpriority = 5
ownpal = 1

[State 1070, 1]
type = Explod
trigger1 = AnimElem = 13
anim = 4053
pos = 80,-60
postype = p1
sprpriority = 5
ownpal = 1

[State 1070, 1]
type = Explod
trigger1 = AnimElem = 16
anim = 4053
pos = 45,-85
postype = p1
sprpriority = 5
ownpal = 1

[State 1070, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 12
trigger5 = AnimElem = 15
attr = S, SA
damage = 30,12
animtype = Hard
guardflag = M
hitflag = MAFD
getpower = 100,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-5
air.velocity = -4.5,-5
guard.velocity = -10
guard.cornerpush.veloff = -12
envshake.time = 10
envshake.ampl = -6
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 3000, a]
type = Explod
trigger1 = AnimElem = 3, >= 0 && movehit = 1
trigger2 = AnimElem = 6, >= 0 && movehit = 1
trigger3 = AnimElem = 9, >= 0 && movehit = 1
trigger4 = AnimElem = 12, >= 0 && movehit = 1
trigger5 = AnimElem = 15, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 3, >= 0 && movehit = 1
trigger2 = AnimElem = 6, >= 0 && movehit = 1
trigger3 = AnimElem = 9, >= 0 && movehit = 1
trigger4 = AnimElem = 12, >= 0 && movehit = 1
trigger5 = AnimElem = 15, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 4, >= 0 && movehit = 1
trigger2 = AnimElem = 7, >= 0 && movehit = 1
trigger3 = AnimElem = 10, >= 0 && movehit = 1
trigger4 = AnimElem = 13, >= 0 && movehit = 1
trigger5 = AnimElem = 16, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1070, 3]
type = ChangeState
trigger1 = AnimElem = 17,= -1
trigger1 = var(9)
value = 1071

[State 1070, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1071]
type = S
movetype = A
physics = N
anim = 1071

[State 1071, 1]
type = posadd
trigger1 = command = "holdfwd"
trigger1 = AnimElem = 16,< 0
x = 1

[State 1071, 1]
type = Explod
trigger1 = AnimElem = 3
anim = 4053
pos = 55,-100
postype = p1
sprpriority = 5
ownpal = 1

[State 1071, 1]
type = Explod
trigger1 = AnimElem = 6
anim = 4053
pos = 70,-80
postype = p1
sprpriority = 5
ownpal = 1

[State 1071, 1]
type = Explod
trigger1 = AnimElem = 9
anim = 4053
pos = 65,-50
postype = p1
sprpriority = 5
ownpal = 1

[State 1071, 1]
type = Explod
trigger1 = AnimElem = 12
anim = 4053
pos = 80,-60
postype = p1
sprpriority = 5
ownpal = 1

[State 1071, 1]
type = Explod
trigger1 = AnimElem = 15
anim = 4053
pos = 45,-85
postype = p1
sprpriority = 5
ownpal = 1

[State 1071, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
attr = S, SA
damage = 130,12
animtype = Hard
guardflag = M
hitflag = MA
getpower = 100,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-5
air.velocity = -4.5,-5
guard.velocity = -10
guard.cornerpush.veloff = -12
envshake.time = 10
envshake.ampl = -6
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 3000, a]
type = Explod
trigger1 = AnimElem = 2, >= 0 && movehit = 1
trigger2 = AnimElem = 5, >= 0 && movehit = 1
trigger3 = AnimElem = 8, >= 0 && movehit = 1
trigger4 = AnimElem = 11, >= 0 && movehit = 1
trigger5 = AnimElem = 14, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 2, >= 0 && movehit = 1
trigger2 = AnimElem = 5, >= 0 && movehit = 1
trigger3 = AnimElem = 8, >= 0 && movehit = 1
trigger4 = AnimElem = 11, >= 0 && movehit = 1
trigger5 = AnimElem = 14, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = -1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1071, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1100]
type = S
movetype = A
physics = N
anim = 1100
velset = 0
ctrl = 0
poweradd = 100
juggle = 10

[State 1100, 1]
type = PlaySnd
trigger1 = time = 0
value = 1000,8
channel = 20

[State 1100, 1]
type = StopSnd
trigger1 = AnimElem = 19
channel = 20

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,9

[State 1100, 1]
type = velset
trigger1 = AnimElem = 8,= 1
x = 6

[State 1100, 1]
type = velset
trigger1 = AnimElem = 18
x = 0

[State 1100, 1]
type = AfterImage
trigger1 = AnimElem = 8
time = 50
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1

[State 1100, 1]
type = AfterImageTime
trigger1 = AnimElem = 18
time = 0

[State 1100, 1]
type = Projectile
trigger1 = AnimElem = 8,>= 0 && AnimElem = 18,< 0
projanim = 1107
projremovetime = 1
offset = 20,0
ignorehitpause = 1

[State 1100, 1]
type = HitDef
trigger1 = animelem = 7
trigger2 = animelem = 14
attr = S, HA
damage = 30, 5
animtype = hard
guardflag = M
getpower = 15,7
pausetime = 10, 11
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,4
guardsound = s6, 2
ground.type = low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15

[State 1100, 1]
type = HitDef
trigger1 = animelem = 11
attr = S, HA
damage = 30, 5
animtype = hard
guardflag = M
getpower = 20,7
pausetime = 10, 11
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,4
guardsound = s6, 2
ground.type = high
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15

[State 1100, 1]
type = HitDef
trigger1 = AnimElem = 17
attr = S, SA
damage = 50,10
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 10,0
guard.pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,4
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
guard.velocity = -10
p2stateno = 1106
p2facing = 1

[State 1100, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1105]
type = S
movetype = A
physics = N
anim = 1105
velset = 0
ctrl = 0
poweradd = 100
juggle = 10

[State 1105, 1]
type = PlaySnd
trigger1 = time = 0
value = 1000,8
channel = 20

[State 1105, 1]
type = StopSnd
trigger1 = AnimElem = 25
channel = 20

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,9

[State 3050, 1]
type = NotHitBy
trigger1 = AnimElem = 3,>= 0 && AnimElem = 7,< 0
value = SCA

[State 3050, 1]
type = ReversalDef
trigger1 = AnimElem = 3,>= 0 && AnimElem = 8,< 0
pausetime = 10,16
sparkno = 5
sparkxy = -15,0
hitsound = S6,1
reversal.attr = SA,NA,SA,HA
numhits = 0
ignorehitpause = 1

[State 3050, 1]
type = AttackDist
trigger1 = 1
value = 0

[State 1105, 1]
type = velset
trigger1 = AnimElem = 8,= 1
x = 6

[State 1105, 1]
type = velset
trigger1 = AnimElem = 24
x = 0

[State 1100, 1]
type = AfterImage
trigger1 = AnimElem = 8
time = 50
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1

[State 1100, 1]
type = AfterImageTime
trigger1 = AnimElem = 24
time = 0

[State 1105, 1]
type = Projectile
trigger1 = AnimElem = 8,>= 0 && AnimElem = 24,< 0
projanim = 1107
projremovetime = 1
offset = 20,0
ignorehitpause = 1

[State 1105, 1]
type = HitDef
trigger1 = animelem = 8
trigger2 = animelem = 16
attr = S, HA
damage = 30, 5
animtype = hard
hitflag = MAFP
PRIORITY=7
guardflag = M
getpower = 20,7
pausetime = 10, 11
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,4
guardsound = s6, 2
ground.type = low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15

[State 1105, 1]
type = HitDef
trigger1 = animelem = 12
trigger2 = animelem = 20
attr = S, HA
damage = 30, 5
hitflag = MAFP
PRIORITY = 7
animtype = hard
guardflag = M
getpower = 20,7
pausetime = 10, 11
guard.pausetime = 7, 8
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,4
guardsound = s6, 2
ground.type = high
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -1.5
airguard.velocity = -2.5,-2
air.type = high
air.velocity = -5,-3
air.hittime = 15

[State 1105, 1]
type = HitDef
trigger1 = AnimElem = 23
attr = S, SA
damage = 50,6
animtype = Hard
guardflag = M
hitflag = MAFP
getpower = 100,0
pausetime = 10,0
guard.pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,4
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
guard.velocity = -10
p2stateno = 1106
p2facing = 1

[State 1105, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1106]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1106, 1]
type = ChangeAnim2
trigger1 = Time < 12
value = 1106+var(55)*30000

[State 1106, 1]
type = posadd
trigger1 = Time < 12
x = ifelse(Time % 2,1,-1)

[State 1106, 1]
type = veladd
trigger1 = Time = 12
x = -2
y = -12

[State 1106, 1]
type = veladd
trigger1 = Time > 12
y = .45

[State 1106, 3]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1200]
type = S
movetype = A
physics = N
anim = 1200
velset = 0
ctrl = 0
poweradd = 100
juggle = 10

[State 1200, 1]
type = PlaySnd
trigger1 = time = 1
value = 40,1

[State 1200, 1]
type = PlaySnd
trigger1 = time = 0
value = 900,5

[State 1200, 1]
type = StateTypeSet
trigger1 = AnimElem = 3
StateType = A

[State 1200, 1]
type = velset
trigger1 = AnimElem = 3
x = 2
y = -7.2

[State 1200, 1]
type = veladd
trigger1 = AnimElem = 3,> 0
y = .5

[State 1200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 3,= 4
attr = A, SA
damage = 60,6
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -5, -70
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -3,-9
air.velocity = -3,-8
guard.velocity = -10
fall = 1
fall.recover = 0

[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1201

;---------------------------------------------------------------------------------------------
[Statedef 1201]
type = A
movetype = A
physics = N
anim = 1201
velset = 0,0
ctrl = 0

[State 1200, 1]
type = PlaySnd
trigger1 = time = 0
value = 105,0

[State 1201, 1]
type = velset
trigger1 = AnimElem = 5
x = 9
y = 9

[State 1201, 1]
type = veladd
trigger1 = AnimElem = 5,> 0
y = .5

[State 1201, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage = 110,10
animtype = up
guardflag = H
hitflag = A
getpower = 150,0
pausetime = 8,9
sparkno = 2
guard.sparkno = 42
sparkxy = -15,-20
hitsound = S3050,3
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -4,5
air.velocity = -4,5
guard.velocity = -10
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 3000, a]
type = Explod
trigger1 = AnimElem = 6, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 6, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 7, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1201, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000,10

[State 1201, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,1

[State 1201, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,4

[State 1211, 1]
type = PlaySnd
trigger1 = movehit
value = 900,6
persistent = 0
ignorehitpause = 1

[State 1201, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1202

;---------------------------------------------------------------------------
[Statedef 1202]
type = S
movetype = A
physics = N
anim = 1202
velset = 0,0

[State 1202, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 1202, 1]
type = Explod
trigger1 = Time = 0
anim = 4056
pos = -15,-20
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = Time = 0
anim = 4056
pos = 15,-17
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = Time = 0
anim = 4057
pos = 50,-25
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = Time = 0
anim = 4058
pos = 20,10
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = EnvShake
trigger1 = Time = 0
time = 12
ampl = -8

[State 1202, 1]
type = StateTypeSet
trigger1 = AnimElem = 5
StateType = A

[State 1202, 1]
type = velset
trigger1 = AnimElem = 5
x = -2
y = -6

[State 1202, 1]
type = veladd
trigger1 = AnimElem = 5,> 0
y = .5

[State 1202, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
damage = 90
animtype = up
guardflag = H
hitflag = MAFD
getpower = 150,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -10, -10
hitsound = S3050,3
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -4,5
air.velocity = -4,5
guard.velocity = -10
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -12
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 3000, a]
type = Explod
trigger1 = AnimElem = 1, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 1, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 2, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1202, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1203

;---------------------------------------------------------------------------
[Statedef 1203]
type = S
movetype = A
physics = N
anim = 1203
velset = 0,0

[State 1203, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 1203, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1210]
type = S
movetype = A
physics = N
anim = 1210
velset = 0
ctrl = 0
poweradd = 100
juggle = 10

[State 1200, 1]
type = PlaySnd
trigger1 = time = 1
value = 40,1

[State 1200, 1]
type = PlaySnd
trigger1 = time = 0
value = 900,5

[State 1210, 1]
type = StateTypeSet
trigger1 = AnimElem = 3
StateType = A

[State 1210, 1]
type = velset
trigger1 = AnimElem = 3
x = 3
y = -9.2

[State 1210, 1]
type = veladd
trigger1 = AnimElem = 3,> 0
y = .5

[State 1210, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 3,= 4
trigger3 = AnimElem = 3,= 8
attr = A, SA
damage = 45,5
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -3,-9
air.velocity = -3,-8
guard.velocity = -10
fall = 1
fall.recover = 0

[State 1210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1211

;---------------------------------------------------------------------------
[Statedef 1211]
type = A
movetype = A
physics = N
anim = 1211
velset = 0,0
ctrl = 0

[State 1200, 1]
type = PlaySnd
trigger1 = time = 0
value = 105,0

[State 1211, 1]
type = velset
trigger1 = AnimElem = 5
x = 9
y = 9

[State 1210, 1]
type = veladd
trigger1 = AnimElem = 5,> 0
y = .5

[State 1210, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage = 150,15
animtype = up
guardflag = H
hitflag = A
getpower = 150,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -5, 0
hitsound = S3050,3
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -4,5
air.velocity = -4,5
guard.velocity = -10
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0

[State 3000, a]
type = Explod
trigger1 = AnimElem = 6, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 6, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 7, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 1211, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000,10

[State 1201, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,1

[State 1201, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,4

[State 1211, 1]
type = PlaySnd
trigger1 = movehit
value = 900,6
persistent = 0
ignorehitpause = 1

[State 1211, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1202

;---------------------------------------------------------------------------
[Statedef 3000]
type = S
movetype = A
physics = N
anim = 3000
velset = 0
ctrl = 0
juggle = 0
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 3000, 1]
type = NotHitBy
trigger1 = AnimElem = 6,< 0
value = SCA

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7000
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 20,-70
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7010
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 20,-70
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 0

[State 3000, 1]
type = PlaySnd
trigger1 = time = 1
value = 2000,0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 2000,1

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 46
value = 2000,3

[State 1020, 1]
type = AfterImage
trigger1 = AnimElem = 3
trigger2 = AnimElem = 45
time = 120
length = 8
framegap = 3
palcolor = 0
trans = add1
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1

[State 1020, 1]
type = AfterImageTime
trigger1 = AnimElem = 8
trigger2 = AnimTime = 0
time = 0

[State 3000, 1]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 3000, 1]
type = velset
trigger1 = AnimElem = 10
x = 0

[State 3000, 1]
type = posadd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 50
x = 20

[State 3000, 1]
type = posadd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 46
trigger3 = AnimElem = 52
x = 22

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
damage = 20,2
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = -9
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, HA
damage = 20,2
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -9
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
value = 0,2

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 16
trigger3 = AnimElem = 22
trigger4 = AnimElem = 28
trigger5 = AnimElem = 34
trigger6 = AnimElem = 40
attr = S, HA
damage = 20,3
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 1,1
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,0
guardsound = S6,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 16
trigger3 = AnimElem = 22
trigger4 = AnimElem = 28
trigger5 = AnimElem = 34
trigger6 = AnimElem = 40
value = 0,0

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 13
trigger2 = AnimElem = 25
trigger3 = AnimElem = 37
attr = S, HA
damage = 20,3
animtype = Hard
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 1,1
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -90
hitsound = S1,0
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 25
trigger3 = AnimElem = 37
value = 0,1

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 19
trigger2 = AnimElem = 31
trigger3 = AnimElem = 43
attr = S, HA
damage = 20,3
animtype = Hard
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 1,1
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,0
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 31
trigger3 = AnimElem = 43
value = 0,0

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 52
attr = S, HA
damage = 40,5
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 15,15
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S3050,3
guardsound = S6,2
ground.slidetime = 6
ground.hittime  = 18
guard.velocity = -8
fall.recover = 0
envshake.time = 15
envshake.ampl = -12
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0
p2stateno = 3001

[State 3000, b]
type = Explod
trigger1 = AnimElem = 52, >= 0 && movehit = 1
anim = F10
pos = -10,-70
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, a]
type = Explod
trigger1 = AnimElem = 52, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 52, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 53, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 52
value = 0,4

[State 3000, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
ignorehitpause = 1

[State 3000, 1]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 3000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3001]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 3001, 1]
type = ChangeAnim2
trigger1 = Time < 15
value = 1106+var(55)*30000

[State 3001, 1]
type = posadd
trigger1 = Time < 15
x = ifelse(Time % 2,1,-1)

[State 3001, 1]
type = veladd
trigger1 = Time = 15
x = -2
y = -12

[State 3001, 1]
type = veladd
trigger1 = Time > 15
y = .45

[State 3001, 3]
type = ChangeAnim
trigger1 = AnimExist(5062+var(55)*30000)
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5062+var(55)*30000

[State 3001, 3]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1009]
type = S
movetype = A
physics = N
anim = 1009
velset = 0
ctrl = 0
juggle = 7
poweradd = 100

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f993
scale = .5,.5
id = 993
postype = p1
pos= 10,0
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f994
scale = .5,.5
id = 994
postype = p1
pos= 10,0
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 6]
type = PlaySnd
trigger1 = Time = 0
value = f7000,5

[State 3101, 1]
type = PlaySnd
trigger1 = time = 1
value = 2100,1

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 105,0

[State 3100, 1]
type = velset
trigger1 = AnimElem = 7
x = 9

[State 3100, 1]
type = velmul
trigger1 = AnimElem = 13,>= 0
x = .85

[State 3100, 2]
type = ChangeState
trigger1 = AnimElem = 7,>= 0 && AnimElem = 13,< 0
trigger1 = P2BodyDist X < 20
value = 900

[State 3100, 1]
type = velset
trigger1 = AnimElem = 14,= 4
x = 0

[State 3100, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
[Statedef 3100]
type = S
movetype = A
physics = N
anim = 3100
velset = 0
ctrl = 0
juggle = 7
poweradd = ifelse(fvar(30) > 0,0,-1000)
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7000
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7010
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 0

[State 3050, 1]
type = AfterImage
trigger1 = time = 1
time = 48
length = 12
timegap = 1
framegap = 3
palbright = 1, 1, 1
palcolor = 0
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3101, 1]
type = PlaySnd
trigger1 = time = 1
value = 2100,1

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 105,0

[State 3100, 1]
type = velset
trigger1 = AnimElem = 7
x = 15

[state 230，移动]
type = veladd
trigger1 = time = 50
x = 10

[State 3100, 1]
type = velmul
trigger1 = AnimElem = 13,>= 0
x = 0.85

[State 3100, 1]
type = velset
trigger1 = AnimElem = 14,= 4
x = 0

[State 3100, 2]
type = ChangeState
trigger1 = AnimElem = 7,>= 0 && AnimElem = 13,< 0
trigger1 = P2BodyDist X < 20
value = 3101

[State 3100, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3101]
type = S
movetype = A
physics = N
anim = 3101

[State 3101, 1]
type = width
trigger1 = AnimElem = 6,>= 0 && AnimElem = 10,< 0
value = 30,0

[State 3101, 1]
type = velmul
trigger1 = AnimElem = 11,< 0
x = .9

[State 3101, 1]
type = velset
trigger1 = AnimElem = 11
x = 0

[State 3101, 1]
type = posadd
trigger1 = AnimElem = 10
x = 20

[State 3101, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 0,20
animtype = Hard
guardflag = M
hitflag = MLAFD
getpower = 0,0
pausetime = 0,0
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -75
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -12
p1stateno = 3115
p2facing = 1
p2stateno = 3120

[State 3101, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3115]
type = S
movetype = A
physics = N
anim = 3115

[State 3115, 1]
type = width
trigger1 = AnimElem = 8,< 0
edge = 50,0

[State 3115, 1]
type = velmul
trigger1 = AnimElem = 5,< 0
x = .96

[State 3101, 1]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 3101, 1]
type = TargetBind
trigger1 = AnimElem = 1,>= 0 && AnimElem = 2,< 0
pos = 30,-50

[State 3101, 1]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 && AnimElem = 3,< 0
pos = 20,-40

[State 3101, 1]
type = TargetBind
trigger1 = AnimElem = 3,>= 0 && AnimElem = 76,< 0
pos = 20,0

[State 3101, 1]
type = TargetState
trigger1 = AnimElem = 69
value = 3121

[State 3101, 1]
type = TargetState
trigger1 = AnimElem = 77
value = 3122

[State 3101, 1]
type = HitAdd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 18
trigger3 = AnimElem = 23
trigger4 = AnimElem = 28
trigger5 = AnimElem = 33
trigger6 = AnimElem = 38
trigger7 = AnimElem = 43
trigger8 = AnimElem = 48
trigger9 = AnimElem = 53
trigger10= AnimElem = 58
trigger11= AnimElem = 63
trigger12= AnimElem = 68
trigger13= AnimElem = 76
value = 1

[State 3101, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 18
trigger3 = AnimElem = 23
trigger4 = AnimElem = 28
trigger5 = AnimElem = 33
trigger6 = AnimElem = 38
trigger7 = AnimElem = 43
trigger8 = AnimElem = 48
trigger9 = AnimElem = 53
trigger10= AnimElem = 58
trigger11= AnimElem = 63
trigger12= AnimElem = 68
value = -20
kill = 0

[State 3101, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 76
value = -65

[State 3101, 1]
type = EnvShake
trigger1 = AnimElem = 13
trigger2 = AnimElem = 18
trigger3 = AnimElem = 23
trigger4 = AnimElem = 28
trigger5 = AnimElem = 33
trigger6 = AnimElem = 38
trigger7 = AnimElem = 43
trigger8 = AnimElem = 48
trigger9 = AnimElem = 53
trigger10= AnimElem = 58
trigger11= AnimElem = 63
trigger12= AnimElem = 68
time = 6
ampl = -8

[State 3101, 1]
type = EnvShake
trigger1 = AnimElem = 76
time = 20
ampl = -10

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 18
trigger3 = AnimElem = 23
trigger4 = AnimElem = 28
trigger5 = AnimElem = 33
trigger6 = AnimElem = 38
trigger7 = AnimElem = 43
trigger8 = AnimElem = 48
trigger9 = AnimElem = 53
trigger10= AnimElem = 58
trigger11= AnimElem = 63
trigger12= AnimElem = 68
value = 1,2

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 72
value = 2100,0

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 76
value = 1,4

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 76
value = 3050,3

[State 3101, 1]
type = Explod
trigger1 = AnimElem = 13
trigger2 = AnimElem = 18
trigger3 = AnimElem = 23
trigger4 = AnimElem = 28
trigger5 = AnimElem = 33
trigger6 = AnimElem = 38
trigger7 = AnimElem = 43
trigger8 = AnimElem = 48
trigger9 = AnimElem = 53
trigger10= AnimElem = 58
trigger11= AnimElem = 63
trigger12= AnimElem = 68
trigger13= AnimElem = 76
anim = F2
pos = 50,-10
postype = p1
sprpriority = 5
shadow = 0
ownpal = 1

[State 3101, 1]
type = BGPalFX
trigger1 = AnimElem = 1
trigger2 = AnimElem = 13
trigger3 = AnimElem = 18
trigger4 = AnimElem = 23
trigger5 = AnimElem = 28
trigger6 = AnimElem = 33
trigger7 = AnimElem = 38
trigger8 = AnimElem = 43
trigger9 = AnimElem = 48
trigger10= AnimElem = 53
trigger11= AnimElem = 58
trigger12= AnimElem = 63
trigger13= AnimElem = 68
trigger14= AnimElem = 76
time = 1
add = 255,255,255
ignorehitpause = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 76
anim = 4056
pos = -15,-20
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 76
anim = 4056
pos = 15,-17
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 76
anim = 4057
pos = 50,-25
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 76
anim = 4058
pos = 20,10
postype = p1
sprpriority = 5
ownpal = 1

[State 3000, a]
type = Explod
trigger1 = AnimElem = 76
ID = 3000
anim = 4061
pos = -20,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 76
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = -20,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 77
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -30,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3101, 1]
type = posadd
trigger1 = AnimElem = 79
x = 20

[State 3101, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3120]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 3120, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3120+var(55)*30000

[State 3120, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

;---------------------------------------------------------------------------
[Statedef 3121]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 3121, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3121+var(55)*30000

;---------------------------------------------------------------------------
[Statedef 3122]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 3122, 1]
type = velset
trigger1 = Time = 0
x = -10

[State 3122, 1]
type = ChangeAnim2
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5161+var(55)*30000)
value = 3122+var(55)*30000

[State 3122, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(5101+var(55)*30000)
trigger1 = SelfAnimExist(5161+var(55)*30000)
trigger1 = Time < 44
value = 5101+var(55)*30000

[State 3122, 1]
type = ChangeAnim
trigger1 = Time = 44
trigger1 = anim = 5101+var(55)*30000
value = 5161+var(55)*30000

[State 3122, 1]
type = velmul
trigger1 = Time < 48
x = .9

[State 3122, 1]
type = velset
trigger1 = Time = 48
x = 0

[State 3122, 1]
type = SelfState
trigger1 = Time = 54
value = 5110

;---------------------------------------------------------------------------
[Statedef 3110]
type = S
movetype = A
physics = N
anim = 3110
velset = 0
ctrl = 0
juggle = 7
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7000
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7010
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 0

[State 3050, 1]
type = AfterImage
trigger1 = time = 1
time = 58
length = 12
timegap = 1
framegap = 3
palbright = 1, 1, 1
palcolor = 0
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3101, 1]
type = PlaySnd
trigger1 = time = 1
value = 2100,1

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 105,0

[State 3110, 1]
type = velset
trigger1 = AnimElem = 7
x = 9

[State 3110, 1]
type = velmul
trigger1 = AnimElem = 16,>= 0
x = .85

[State 3110, 1]
type = velset
trigger1 = AnimElem = 17,= 4
x = 0

[State 3110, 2]
type = ChangeState
trigger1 = AnimElem = 7,>= 0 && AnimElem = 16,< 0
trigger1 = P2BodyDist X < 20
value = 3111

[State 3110, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3111]
type = S
movetype = A
physics = N
anim = 3111

[State 3021, 1]
type = width
trigger1 = AnimElem = 6,>= 0 && AnimElem = 10,< 0
value = 30,0

[State 3021, 1]
type = velmul
trigger1 = AnimElem = 11,< 0
x = .9

[State 3021, 1]
type = velset
trigger1 = AnimElem = 11
x = 0

[State 3021, 1]
type = posadd
trigger1 = AnimElem = 10
x = 20

[State 3021, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 0,20
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 0,0
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -75
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -12
p1stateno = 3115
p2facing = 1
p2stateno = 3120

[State 3021, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3050]
type = S
movetype = A
physics = N
anim = 3050
velset = 0
ctrl = 0
poweradd = ifelse(fvar(30) > 0,-1000,-2000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 3050, 1]
type = NotHitBy
trigger1 = AnimElem = 14,< 0
value = SCA

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7100
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = -40,-60
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7110
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = -40,-60
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale = .5,.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale = .5,.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 1

[State 3050, 1]
type = Explod
trigger1 = AnimElem = 12
trigger2 = AnimElem = 12,= 1
trigger3 = AnimElem = 12,= 3
trigger4 = AnimElem = 12,= 5
anim = 4044
pos = -30,-60
postype = p1
sprpriority = 5
ownpal = 1

[State 3050, 1]
type = Explod
trigger1 = AnimElem = 13
anim = 4044
pos = 0,-80
postype = p1
sprpriority = 5
ownpal = 1

[State 3050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3050,0
channel = 0

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3050,1
channel = 0

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3050,2

[State 3050, 2]
type = velset
trigger1 = AnimElem = 12
x = 16

[State 3050, 2]
type = velmul
trigger1 = AnimElem = 12,> 0
x = .9

[State 3050, 2]
type = velset
trigger1 = AnimElem = 18
x = 0

[State 3050, 2]
type = posadd
trigger1 = AnimElem = 13
x = 20

[State 3050, 2]
type = posadd
trigger1 = AnimElem = 16
trigger2 = AnimElem = 18
x = 10

[State 3050, 2]
type = posadd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 20
x = 13

[State 3050, 1]
type = HitDef
trigger1 = AnimElem = 14
attr = S, HA
damage = 500,0
animtype = Hard
guardflag = 
hitflag = MAF
getpower = 0,0
pausetime = 40,20
sparkno = 2
sparkxy = -5, -80
hitsound = S1,6
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10,-6
air.velocity = -10,-6
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -12
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0
p2stateno = 3051
p2facing = 1

[State 3050, 1]
type = AfterImage
trigger1 = time = 1
time = 105
length = 26
timegap = 1
framegap = 4
palbright = 1, 1, 1
palcolor = 0
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3000, b]
type = Explod
trigger1 = movehit = 1
anim = F10
pos = -10,-70
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, a]
type = Explod
trigger1 = AnimElem = 14, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = -15,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 14, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = -10,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 15, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3050, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
ignorehitpause = 1
persistent = 0

[State 1010]
type = ChangeState
trigger1 = stateno = 1020 || stateno = 1030 && time = 0
trigger2 = stateno = 3000 && time = 0
value = 3060

[State 3050, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3060]
type = S
movetype = A
physics = N
anim = 3060
velset = 0
ctrl = 0
poweradd = ifelse(fvar(30) > 0,-1000,-2000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7100
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = -40,-60
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7110
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = -40,-60
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale = .5,.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale = .5,.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 1

[State 3050, 1]
type = Explod
trigger1 = AnimElem = 12
trigger2 = AnimElem = 12,= 1
trigger3 = AnimElem = 12,= 3
trigger4 = AnimElem = 12,= 5
anim = 4044
pos = -30,-60
postype = p1
sprpriority = 5
ownpal = 1

[State 3050, 1]
type = Explod
trigger1 = AnimElem = 13
anim = 4044
pos = 0,-80
postype = p1
sprpriority = 5
ownpal = 1

[State 3050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3050,0
channel = 0

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3050,1
channel = 0

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 12
value = 3050,2

[State 3050, 2]
type = velset
trigger1 = AnimElem = 12
x = 8

[State 3050, 2]
type = velmul
trigger1 = AnimElem = 12,> 0
x = .9

[State 3050, 2]
type = velset
trigger1 = AnimElem = 18
x = 0

[State 3050, 2]
type = posadd
trigger1 = AnimElem = 13
x = 20

[State 3050, 2]
type = posadd
trigger1 = AnimElem = 16
trigger2 = AnimElem = 18
x = 10

[State 3050, 2]
type = posadd
trigger1 = AnimElem = 19
trigger2 = AnimElem = 20
x = 13

[State 3050, 1]
type = HitDef
trigger1 = time = AnimElem = 14
attr = S, HA
damage = 500,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 40,20
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -80
hitsound = S1,6
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10,-6
air.velocity = -10,-6
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -12
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0
p2stateno = 3051
p2facing = 1

[State 3050, 1]
type = AfterImage
trigger1 = time = 1
time = 45
length = 26
timegap = 1
framegap = 4
palbright = 1, 1, 1
palcolor = 0
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3000, a]
type = Explod
trigger1 = movehit = 1
anim = F10
pos = -10,-70
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, a]
type = Explod
trigger1 = AnimElem = 14, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = -15,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 14, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = -10,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 15, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3050, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
ignorehitpause = 1
persistent = 0

[State 3050, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
[Statedef 3051]
type    = A
movetype= H
physics = N
anim = 3051
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 3051+var(55)*30000

[State 1025, State]
type = ChangeState
trigger1 = time = 36
value = 1026

;------------------
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025+var(55)*30000

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027+var(55)*30000

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F70
pos = -6, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F5000,2

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052+var(55)*30000)
value = 5050+var(55)*30000

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052+var(55)*30000)
value = 5052+var(55)*30000

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050+var(55)*30000
trigger1 = SelfAnimExist(5060+var(55)*30000)
persistent = 0
value = 5060+var(55)*30000

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052+var(55)*30000
trigger1 = SelfAnimExist(5062+var(55)*30000)
persistent = 0
value = 5062+var(55)*30000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
[Statedef 3200]
type = S
movetype = A
physics = N
anim = 3200
velset = 0
ctrl = 0
juggle = 10
poweradd = ifelse(fvar(30) > 0,-1000,-2000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7100
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 20,-70
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7110
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 20,-70
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale = .5,.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale = .5,.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 1

[State 3000, 1]
type = PlaySnd
trigger1 = time = 1
value = 2000,0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1000,6

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 84
value = 2000,3

[State 3000, 1]
type = PlaySnd
trigger1 = time = 64
value = 1000,4

[State 3200, 1]
type = BGPalFX
trigger1 = Time = 0
time = 30
add = -255,-255,-255

[State 3200, 1]
type = velset
trigger1 = AnimElem = 3
x = 5

[State 3200, 1]
type = velset
trigger1 = AnimElem = 16
x = 0

[State 3200, 1]
type = posadd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 78
x = 20

[State 3200, 1]
type = posadd
trigger1 = AnimElem = 15
trigger2 = AnimElem = 80
x = 22

[State 3200, 1]
type = posadd
trigger1 = AnimElem = 72
x = 10

[State 3200, 1]
type = posadd
trigger1 = AnimElem = 73
x = 8

[State 3200, 1]
type = StateTypeSet
trigger1 = AnimElem = 86
StateType = A

[State 3200, 1]
type = velset
trigger1 = AnimElem = 86
x = 5.5
y = -8

[State 3200, 1]
type = velmul
trigger1 = AnimElem = 86,> 0
x = .85

[State 3200, 1]
type = veladd
trigger1 = AnimElem = 86,> 0
y = .37

[State 3200, 1]
type = velset
trigger1 = AnimElem = 88
x = 0

[State 3200, 1]
type = NotHitBy
trigger1 = AnimElem = 8,< 0
value = SCA

[State 1020, 1]
type = AfterImage
trigger1 = AnimElem = 3
trigger2 = AnimElem = 70
time = 180
length = 12
timegap = 1
framegap = 3
palbright = 1, 1, 1
palcolor = 0
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3200, 1]
type = AfterImageTime
trigger1 = AnimElem = 14
trigger2 = AnimElem = 87
time = 0

[State 3200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
attr = S, HA
damage = 15,3
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = -24
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
value = 0,2

[State 3200, 1]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
attr = S, HA
damage = 15,3
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 6,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,2
guardsound = S6,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -24
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 14
value = 0,2

[State 3200, 1]
type = HitDef
trigger1 = AnimElem = 16
trigger2 = AnimElem = 21
trigger3 = AnimElem = 27
trigger4 = AnimElem = 32
trigger5 = AnimElem = 38
trigger6 = AnimElem = 43
trigger7 = AnimElem = 49
trigger8 = AnimElem = 53
trigger9 = AnimElem = 60
trigger10= AnimElem = 65
attr = S, HA
damage = 10,3
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 1,1
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -70
hitsound = S1,0
guardsound = S6,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 16
trigger2 = AnimElem = 21
trigger3 = AnimElem = 27
trigger4 = AnimElem = 32
trigger5 = AnimElem = 38
trigger6 = AnimElem = 43
trigger7 = AnimElem = 49
trigger8 = AnimElem = 53
trigger9 = AnimElem = 60
trigger10= AnimElem = 65
value = 0,0

[State 3200, 1]
type = HitDef
trigger1 = AnimElem = 18
trigger2 = AnimElem = 29
trigger3 = AnimElem = 40
trigger4 = AnimElem = 51
trigger5 = AnimElem = 62
attr = S, HA
damage = 10,3
animtype = Hard
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 1,1
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -90
hitsound = S1,0
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 18
trigger2 = AnimElem = 29
trigger3 = AnimElem = 40
trigger4 = AnimElem = 51
trigger5 = AnimElem = 62
value = 0,1

[State 3200, 1]
type = HitDef
trigger1 = AnimElem = 24
trigger2 = AnimElem = 35
trigger3 = AnimElem = 46
trigger4 = AnimElem = 57
trigger5 = AnimElem = 68
attr = S, HA
damage = 10,3
animtype = Hard
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 1,1
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -50
hitsound = S1,0
guardsound = S6,2
ground.type = Low
ground.slidetime = 6
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 24
trigger2 = AnimElem = 35
trigger3 = AnimElem = 46
trigger4 = AnimElem = 57
trigger5 = AnimElem = 68
value = 0,0

[State 3200, 1]
type = HitDef
trigger1 = AnimElem = 72
trigger2 = AnimElem = 80
attr = S, HA
damage = 50,8
animtype = High
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 13,15
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,4
guardsound = S6,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = -10

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 24
trigger2 = AnimElem = 35
trigger3 = AnimElem = 46
trigger4 = AnimElem = 57
trigger5 = AnimElem = 68
value = 0,2

[State 3200, 1]
type = HitDef
trigger1 = AnimElem = 85
attr = S, HA
damage = 50,8
animtype = High
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S1,4
guardsound = S6,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4,-5
air.fall = 1
fall.recover = 0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 85
value = 0,4

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 86
attr = A, HA
damage = 50,8
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 15,15
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -85
hitsound = S3050 ,3
guardsound = S6,2
ground.slidetime = 6
ground.hittime  = 18
guard.velocity = -8
fall.recover = 0
envshake.time = 15
envshake.ampl = -12
palfx.time = 60
palfx.add = 192,96,16
palfx.mul = 224,160,32
palfx.sinadd = 32,96,64,12
palfx.invertall = 1
palfx.color = 0
p2stateno = 3001

[State 3000, a]
type = Explod
trigger1 = AnimElem = 85, >= 0 && movehit = 1
trigger2 = AnimElem = 86, >= 0 && movehit = 1
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 85, >= 0 && movehit = 1
trigger2 = AnimElem = 86, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 87, >= 0 && movehit = 1
trigger2 = AnimElem = 88, >= 0 && movehit = 1
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, a]
type = Explod
trigger1 = AnimElem = 86, >= 0 && movehit = 1
anim = F10
pos = -10,-70
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3200, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
ignorehitpause = 1

[State 3200, 2]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 3200, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3201

;---------------------------------------------------------------------------
[Statedef 3201]
type = S
movetype = A
physics = S
anim = 3201
velset = 0,0

[State 3201, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3201, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------
[Statedef 3400]
type = S
movetype = A
physics = N
anim = 3110
velset = 0
ctrl = 0
juggle = 7
poweradd = -2000
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,3399]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------
;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7300
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7310
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 25,-130
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 2

[State 3101, 1]
type = PlaySnd
trigger1 = time = 1
value = 2100,1

[State 3101, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 105,0

[State 3050, 1]
type = AfterImage
trigger1 = time = 1
time = 58
length = 12
timegap = 1
framegap = 3
palbright = 1, 1, 1
palcolor = 0
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 3110, 1]
type = velset
trigger1 = AnimElem = 7
x = 9

[State 3110, 1]
type = velmul
trigger1 = AnimElem = 16,>= 0
x = .85

[State 3110, 1]
type = velset
trigger1 = AnimElem = 17,= 4
x = 0

[State 3110, 2]
type = ChangeState
trigger1 = AnimElem = 7,>= 0 && AnimElem = 16,< 0
trigger1 = P2BodyDist X < 20
value = 3401

[State 3110, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3401]
type = S
movetype = A
physics = N
anim = 3111

[State 3021, 1]
type = width
trigger1 = AnimElem = 6,>= 0 && AnimElem = 10,< 0
value = 30,0

[State 3021, 1]
type = velmul
trigger1 = AnimElem = 11,< 0
x = .9

[State 3021, 1]
type = velset
trigger1 = AnimElem = 11
x = 0

[State 3021, 1]
type = posadd
trigger1 = AnimElem = 10
x = 20

[State 3021, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 100,20
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 0,0
sparkno = 2
guard.sparkno = 42
sparkxy = -15, -75
hitsound = S1,2
guardsound = S6,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -12
p1stateno = 3500
p2facing = 1
p2stateno = 3501

[State 3021, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3500]
type    = S
movetype= A
physics = N
juggle  = 10
anim = 3500

[State 2001, 2053]
type = removeExplod
trigger1 = AnimElem = 1
ID = 9500

[State 3022, 1]
type = width
trigger1 = AnimElem = 8,< 0
edge = 50,0

[State 3022, 1]
type = velmul
trigger1 = AnimElem = 5,< 0
x = .96

[State 3021, 1]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 3021, 1]
type = TargetBind
trigger1 = AnimElem = 1,>= 0 && AnimElem = 2,< 0
pos = 30,-50

[State 3021, 1]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 && AnimElem = 3,< 0
pos = 20,-40

[State 3021, 1]
type = TargetBind
trigger1 = AnimElem = 3,>= 0 && AnimElem = 18,< 0
pos = 20,0

[state a]
type = velset
trigger1 = AnimElem = 9,>= 0 && AnimElem = 18,< 0
trigger1 = pos x < -50
trigger1 = facing = 1
x = 7

[state a]
type = velset
trigger1 = AnimElem = 9,>= 0 && AnimElem = 18,< 0
trigger1 = pos x > -36
trigger1 = facing = 1
x = -7

[state a]
type = velset
trigger1 = AnimElem = 9,>= 0 && AnimElem = 18,< 0
trigger1 = pos x >= -50 && pos x <= -36
trigger1 = facing = 1
x = 0

[state a]
type = velset
trigger1 = AnimElem = 9,>= 0 && AnimElem = 18,< 0
trigger1 = pos x > 50
trigger1 = facing = -1
x = 7

[state a]
type = velset
trigger1 = AnimElem = 9,>= 0 && AnimElem = 18,< 0
trigger1 = pos x < 36
trigger1 = facing = -1
x = -7

[state a]
type = velset
trigger1 = AnimElem = 9,>= 0 && AnimElem = 18,< 0
trigger1 = pos x <= 50 && pos x >= 36
trigger1 = facing = -1
x = 0

[State 3310]
type = Explod
trigger1 = animelem = 18
anim = 4059
sprpriority = 5
pos = 38,7
postype = p1
bindtime = 1
supermove = 0
ownpal = 1
ignorehitpause = 1

[State 1001, 1]
type = Explod
trigger1 = AnimElem = 18
anim = F66
postype = p2
pos = -20,8
sprpriority = -1
shadow = 0
ownpal = 1

[State 1001, 1]
type = Explod
trigger1 = AnimElem = 18
anim = F67
postype = p2
pos = -20,8
sprpriority = -1
shadow = 0
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 18
anim = 4056
pos = -15,-20
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 18
anim = 4056
pos = 15,-17
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 18
anim = 4057
pos = 50,-25
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 18
anim = 4058
pos = 20,10
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 18
anim = 4056
pos = 35, -30
postype = p1
sprpriority = 5
ownpal = 1

[State 1202, 1]
type = Explod
trigger1 = AnimElem = 18
anim = 4056
pos = 40,-20
postype = p1
sprpriority = 5
ownpal = 1

[State 3000, a]
type = Explod
trigger1 = AnimElem = 18
ID = 3000
anim = 4061
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, b]
type = Explod
trigger1 = AnimElem = 18
ID = 3001
anim = ifelse(random < 300,4044,4053)
pos = 0,-50
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3000, c]
type = Explod
trigger1 = AnimElem = 19
ID = 3001
anim = ifelse(random < 100,4044,4053)
pos = -10,-20
random = 90,90
postype = p2
ownpal = 1
removetime = 50
bindtime = 1
sprpriority = 20
persistent = 0
ignorehitpause = 1

[State 3310, 4]
type = EnvShake
trigger1 = animelem = 18
time = 20
ampl = -12
freq = 95
phase = 95

[State 3310]
type = playsnd
trigger1 = animelem = 9
value = s3050,0

[State 3310]
type = playsnd
trigger1 = animelem = 15
value = s3050,1

[State 3310]
type = playsnd
trigger1 = animelem = 18
value = s1,4

[State 3310]
type = playsnd
trigger1 = animelem = 18
value = s2100,4

[State 3111]
type = targetlifeadd
trigger1 = AnimElem = 18
value = -400
kill = 1

[State 3111]
type = hitadd
trigger1 = AnimElem = 18
value = 1

[State 1200, 1]
type = targetstate
trigger1 = animelem = 18
value = 3502

[State 3111]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1211]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3501]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 3051, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3501+var(55)*30000

[State 3051, 2]
type = nothitby
trigger1 = time = 0
value = SCA

[State 3051, 3]
type = SelfState
trigger1 = animtime = 0
value = 5120

;---------------------------------------------------------------------------
[Statedef 3502]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 1212]
type = ChangeAnim2
trigger1 = time = 0
value = 3502+var(55)*30000

[State 1300, 1]
type = Veladd
trigger1 = pos y > -300
y = -5

[State 1300, 1]
type = Veladd
trigger1 = time > 3
trigger1 = pos y > -300
y = -1

[State 1300, 1]
type = Veladd
trigger1 = pos y <= -300
y = 0

[State 1300, 1]
type = Velset
trigger1 = pos y <= -300
y = 0

[State 1212]
type = nothitby
trigger1 = time = 0
value = SCA

[State 1212, 5]
type = ChangeState
trigger1 = time = 75
value = 3503

;---------------------------------------------------------------------------
[Statedef 3503]
type = A
movetype = H
physics = N
velset = 0
anim = 3503
sprpriority = 0

[State 3503]
type = ChangeAnim2
trigger1 = time = 0
value = 3503+var(55)*30000

[State 3503, 1]
type = Veladd
trigger1 = time > 1 
y = 2.7

[State 3503, 1]
type = Veladd
trigger1 = time = 20
x = -2.8

[State 3503, 5]
type = SelfState
trigger1 = time = 20
value = 5100

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[State -3, 2];跳跃系统相关(普通跳)
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 40 
trigger1 = var(25) <= 0
value = F40, 0
channel = 13

[State -3, 2];跳跃系统相关（大跳/小跳）
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 40 
trigger1 = var(25) > 1
value = F40, 1
channel = 13

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; AH大神的大跳系统
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[State -3, 5]
type = varset
trigger1 = stateno = 10
trigger1 = time = 0
trigger2 = stateno = [100,101]
v = 25
value = 20

[State -3, 5]
type = varset
trigger1 = stateno = 52
trigger1 = time = 0
v = 25
value = 0

[State -3, 5]
type = varset
trigger1 = stateno = 40
trigger1 = command != "holdup"
v = 26
value = 1

[State -3, 5]
type = varset
trigger1 = stateno = 40
trigger1 = command = "holdup"
v = 26
value = 0

[State -3, 5]
type = VelAdd
trigger1 = stateno = 50
trigger1 = anim = 41
trigger1 = time = 1
trigger1 = var(25) >= 1
y = -0.6

[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = anim = 42
trigger1 = time = 1
trigger1 = var(25) >= 1
x = 5
;y = -9

[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = anim = 43
trigger1 = time = 1
trigger1 = var(25) >= 1
x = -5
;y = -9

[State -3, 5]
type = veladd
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(26) = 1
y = 3

[State -3, 5]
type = AfterImage
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(25) >= 1
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
;--------------------------------------------

;---------------------------------------------------------------
;----------------------火焰受击伴随烟雾-------------------------
;---------------------------------------------------------------
;人物受到带火属性的招式攻击Var设定
[State 2300, Burn]
type = Varset
trigger1 = stateno = 3050 || stateno = 3060 || stateno = 3300 || stateno = 1010 || stateno = 1015 || stateno = 1201 || stateno = 1202 || stateno = 1211 || stateno = 1060 || stateno = 1061 || stateno = 1070 || stateno = 1071
trigger1 = Movehit
trigger2 = stateno = 3000 
trigger2 = AnimElem = 52, >= 0 && movehit = 1
trigger3 = stateno = 3200 
trigger3 = AnimElem = 86, >= 0 && movehit = 1
trigger4 = p2stateno = 3122 || p2stateno = 3502 || p2stateno = 3503 || p2stateno = 5410
trigger5 = stateno = 1008
trigger5 = AnimElem = 26, >= 0 && movehit = 1
persistent = 0
ignorehitpause = 1
var(23) = 1

[State -2,红色双烟雾];Random < 50
type = Explod
triggerall = p2movetype = H
triggerall = Random < 50
trigger1 = stateno = 3050 || stateno = 3060 || stateno = 3300 || stateno = 1010 || stateno = 1015 || stateno = 1201 || stateno = 1202 || stateno = 1211 || stateno = 1060 || stateno = 1061 || stateno = 1070 || stateno = 1071
trigger1 = Movehit
trigger2 = stateno = 3000 
trigger2 = AnimElem = 52, >= 0 && movehit = 1
trigger3 = stateno = 3200 
trigger3 = AnimElem = 86, >= 0 && movehit = 1
trigger4 = p2stateno = 3122 || p2stateno = 3502 || p2stateno = 3503
trigger5 = stateno = 1008
trigger5 = AnimElem = 26, >= 0 && movehit = 1
anim = f400
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,红色雾气]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 100
trigger1 = stateno = 3050 || stateno = 3060 || stateno = 3300 || stateno = 1010 || stateno = 1015 || stateno = 1201 || stateno = 1202 || stateno = 1211 || stateno = 1060 || stateno = 1061 || stateno = 1070 || stateno = 1071
trigger1 = Movehit
trigger2 = stateno = 3000 
trigger2 = AnimElem = 52, >= 0 && movehit = 1
trigger3 = stateno = 3200 
trigger3 = AnimElem = 86, >= 0 && movehit = 1
trigger4 = p2stateno = 3122 || p2stateno = 3502 || p2stateno = 3503
trigger5 = stateno = 1008
trigger5 = AnimElem = 26, >= 0 && movehit = 1
anim = f401
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,三个小爆点]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 100
trigger1 = stateno = 3050 || stateno = 3060 || stateno = 3300 || stateno = 1010 || stateno = 1015 || stateno = 1201 || stateno = 1202 || stateno = 1211 || stateno = 1060 || stateno = 1061 || stateno = 1070 || stateno = 1071
trigger1 = Movehit
trigger2 = stateno = 3000 
trigger2 = AnimElem = 52, >= 0 && movehit = 1
trigger3 = stateno = 3200 
trigger3 = AnimElem = 86, >= 0 && movehit = 1
trigger4 = p2stateno = 3122 || p2stateno = 3502 || p2stateno = 3503
trigger5 = stateno = 1008
trigger5 = AnimElem = 26, >= 0 && movehit = 1
anim = f402
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,红色单烟雾];Random < 70
type = Explod
triggerall = p2movetype = H
triggerall = Random < 70
trigger1 = stateno = 3050 || stateno = 3060 || stateno = 3300 || stateno = 1010 || stateno = 1015 || stateno = 1201 || stateno = 1202 || stateno = 1211 || stateno = 1060 || stateno = 1061 || stateno = 1070 || stateno = 1071
trigger1 = Movehit
trigger2 = stateno = 3000 
trigger2 = AnimElem = 52, >= 0 && movehit = 1
trigger3 = stateno = 3200 
trigger3 = AnimElem = 86, >= 0 && movehit = 1
trigger4 = p2stateno = 3122 || p2stateno = 3502 || p2stateno = 3503
trigger5 = stateno = 1008
trigger5 = AnimElem = 26, >= 0 && movehit = 1
anim = f403
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

;---------------------------------------------------------------
;P2倒地之后的烟雾（红色）
;---------------------------------------------------------------
[State 1000, explods];红色小明火
type = Explod
triggerall = var(23) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5150]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
trigger3 = (p2stateno = [5413,5415]) && p2movetype = H
anim = f404
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色小灰雾
type = Explod
triggerall = var(23) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5150]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
trigger3 = (p2stateno = [5413,5415]) && p2movetype = H
anim = f405
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色小圈
type = Explod
triggerall = var(23) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5150]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
trigger3 = (p2stateno = [5413,5415]) && p2movetype = H
anim = f406
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色贴地喷雾1
type = Explod
triggerall = StageVar(info.author) != "water"
triggerall = var(23) > 0 && Random < 50
trigger1 = (p2stateno = [5100,5150]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
trigger3 = (p2stateno = [5413,5415]) && p2movetype = H
anim = f407
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,0
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色贴地喷雾2
type = Explod
triggerall = StageVar(info.author) != "water"
triggerall = var(23) > 0 && Random < 50
trigger1 = (p2stateno = [5100,5150]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
trigger3 = (p2stateno = [5413,5415]) && p2movetype = H
anim = f407
pos = 0,0
facing = -1
postype = p2
sprpriority = 999
bindtime = 1
random = 100,0
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, VarSet]
type = VarSet
trigger1 = p2movetype != H
v = 23
value = 0
persistent = 0
;---------------------------------------------------------------
;------------------------END OF STATE---------------------------
;---------------------------------------------------------------
[State -2, 1]
type = StopSnd
trigger1 = stateno = 0 || stateno = 3115
channel = 0

[State -2, 2]
type = StopSnd
trigger1 = stateno != 100
trigger2 = movetype = H
channel = 1

[State -2, 3]
type = PlaySnd
triggerall = Time = 1 && alive
trigger1 = Stateno=5000||Stateno=5010||Stateno=5020
value = s5000,IfElse((Random <= 650),IfElse((Random <= 325),0,1),1)
persistent = 0
channel = 0

[State -2, 4]
type = PlaySnd
triggerall = Time = 1 && alive
trigger1 = Random > 250
trigger1 = Stateno=5070||Stateno=5090
value = s5000,2
channel = 0
persistent = 0

[State -3, 2]
type = PlaySnd
trigger1 = AnimElem = 3
trigger1 = stateno = 1060 || stateno = 1070
value = 1000,5
channel = 1

[State -3, 3]
type = StopSnd
trigger1 = AnimElem = 17
trigger1 = stateno = 1060 || stateno = 1070
trigger2 = AnimElem = 16
trigger2 = stateno = 1061 || stateno = 1071
channel = 1

[State -3, 4]
type = PlaySnd
triggerall = AnimElem = 7
trigger1 = stateno = 3100
trigger2 = stateno = 3110
trigger3 = stateno = 3400
value = 100,0
channel = 1
loop = 1

[State -3, 5]
type = StopSnd
trigger1 = stateno = 3100
trigger1 = AnimElem = 13
trigger2 = stateno = 3110
trigger2 = AnimElem = 16
trigger3 = Time = 1
trigger3 = stateno = 3111
trigger4 = Time = 1
trigger4 = stateno = 3401
trigger5 = stateno = 3400
trigger5 = AnimElem = 16
channel = 1

[State -3, 6]
type = PlaySnd
trigger1 = stateno = 3100
trigger1 = AnimElem = 13
trigger2 = stateno = 3110
trigger2 = AnimElem =16
trigger3 = Time = 1
trigger3 = stateno = 3111
trigger4 = Time = 1
trigger4 = stateno = 3401
trigger5 = stateno = 3400
trigger5 = AnimElem = 16
value = 101,0

;============================================================
[Statedef 24300]
type = A
movetype = I
physics = N
anim = 99999
velset = 0, 0
ctrl = 0

[State 3020, 1]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28001)
triggerall = teamside = 1
trigger1 = !time
anim = F28001
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28001)
triggerall = teamside = 1
trigger1 = !time
anim = F28001
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28002)
triggerall = teamside = 1
trigger1 = !time
anim = F28002
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28002)
triggerall = teamside = 1
trigger1 = !time
anim = F28002
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28003)
triggerall = teamside = 1
trigger1 = !time
anim = F28003
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28003)
triggerall = teamside = 1
trigger1 = !time
anim = F28003
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28004)
triggerall = teamside = 1
trigger1 = !time
anim = F28004
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28004)
triggerall = teamside = 1
trigger1 = !time
anim = F28004
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28005)
triggerall = teamside = 1
trigger1 = !time
anim = F28005
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28005)
triggerall = teamside = 1
trigger1 = !time
anim = F28005
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28006)
triggerall = teamside = 1
trigger1 = !time
anim = F28006
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28006)
triggerall = teamside = 1
trigger1 = !time
anim = F28006
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28007)
triggerall = teamside = 1
trigger1 = !time
anim = F28007
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28007)
triggerall = teamside = 1
trigger1 = !time
anim = F28007
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28011)
triggerall = teamside = 2
trigger1 = !time
anim = F28011
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28011)
triggerall = teamside = 2
trigger1 = !time
anim = F28011
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28012)
triggerall = teamside = 2
trigger1 = !time
anim = F28012
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28012)
triggerall = teamside = 2
trigger1 = !time
anim = F28012
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28013)
triggerall = teamside = 2
trigger1 = !time
anim = F28013
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28013)
triggerall = teamside = 2
trigger1 = !time
anim = F28013
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28014)
triggerall = teamside = 2
trigger1 = !time
anim = F28014
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28014)
triggerall = teamside = 2
trigger1 = !time
anim = F28014
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28015)
triggerall = teamside = 2
trigger1 = !time
anim = F28015
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28015)
triggerall = teamside = 2
trigger1 = !time
anim = F28015
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28016)
triggerall = teamside = 2
trigger1 = !time
anim = F28016
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28016)
triggerall = teamside = 2
trigger1 = !time
anim = F28016
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28017)
triggerall = teamside = 2
trigger1 = !time
anim = F28017
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28017)
triggerall = teamside = 2
trigger1 = !time
anim = F28017
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 4300]
type = RemoveExplod
trigger1 = root,StateNo != [3400,3500]
trigger1 = root,StateNo != [3600,3620]
id = 8000

[State Snd]
type = PlaySnd
trigger1 = root,StateNo != [3400,3500]
trigger1 = root,StateNo != [3600,3620]
value = F23997,3
persistent = 0

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
triggerall = teamside = 1
trigger1 = root,StateNo != [3400,3500]
trigger1 = root,StateNo != [3600,3620]
anim = F24293
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
triggerall = teamside = 2
trigger1 = root,StateNo != [3400,3500]
trigger1 = root,StateNo != [3600,3620]
anim = F24294
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = DestroySelf
triggerall = Time > 0
trigger1 = root,StateNo != [3400,3500]
trigger1 = root,StateNo != [3600,3620]

;============================================================