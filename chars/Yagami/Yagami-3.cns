

;---------------------------------------------------------------------------------
[Statedef -3]
;---------------------------------------------------------------------------------
;---------------------------------------------------------------
;----------------------火焰受击伴随烟雾-------------------------
;---------------------------------------------------------------
;人物受到带火属性的招式攻击Var设定
[State 2300, Burn]
type = Varset
trigger1 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger2 = stateno = 1100 || stateno = 1150 || stateno = 1410 || stateno = 2210  || stateno = 2400 || stateno = 2410 || stateno = 2510 || stateno = 2700 || stateno = 2710 || stateno = 2750 || stateno = 2760 || stateno = 3100 || stateno = 3110
trigger2 = Movehit
trigger3 = stateno = 1325 && AnimElem = 4
trigger4 = Projhittime(2300) >= 0 && Projhittime(2300) <= 55
trigger5 = Projhittime(2310) >= 0 && Projhittime(2310) <= 55
trigger6 = Projhittime(2320) >= 0 && Projhittime(2320) <= 55
trigger7 = (p2stateno = 5502 || p2stateno = 5460 || p2stateno = 4115 || p2stateno = 2620 || p2stateno = 3120 || p2stateno = 3218 )&& GameTime%2=0
trigger8 = ((stateno = [1200,1220] )|| (stateno = [1250,1270])) && Movehit && var(55)=1
trigger9 = p2stateno = 3530 && (enemy,anim = 3530 || enemy,anim = 33530 || enemy,anim = 63530 ) && AnimElem = 4, >= 0
trigger10 = stateno = 30001 && AnimElem = 36, >= 0 && AnimElem = 36, < 100 && GameTime%2=0
trigger11 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger12 = stateno = 42103 && (AnimElem = 19, < 0 || AnimElem =25,>=70)
persistent = 0
ignorehitpause = 1
var(40) = 1

[State -2,红色双烟雾];Random < 50
type = Explod
triggerall = p2movetype = H
triggerall = Random < 50
trigger1 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger2 = stateno = 1100 || stateno = 1150 || stateno = 1410 || stateno = 2210  || stateno = 2400 || stateno = 2410 || stateno = 2510 || stateno = 2700 || stateno = 2710 || stateno = 2750 || stateno = 2760 || stateno = 3100 || stateno = 3110
trigger2 = Movehit
trigger3 = stateno = 1325 && AnimElem = 4
trigger4 = Projhittime(2300) >= 0 && Projhittime(2300) <= 55
trigger5 = Projhittime(2310) >= 0 && Projhittime(2310) <= 55
trigger6 = Projhittime(2320) >= 0 && Projhittime(2320) <= 55
trigger7 = (p2stateno = 5502 || p2stateno = 5460 || p2stateno = 4115 || p2stateno = 2620 || p2stateno = 3120 || p2stateno = 3218 )&& GameTime%2=0
trigger8 = ((stateno = [1200,1220] )|| (stateno = [1250,1270])) && Movehit && var(55)=1
trigger9 = p2stateno = 3530 && (enemy,anim = 3530 || enemy,anim = 33530 || enemy,anim = 63530 ) && AnimElem = 4, >= 0
trigger10 = stateno = 30001 && AnimElem = 36, >= 0 && AnimElem = 36, < 100 && GameTime%2=0
trigger11 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger12 = stateno = 42103 && (AnimElem = 19, < 0 || AnimElem =25,>=70)
anim = f450
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,红色雾气]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 100
trigger1 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger2 = stateno = 1100 || stateno = 1150 || stateno = 1410 || stateno = 2210  || stateno = 2400 || stateno = 2410 || stateno = 2510 || stateno = 2700 || stateno = 2710 || stateno = 2750 || stateno = 2760 || stateno = 3100 || stateno = 3110
trigger2 = Movehit
trigger3 = stateno = 1325 && AnimElem = 4
trigger4 = Projhittime(2300) >= 0 && Projhittime(2300) <= 55
trigger5 = Projhittime(2310) >= 0 && Projhittime(2310) <= 55
trigger6 = Projhittime(2320) >= 0 && Projhittime(2320) <= 55
trigger7 = (p2stateno = 5502 || p2stateno = 5460 || p2stateno = 4115 || p2stateno = 2620 || p2stateno = 3120 || p2stateno = 3218 )&& GameTime%2=0
trigger8 = ((stateno = [1200,1220] )|| (stateno = [1250,1270])) && Movehit && var(55)=1
trigger9 = p2stateno = 3530 && (enemy,anim = 3530 || enemy,anim = 33530 || enemy,anim = 63530 ) && AnimElem = 4, >= 0
trigger10 = stateno = 30001 && AnimElem = 36, >= 0 && AnimElem = 36, < 100 && GameTime%2=0
trigger11 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger12 = stateno = 42103 && (AnimElem = 19, < 0 || AnimElem =25,>=70)
anim = f451
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,三个小爆点]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 100
trigger1 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger2 = stateno = 1100 || stateno = 1150 || stateno = 1410 || stateno = 2210  || stateno = 2400 || stateno = 2410 || stateno = 2510 || stateno = 2700 || stateno = 2710 || stateno = 2750 || stateno = 2760 || stateno = 3100 || stateno = 3110
trigger2 = Movehit
trigger3 = stateno = 1325 && AnimElem = 4
trigger4 = Projhittime(2300) >= 0 && Projhittime(2300) <= 55
trigger5 = Projhittime(2310) >= 0 && Projhittime(2310) <= 55
trigger6 = Projhittime(2320) >= 0 && Projhittime(2320) <= 55
trigger7 = (p2stateno = 5502 || p2stateno = 5460 || p2stateno = 4115 || p2stateno = 2620 || p2stateno = 3120 || p2stateno = 3218 )&& GameTime%2=0
trigger8 = ((stateno = [1200,1220] )|| (stateno = [1250,1270])) && Movehit && var(55)=1
trigger9 = p2stateno = 3530 && (enemy,anim = 3530 || enemy,anim = 33530 || enemy,anim = 63530 ) && AnimElem = 4, >= 0
trigger10 = stateno = 30001 && AnimElem = 36, >= 0 && AnimElem = 36, < 100 && GameTime%2=0
trigger11 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger12 = stateno = 42103 && (AnimElem = 19, < 0 || AnimElem =25,>=70)
anim = f452
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,红色单烟雾];Random < 70
type = Explod
triggerall = p2movetype = H
triggerall = Random < 70
trigger1 = Projhittime(1000) >= 0 && Projhittime(1000) <= 25
trigger2 = stateno = 1100 || stateno = 1150 || stateno = 1410 || stateno = 2210  || stateno = 2400 || stateno = 2410 || stateno = 2510 || stateno = 2700 || stateno = 2710 || stateno = 2750 || stateno = 2760 || stateno = 3100 || stateno = 3110
trigger2 = Movehit
trigger3 = stateno = 1325 && AnimElem = 4
trigger4 = Projhittime(2300) >= 0 && Projhittime(2300) <= 55
trigger5 = Projhittime(2310) >= 0 && Projhittime(2310) <= 55
trigger6 = Projhittime(2320) >= 0 && Projhittime(2320) <= 55
trigger7 = (p2stateno = 5502 || p2stateno = 5460 || p2stateno = 4115 || p2stateno = 2620 || p2stateno = 3120 || p2stateno = 3218 )&& GameTime%2=0
trigger8 = ((stateno = [1200,1220] )|| (stateno = [1250,1270])) && Movehit && var(55)=1
trigger9 = p2stateno = 3530 && (enemy,anim = 3530 || enemy,anim = 33530 || enemy,anim = 63530 ) && AnimElem = 4, >= 0
trigger10 = stateno = 30001 && AnimElem = 36, >= 0 && AnimElem = 36, < 100 && GameTime%2=0
trigger11 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger12 = stateno = 42103 && (AnimElem = 19, < 0 || AnimElem =25,>=70)
anim = f453
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

State 2300, Burn]
type = Varset
trigger1 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger2 = stateno = 42103 && AnimElem =25,>=65 && GameTime%2=0
trigger3 = p2stateno = 5460
persistent = 0
ignorehitpause = 1
var(24) = 1

[State -2,红色双烟雾];Random < 50
type = Explod
triggerall = p2movetype = H
triggerall = Random < 50
trigger1 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger2 = stateno = 42103 && AnimElem =25,>=65 && GameTime%2=0
trigger3 = p2stateno = 5460
anim = f400
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,红色雾气]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 100
trigger1 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger2 = stateno = 42103 && AnimElem =25,>=65 && GameTime%2=0
trigger3 = p2stateno = 5460
anim = f401
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,三个小爆点]
type = Explod
triggerall = p2movetype = H
triggerall = Random < 100
trigger1 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger2 = stateno = 42103 && AnimElem =25,>=65 && GameTime%2=0
trigger3 = p2stateno = 5460
anim = f402
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

[State -2,红色单烟雾];Random < 70
type = Explod
triggerall = p2movetype = H
triggerall = Random < 70
trigger1 = stateno = 30061 && AnimElem = 5, >= 0 && GameTime%2=0
trigger2 = stateno = 42103 && AnimElem =25,>=65 && GameTime%2=0
trigger3 = p2stateno = 5460
anim = f403
pos = 0,-50
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1

;---------------------------------------------------------------
;P2倒地之后的烟雾（红色）
;---------------------------------------------------------------
[State 1000, explods];红色小明火
type = Explod
triggerall = var(40) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f454
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色小灰雾
type = Explod
triggerall = var(40) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f455
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色小圈
type = Explod
triggerall = var(40) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f456
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色贴地喷雾1
type = Explod
triggerall = StageVar(info.author) != "water"
triggerall = var(40) > 0 && Random < 50
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f457
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,0
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色贴地喷雾2
type = Explod
triggerall = StageVar(info.author) != "water"
triggerall = var(40) > 0 && Random < 50
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f457
pos = 0,0
facing = -1
postype = p2
sprpriority = 999
bindtime = 1
random = 100,0
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, VarSet]
type = VarSet
trigger1 = p2movetype != H
v = 40
value = 0
persistent = 0

[State 1000, explods];红色小明火
type = Explod
triggerall = var(24) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f404
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色小灰雾
type = Explod
triggerall = var(24) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f405
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色小圈
type = Explod
triggerall = var(24) > 0 && Random < 70
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f406
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,100
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色贴地喷雾1
type = Explod
triggerall = StageVar(info.author) != "water"
triggerall = var(24) > 0 && Random < 50
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f407
pos = 0,0
postype = p2
sprpriority = 999
bindtime = 1
random = 100,0
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, explods];红色贴地喷雾2
type = Explod
triggerall = StageVar(info.author) != "water"
triggerall = var(24) > 0 && Random < 50
trigger1 = (p2stateno = [5100,5110]) && p2movetype = H
trigger2 = (p2stateno = [4167,4169]) && p2movetype = H
anim = f407
pos = 0,0
facing = -1
postype = p2
sprpriority = 999
bindtime = 1
random = 100,0
ownpal = 1
supermove = 1
ignorehitpause = 1

[State 1000, VarSet]
type = VarSet
trigger1 = p2movetype != H
v = 24
value = 0
persistent = 0
;---------------------------------------------------------------
;------------------------END OF STATE---------------------------
;---------------------------------------------------------------
[State 0, changeanim]
type = changeanim
triggerall = roundno >= 2
trigger1 = palno > 6
value = 6000

[state varadd]
type = varset
triggerall = roundstate <= 1
trigger1 = palno = [7,12]
var(55) = 1
;==============================================================================

;停止跑步声
[state -2, stopsound]
type = stopsnd;
trigger1 = stateno != 100
channel = 5

[State -2, 1]
type = removeexplod
trigger1 = movetype = H
ID = 10000

[State -2, AirGuard]
type = AssertSpecial
trigger1 = 1
flag = NoAirGuard
IgnoreHitPause = 1

;===================================================================

[State 2000, 6];
type = PlaySnd
trigger1 = ProjHit1000 = 1
trigger2 = ProjHit2300 = 1
trigger3 = ProjHit2310 = 1
trigger4 = ProjHit2320 = 1
trigger5 = ProjHit2620 = 1
value = 6800,0

[State 2000, 6];
type = PlaySnd
triggerall = p2movetype = H
triggerall = Movehit = 1
trigger1 = Anim = 1100+(var(1)*6000)||Anim = 1110+(var(1)*6000)
trigger2 = Anim = 1410+(var(1)*6000)||(Anim = [7200,7270])
trigger3 = (Anim = [2010,2011]) && AnimElemtime(52) >= 0
trigger4 = Anim = 2210
trigger5 = Anim = 2410  || Anim = 2510 ||Anim = 3520
trigger6 = Anim = 2710 && AnimElemtime(6) >= 0
trigger7 = Anim = 12760 && AnimElemtime(6) >= 0
trigger8 = Anim = 3100
trigger9 = Anim = 3610
value = 6800,0

[State 192, ]
type = AssertSpecial
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno = 2620
trigger1 = enemy,anim = 2635
flag = nojugglecheck

[State 1001,]
type = RemoveExplod
trigger1 = Anim != 2600 && Anim != 2601
trigger2 = Movetype != A
ID = 2600

[State 1001,]
type = RemoveExplod
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno != 2620
ID = 2625

[State 700, GtFNg\]
type = Explod
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno = 2620
trigger1 = projhit2620 = 1
trigger1 = numExplod(2625) != 1
anim = 2625
postype = P2
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
ID = 2625

[State 700, GtFNg\]
type = Explod
triggerall = enemy,movetype = H
triggerall = enemy,prevstateno = 2620
trigger1 = enemy,stateno = 2630
trigger1 = enemy,time = 1
trigger2 = enemy,time = 1
anim = 2630
postype = P2
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
removeongethit = 1
ID = 2630

;-----------------------------------------------------------------------------
[State -2, lCg]
type = null;ChangeState 
value = 190 
triggerall = RoundsExisted = 0 
triggerall = TeamMode = Turns 
trigger1 = stateno = 5900 

[State -2, CtmF]
type = VarSet
triggerall = RoundState = [0,1] 
trigger1 = RoundNo = 1 
trigger2 = TeamMode = Turns 
trigger2 = RoundsExisted = 0 
v = 22
value = Life 

[State -2, Ct~X]
type = VarSet
triggerall = Var(22) = [0,100] 
triggerall = Time = 1
trigger1 = RoundNo = 1
trigger2 = RoundsExisted = 0
v = 22
value = const(data.life) 

;----------------------------------------------------------------------------
;LAsNVXe()
[State -2, YWC]
type = PosSet
triggerall = RoundState = 2
trigger1 = stateno = [0,12]  
trigger1 = floor(Pos Y) = [-2,3] 
y = 0

[State -2, YWC]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < Var(22) 
trigger1 = stateno = [0,30] 
trigger1 = floor(Pos Y) < -2 
y = 2

[State -2, YWC]
type = PosAdd
triggerall = RoundState = 2
triggerall = Life < Var(22)
trigger1 = stateno = [0,30]
trigger1 = floor(Pos Y) > 2 
y = -2

[State -2, YWC] 
type = ChangeState 
triggerall = RoundState = 2 
triggerall = ctrl = 0 
triggerall = alive = 1 
triggerall = !Lose
trigger1 = Pos Y < -1800 
trigger1 = GameTime % 10 = 0
trigger2 = Pos Y > 480 
trigger2 = GameTime % 10 = 0
value = 40
;----------------------------------------------------------------------------

[State -2, fobO\]
type = DisplayToClipboard
trigger1 = 1
text = "V1-C=%d,V3-J=%d,V4-D=%d,V5-B=%d,V20-A=%d"
params = var(1),var(3),var(4),var(5),VAR(47)
ignorehitpause = 1

;\
[State -2, fobO\2]
type = AppendToClipboard
trigger1 = 1
text = " V22-L=%d,V21-R=%d,Pos X=%d,Y=%d"
params = var(22),var(21),ceil(Pos X),floor(Pos Y)
ignorehitpause = 1

;\
[State -2, fobO\3]
type = AppendToClipboard
trigger1 = 1
text = "\nDist X=%d,Y=%d, Vel X=%d/10,Y=%d/10 : Power=%d"
params = floor(P2BodyDist X),ceil(P2BodyDist Y),ceil(Vel X*10),floor(Vel Y*10),Power
ignorehitpause = 1

[State 192, ]
type = AssertSpecial
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno = 2620
trigger1 = enemy,anim = 2635
flag = nojugglecheck

[State 1001,]
type = RemoveExplod
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno != 2620
ID = 2625

[State 700, GtFNg\]
type = Explod
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno = 2620
trigger1 = projhit2620 = 1
trigger1 = numExplod(2625) != 1
anim = 2625
postype = P2
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
ID = 2625

[State 700, GtFNg\]
type = Explod
triggerall = enemy,movetype = H
triggerall = enemy,prevstateno = 2620
trigger1 = enemy,stateno = 2630
trigger1 = enemy,time = 1
trigger2 = enemy,time = 1
anim = 2630
postype = P2
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
removeongethit = 1
ID = 2630

[State 100,]
type = StopSnd
trigger1 = command != "holdfwd"
trigger2 = Anim != 100
channel = 6

;===============================================================================
[State -3, K[h]
type  = ChangeState
value = 132
triggerall = p2movetype = A          ;U
triggerall = statetype = A           ;
triggerall = VAR(47) = 1             ;CPU
triggerall = ctrl                    ;R
triggerall = stateno != [190,194]    ;oO{()
triggerall = p2statetype = A         ;
trigger1   = P2BodyDist X = [40,80]  ;p
trigger1   = var(21) = [0,39]        ;m
trigger2   = P2BodyDist X = [-20,39] ;p(w)
trigger2   = var(21) = [0,59]        ;m

[State -3, n K[h]
type  = ChangeState
value = 130
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = VAR(47) = 1
triggerall = ctrl
triggerall = stateno != [190,194]
triggerall = p2statetype = S
trigger1   = P2BodyDist X = [40,90]
trigger1   = var(21) = [0,14]         ;CPUK[hCH
trigger2   = P2BodyDist X = [-15,39]
trigger2   = var(21) = [10,29]
trigger3   = enemy,teammode = simul   ;`[[h
trigger3   = P2BodyDist X = [-50,-16] ;U
trigger3   = var(21) = [0,39]
trigger4   = P2BodyDist X = [-15,39]
trigger4   = enemy,hitdefattr = S, NA,SA,HA ;Uu
trigger4   = Random < 200                   ;mK[h

[State -3,  K[h]
type  = ChangeState
value = 130
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = VAR(47) = 1
triggerall = ctrl
triggerall = stateno != [190,194]
triggerall = p2statetype = A
trigger1   = P2BodyDist X = [40,90]
trigger1   = var(21) = [0,15]
trigger2   = P2BodyDist X = [-40,39] ;
trigger2   = var(21) = [0,32]
trigger3   = P2BodyDist X = [-40,39]
trigger3   = enemy,hitdefattr = A, NA,SA,HA ;Uu
trigger3   = Random < 400

[State -3, K[h]
type  = ChangeState
value = 131
triggerall = p2movetype = A
triggerall = statetype != A
triggerall = VAR(47) = 1
triggerall = ctrl
triggerall = stateno != [190,194]
trigger1   = p2statetype = C
trigger1   = P2BodyDist X = [40,85]
trigger1   = var(21) = [0,24]
trigger2   = p2statetype = C
trigger2   = P2BodyDist X = [-20,39]
trigger2   = var(21) = [0,39]
trigger3   = p2statetype = S         ;ic
trigger3   = P2BodyDist X = [-15,39]
trigger3   = var(21) = [0,9]
trigger4   = p2statetype = C
trigger4   = enemy,teammode = simul
trigger4   = P2BodyDist X = [-50,-16]
trigger4   = var(21) = [0,39]
trigger5   = P2BodyDist X = [-20,39]
trigger5   = enemy,hitdefattr = C, NA,SA,HA ;Uu
trigger5   = Random < 300

[State -3, ]
type  = ChangeState
value = 800
triggerall = VAR(47) = 1
triggerall = roundstate = 2
triggerall = Random = [0,59]
triggerall = statetype = S
triggerall = ctrl
trigger1   = P2BodyDist X = [-3,3)
trigger1   = p2statetype != A
trigger1   = p2statetype != L
trigger1   = p2movetype != H


;======================================================================
;人工智能
;======================================================================
[State -1, AI开关]
type = VarSet
triggerall = !var(59)
Triggerall = RoundState = [1,2]
trigger1 = AILevel >0
var(59) = 3+(AILevel);系统对应等级(最高8)
ignorehitpause = 1

;======================================================================
[state -3, yaccel]
type = varset
trigger1 = fvar(40) != EnemyNear(floor(fvar(37))),const(movement.yaccel)
trigger1 = EnemyNear(floor(fvar(37))),stateno != [5000,5210]
trigger1 = EnemyNear(floor(fvar(37))),Vel Y != 0
FV = 40
value = EnemyNear(floor(fvar(37))),const(movement.yaccel)
ignorehitpause = 1

[state -3, yaccel]
type = varset
trigger1 = fvar(40) != EnemyNear(floor(fvar(37))),GetHitVar(yaccel)
trigger1 = EnemyNear(floor(fvar(37))),stateno = [5000,5210]
FV = 40
value = EnemyNear(floor(fvar(37))),GetHitVar(yaccel)
ignorehitpause = 1

[state -3, yaccel]
type = varset
trigger1 = fvar(40) != 0
trigger1 = EnemyNear(floor(fvar(37))),Vel Y = 0
FV = 40
value = 0
ignorehitpause = 1

;======================================================================
[State -3]
Type = varset
triggerall = fvar(20)=0
Triggerall = var(59)
Trigger1 = Stateno = 2600 && Movehit
Trigger2 = ProjHitTime(2620) = 1
fvar(36) = 1

[State -3]
Type = varset
triggerall = fvar(20)=0
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0

[State -3]
Type = varset
triggerall = fvar(20)=0
Triggerall = var(59)
Trigger1 = Stateno = 1210 && Movehit
fvar(36) = 2

[State -3]
Type = varset
triggerall = fvar(20)=0
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0

;------------------------------------------------------
[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = P2stateno = 1570
fvar(36) = 1

[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0

[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = (Stateno = 1600||Stateno =1650) && Movehit
fvar(36) = 2

[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0

;======================================================================

[State -3]
type = varset
trigger1 = RoundState != 2
var(25) = 0

[State -3]
type = varset
triggerall = !var(25)
trigger1 = Ctrl
var(25) = GameTime
persistent = 0

[State -3]
type = varset
triggerall = RoundState = 2
trigger1 = GameTime = var(25)
trigger2 = (GameTime - var(25))%200 = 1
trigger2 = P2MoveType != A
var(26) = Enemy(0),NumHelper
ignorehitpause = 1

[State -3]
type = varset
triggerall = NumEnemy = 2
trigger1 = GameTime = var(25)
trigger2 = (GameTime - var(25))%200 = 1
trigger2 = P2MoveType != A
var(27) = Enemy(1),NumHelper
ignorehitpause = 1

[State -3]
type = varset
triggerall = Enemy(0),NumHelper - var(26) > 0
trigger1 = NumEnemy = 1
trigger2 = NumEnemy = 2
trigger2 = Enemy(1),NumHelper - var(27) > 0
var(28) = 1
ignorehitpause = 1

[State -3]
type = varset
trigger1 = NumEnemy = 1
trigger1 = Enemy(0),NumHelper - var(26) <= 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(0),NumHelper - var(26) <= 0
trigger2 = Enemy(1),NumHelper - var(27) <= 0
var(28) = 0
ignorehitpause = 1
;================================================================================================
[State -3]
Type = varset
Trigger1 = numenemy=1
fvar(37) = 0

[State -3]
Type = varset
Trigger1 = numenemy=2
fvar(37) = ifelse(EnemyNear(0),alive,0,1)

[State -3,GC]
type = ChangeState
value = 3500
triggerall = var(1)=0
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = power >= 3000
triggerall = life<=lifemax*0.3
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [20+floor(8*(EnemyNear(floor(fvar(37))),vel X)),50+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-120-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*20
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])

[State -3, MAX S]
type = ChangeState
value = ifelse(var(1)=1,3000,3100)
triggerall = fvar(20)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = power >= 2000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, S]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(20)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = power >= 1000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,430,205)
triggerall = fvar(20)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2BodyDist X = [-10,15]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -5
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,400,215)
triggerall = fvar(20)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -6
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3,GC]
type = ChangeState
value = 1400;ifelse(Random <= 400,1250,1400)
triggerall = fvar(20)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2bodydist X = [50,80]
triggerall = P2bodydist y = [-72,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*30


[State -3,GC]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(20)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = power >= 1000
triggerall = P2StateType != A
triggerall = P2bodydist X = [-10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),50+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*40
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])

[State -3,GC]
type = ChangeState
value = 1150
triggerall = fvar(20)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-10,15];10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),50+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*20
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])


[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(20)=0
triggerall = var(59)
Triggerall = RoundState = 2
TriggerAll = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
TriggerAll = P2BodyDist X = [-10,110]
TriggerAll = P2BodyDist Y >= -60
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !EnemyNear(floor(fvar(37))),HitDefAttr = SCA,NT,ST,HT
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -30
TriggerAll = Random<= var(59)*40
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])

[State -3, LW]
type = ChangeState
value = 2150
triggerall = var(1)=1
triggerall = fvar(20)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = power >= 1000
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [160,200]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*50
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3, LW]
type = ChangeState
value = 2100
triggerall = var(1)=1
triggerall = fvar(20)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = power >= 100
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [100,139]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*30
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3, LW]
type = ChangeState
value = 1400
triggerall = fvar(20)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [120,159]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*70
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3, LW]
type = ChangeState
value = 1450
triggerall = fvar(20)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [160,189]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*70
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP


[State -3]
Type = ChangeState
Value = 120
triggerall = fvar(20)=0
TriggerAll = var(59)
TriggerAll = StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = Random<=var(59)*100
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(37))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = P2movetype = A
Trigger5 = Var(28)




[State -3]
type = ChangeState
value = ifelse(Random <= 400,800,1500)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = Random <= var(59)*80
triggerall = p2stateno != [5050,5122]
triggerall = P2StateNo != [130,153]
triggerall = P2movetype != H
triggerall = ctrl && statetype != A
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2bodydist x = [-15,15]
trigger1 = ctrl

[State -3, Throw]
type = ChangeState
value = 750
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -13
triggerall = BackEdgeBodyDist <= 15
triggerall = P2BodyDist X = [-5,60]
triggerall = P2BodyDist Y >= 45
Trigger1 = Random <= var(59)*100

[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -30
triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
triggerall = BackEdgeBodyDist <= 16
triggerall = P2BodyDist X = [0,120]
Trigger1 = Random <= var(59)*100

[State -3, Dash]
Type = ChangeState
Value = ifelse(fvar(30)=1,1850,1350)
triggerall = fvar(20)=0
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
;triggerall = Stateno != 100
Triggerall = P2BodyDist X > 160
;Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3, Dash]
Type = ChangeState
Value = 100
Ctrl = 0
triggerall = fvar(20)=0
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
Triggerall = P2BodyDist X = [15,200]
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3,Sjump]
Type = ChangeState
Value = 710
triggerall = fvar(20)=0
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
Triggerall = P2BodyDist X = [-15,15]
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,41,43)
triggerall = fvar(20)=0
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2BodyDist X = [-5,15]
Triggerall = Facing = EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),AnimTime = -1
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

[State -1, Crouching Strong Kick]
type = ChangeState
value = 44
triggerall = fvar(20)=0
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X = [-5,40]
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -8

[State -3, LK]
type = ChangeState
value = 1000
triggerall = fvar(20)=0
Triggerall = var(59)
triggerall = numprojID(1000) = 0
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X = [41,100]
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -19

[State -3, SK]
type = ChangeState
value = 1050
triggerall = var(1)=1
triggerall = fvar(20)=0
Triggerall = var(59)
triggerall = numprojID(1000) = 0
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X >= 101
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -19

[State -3,]
Type = ChangeState
value = ifelse(Random <= 450,720,105)
triggerall = fvar(20)=0
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2BodyDist X = [-5,30]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

;361

[State -3, S]
type = ChangeState
value = 1200
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = fvar(36) = 1
;triggerall = power >= 1200
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-50-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 18
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, S]
type = ChangeState
value = 44
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = fvar(36) = 1
;triggerall = power >= 1200
triggerall = roundstate = 2
triggerall = P2stateno = 2620
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2BodyDist Y = [-50-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 19
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Dash]
type = ChangeState
value = 100
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = fvar(36) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2stateno = 2620
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Punch]
type = ChangeState
value = 1210
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype = A
Triggerall = p2bodydist x = [1,260]
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
;trigger1 = stateno = 1200 && AnimElemtime(7) > 1 && AnimElemtime(8) < 2 && MoveGuarded
trigger1 = stateno = 1200 && AnimElemtime(7) > 1 && AnimElemtime(8) < 2 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1220
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 50
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1210 && AnimElemtime(5) > 1 && AnimElemtime(7) < 2 && MoveGuarded
;trigger2 = stateno = 1210 && AnimElemtime(4) > 1 && AnimElemtime(7) < 2 && Movehit

[State -3, MAX S]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(20)=0
triggerall = var(59)
;triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [101,160]
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
trigger1 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 13

[State -3, MAX S]
type = ChangeState
value = ifelse(Random <= 400,1300,1450)
triggerall = fvar(20)=0
triggerall = var(59)
;triggerall = power >= 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X >= 161
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
trigger1 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 13

[State -3, MAX S]
type = ChangeState
value = 1400
triggerall = fvar(20)=0
triggerall = var(59)
;triggerall = power >= 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [121,160]
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
trigger1 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 13

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,215,205)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-5,15]
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2statetype != A
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,400,215)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 400,400,430)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X = [-10,25]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Stand Light Punch]
type = ChangeState
value = 400
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-5,34];34
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = P2StateType != C
Trigger1 = Random <= var(59)*100

[State -3, Stand Light Punch]
type = ChangeState
value = 210
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = Random <= var(59)*100
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2stateno = 1520
trigger1 = ctrl


;362

[State -3, LW]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = P2BodyDist X = [-15,40]
;triggerall = P2BodyDist Y = [-55-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = P2StateType = A
triggerall = P2MoveType = H
trigger1 = P2StateType != L
Trigger1 = Random <= var(59)*100


[State -3, LW]
type = ChangeState
value = 1100
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = power < 999
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = P2BodyDist X = [-15,40]
;triggerall = P2BodyDist Y = [-55-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 26
triggerall = P2StateType = A
triggerall = P2MoveType = H
trigger1 = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Dash]
type = ChangeState
value = 100
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 30
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100


[State -3, Jump Strong Kick]
type = ChangeState
value = 610
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype = A && vel x = 0
triggerall = ctrl
triggerall = stateno != 105
triggerall = P2BodyDist X = [-15,24]
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2StateType = C
Trigger1 = Random <= var(59)*100

[State -3, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype = A && vel x = 0
triggerall = ctrl
triggerall = stateno != 105
triggerall = P2BodyDist X = [-15,24]
triggerall = !inguarddist
triggerall = P2StateType != C
Trigger1 = Random <= var(59)*100



[State -3, FWalk]
type = ChangeState
value = 320
triggerall = fvar(20)=0
TriggerAll = var(59)
triggerall = statetype = A && vel x != 0
triggerall = p2statetype != A
triggerall = p2bodydist x < 0
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
trigger1 = vel y > .1 ;|| p2bodydist Y <= 35
trigger1 = ctrl

[State -3, FWalk]
type = ChangeState
value = 320
triggerall = fvar(20)=0
TriggerAll = var(59)
triggerall = statetype = A && vel x != 0
triggerall = p2statetype != A
triggerall = p2bodydist x < 0
triggerall = P2stateno = 2620
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
trigger1 = vel y > .1 ;|| p2bodydist Y <= 35
trigger1 = ctrl



[State -3, Crouching Light Punch]
type = ChangeState
value = 320
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 105 && Pos Y < 0

;lxj

[State -3, Crouching Light Punch]
type = ChangeState
value = 1350
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X < 40
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 215 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
;triggerall = statetype != A
triggerall = power >= 1000
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 305 && Movehit
trigger1 = fvar(22)<100
Trigger2 = stateno = 1150 && Movehit && P2BodyDist X > 35  && AnimElem = 5, <= 1
trigger2 = fvar(22)>=100
Trigger3 = stateno = 1810 && Movehit
trigger3 = fvar(22)>=100

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 430 && Movehit



[State -3, Crouching Light Punch]
type = ChangeState
value = 1500
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*20
triggerall = p2bodydist x = [-15,15]
Trigger1 = stateno = 205 && Movehit && Random <= var(59)*20
Trigger2 = stateno = 400 && Movehit && Random <= var(59)*10

[State -3, Crouching Light Punch]
type = ChangeState
value = 300
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X < 30
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 400 && Movehit && P2BodyDist X < 30
Trigger2 = stateno = 215 && AnimElem = 3, >= 1 && Movehit;&& P2BodyDist X <= 18
;Trigger3 = stateno = 400 && AnimElem = 3, >= 1 && MoveGuarded
Trigger3 = stateno = 215 && AnimElem = 3, >= 1 && MoveGuarded;&& P2BodyDist X <= 18
Trigger4 = stateno = 210 && AnimElem = 5, >= 1 && MoveGuarded;&& P2BodyDist X <= 18
Trigger5 = stateno = 210 && AnimElem = 5, >= 1 && Movehit && P2BodyDist X < 30

[State -3, Crouching Light Punch]
type = ChangeState
value = 305
triggerall = var(59)
triggerall = statetype != A
trigger1 = (p2bodydist x = [1,250]) && Random <= var(59)*40
trigger1 = stateno = 300 && animelemtime(5) > 1 && animelemtime(7) < 0

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 400,1350,1250)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = Random <= var(59)*80
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 300 && AnimElem = 5, >= 1 && Movehit
Trigger2 = stateno = 305 && AnimElem = 4, >= 1 && Movehit
Trigger3 = stateno = 210 && AnimElem = 5, >= 1 && Movehit
;Trigger2 = stateno = 215 && AnimElem = 3, >= 1 && Movehit;&& P2BodyDist X <= 18

[State -3, Crouching Light Punch]
type = ChangeState
value = 1250
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1410  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && Movehit
trigger2 = stateno = 1460  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1200
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1410  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && MoveGuarded
trigger2 = stateno = 1460  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && MoveGuarded

[State -3, Crouching Light Punch]
type = ChangeState
value = 1210
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1200 && AnimElemtime(7) > 1 && AnimElemtime(8) < 2 && MoveGuarded
trigger2 = stateno = 1200 && AnimElemtime(5) > 1 && AnimElemtime(8) < 2 && Movehit




[State -3, Crouching Light Punch]
type = ChangeState
value = 1260
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,260]) && Random <= var(59)*100
Trigger1 = stateno = 1250 && AnimElemtime(6) > 5 && AnimElemtime(8) < 2

[State -3, Crouching Light Punch]
type = ChangeState
value = 2000
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*30
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger1 = fvar(22)>=100

[State -3, Crouching Light Punch]
type = ChangeState
value = 2600
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*30
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 18
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger1 = fvar(22)>=100


[State -3, Crouching Light Punch]
type = ChangeState
value = 1270
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,270]) && Random <= var(59)*100
Trigger1 = stateno = 1260 && AnimElemtime(4) > 1 && AnimElemtime(7) < 2



[State -3, Crouching Light Punch]
type = ChangeState
value = 3400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 2000
Triggerall = P2StateType != L
Triggerall = !InGuardDist
;Triggerall = p2bodydist x = [1,270]
Trigger1 = stateno = 1260 && AnimElemtime(5) > 1 && AnimElemtime(7) < 2 && Random <= var(59)*30
trigger1 = fvar(22)>=100
trigger2 = stateno = 2040 && Movehit && AnimElemtime(8) <= 2
trigger2 = fvar(22)>=100
trigger3 = stateno = 2010 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 &&  Movehit &&  random < 250
trigger3 = fvar(22)>=100
trigger4 = stateno = 2060 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Movehit &&  random < 250
trigger4 = fvar(22)>=100

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(var(1)=1,3000,3100)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 2000
Triggerall = P2StateType != L
Triggerall = !InGuardDist
;Triggerall = p2bodydist x = [1,270]
Trigger1 = stateno = 1260 && AnimElemtime(5) > 1 && AnimElemtime(7) < 2 && Random <= var(59)*30
trigger1 = fvar(22)>=100
trigger2 = stateno = 2010 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 &&  Movehit &&  random < 250
trigger2 = fvar(22)>=100
trigger3 = stateno = 2060 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Movehit &&  random < 250
trigger3 = fvar(22)>=100


[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(var(1)=1,2700,2750)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
trigger1 = stateno = 2010 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Random <= var(59)*85
trigger2 = stateno = 2060 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Random <= var(59)*85



[State -3, Crouching Light Punch]
type = ChangeState
value = 1400
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,270]) && Random <= var(59)*30
Trigger1 = stateno = 300 && MoveGuarded
Trigger2 = stateno = 305 && MoveGuarded
Trigger3 = stateno = 210 && MoveGuarded


[State -3, Crouching Light Punch]
type = ChangeState
value = 1000
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = numprojID(1000) = 0
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,270]) && Random <= var(59)*40
Trigger1 = stateno = 300 && MoveGuarded
Trigger2 = stateno = 305 && MoveGuarded
Trigger3 = stateno = 210 && MoveGuarded


[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(var(1)=1,2200,2400)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*20
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 ;&& movehit
trigger1 = fvar(22)>=100
;trigger2 = stateno = 1810 && Movehit
;trigger2 = fvar(22)>=100




[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 400,2000,ifelse(var(1)=1,ifelse(life<=lifemax*0.3&&power>=3000,3600,2500),2300))
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*100
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger1 = fvar(22)>=100
trigger2 = stateno = 1310 && Movehit
trigger2 = fvar(22)>=100

[State -1, Walk]
type = ChangeState
value = 21
triggerall = fvar(20)=0
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || stateno = 19
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 5*var(59)
trigger2 = enemynear,movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*var(59)
trigger3 = enemynear,movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 10*var(59)
trigger4 = enemynear,statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 10*var(59)
trigger5 = enemynear,movetype = H
trigger5 = enemynear,statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 = enemynear,BackEdgeBodyDist <= 0 || enemynear,FrontEdgeBodyDist <= 0
trigger5 = random <= 8*var(59)
[State -1, Walk]
type = ChangeState
value = 22
triggerall = fvar(20)=0
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || stateno = 21
triggerall = stateno != [10,12]
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 7*(var(59))
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*(var(59))
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 8*(var(59))
trigger3 = enemynear,stateno != [5000,5210]
trigger4 = enemynear,StateNo= [120,155]
trigger4 = random <= 10*(var(59))
trigger4 = P2BodyDist X <= 60
trigger5 = enemynear,statetype != A
trigger5 = enemynear,statetype = L
trigger5 = P2BodyDist X = [40,120]
trigger5 = random <= 100*(var(59))
trigger6 = enemynear,statetype != L
trigger6 = enemynear,movetype = H
trigger6 = enemynear,stateno = [5000,5029]
trigger6 = random <= 100*var(59)

[State -3, LC]
type = ChangeState
value = 1050
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = numprojID(1000) = 0
triggerall = statetype != A
Triggerall = P2BodyDist Y >= -60
Triggerall = P2BodyDist X >= 160
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2StateType != A
Triggerall = P2moveType != H
Triggerall = P2MoveType = I
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = EnemyNear(floor(fvar(37))),Vel X <= 0
Trigger1 = Random <= var(59)*25

[State -3, LK]
type = ChangeState
value = 1000
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = numprojID(1000) = 0
triggerall = statetype != A
triggerall = P2BodyDist Y >= 0
Triggerall = P2BodyDist X >= 160
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2StateType != A
Triggerall = P2moveType != H
Triggerall = P2MoveType = I
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = EnemyNear(floor(fvar(37))),Vel X <= 0
Trigger1 = Random <= var(59)*25



[State -3, SKr]
type = ChangeState
value = ifelse(Random <= 400,42,1150)
triggerall = fvar(20)=0
trigger1 = var(59)
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = p2bodydist x <= 50
triggerall = random <= 150
trigger1 = p2statetype = A
trigger1 = p2movetype != H
trigger1 = statetype != A
trigger1 = ctrl = 1



[State -3, SKr]
type = ChangeState
value = ifelse(Random <= 400,2000,ifelse(var(1)=1,2500,2300))
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2bodydist X = [10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),65+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*20

[State -3, AKE]
type = ChangeState
value = 1100
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2bodydist X = [-10+floor(9*(EnemyNear(floor(fvar(37))),vel X)),30+floor(9*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-81-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*20

[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-5+floor(5*(EnemyNear(floor(fvar(37))),vel X)),15+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20

[State -3, Crouching Strong Kick]
type = ChangeState
value = 41
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-5+floor(9*(EnemyNear(floor(fvar(37))),vel X)),40+floor(9*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(5+1)/2)*fvar(40))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*15

[State -3, Stand Strong Punch]
type = ChangeState
value = 215;ifelse(Random <= 400,205,215)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X = [-21,21]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-21+floor(6*(EnemyNear(floor(fvar(37))),vel X)),21+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-30+floor(5*(EnemyNear(floor(fvar(37))),vel X)),30+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-10-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)),0-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Stand Light Punch]
type = ChangeState
value = 41
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-34+floor(3*(EnemyNear(floor(fvar(37))),vel X)),34+floor(3*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Standing Strong Kick]
type = ChangeState
value = 400
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = p2bodydist X > 24
triggerall = P2BodyDist X = [24,40]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [24+floor(12*(EnemyNear(floor(fvar(37))),vel X)),40+floor(12*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-41-floor(12*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*10

[State -3, Stand Light Kick]
type = ChangeState
value = 400
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(37))),vel X)),60+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)),0-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30


[State -3, UKEMI]
type = ChangeState
value = 5201
triggerall = var(59)
triggerall = alive = 1
Triggerall = Random <= var(59)*20
Triggerall = fvar(22)>=100
trigger1 = stateno = 5050
trigger1 = pos y > -30
trigger1 = vel y > 0 && vel y < 9

[State -3, Jump Strong Punch]
type = ChangeState
value = 760
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X = 0
triggerall = P2BodyDist X = [-15+floor(9*(EnemyNear(floor(fvar(37))),vel X)+floor(9*vel X)),24+floor(9*(EnemyNear(floor(fvar(37))),vel X)+floor(9*vel X))]
triggerall = P2BodyDist Y = [-50-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)-floor(9*vel Y)-(9*(9+1)/2)*0.54),11-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)-floor(9*vel Y)-(9*(9+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Punch]
type = ChangeState
value = ifelse(Random <= 420,760,640)
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State Change]
type = ChangeState
value = 2900
triggerall = var(1)=0
triggerall = fvar(20)=0
triggerall = var(59)
triggerall = life>=lifemax*0.5
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = vel X != 0
triggerall = P2statetype = L
triggerall = p2bodydist X < 20
triggerall = P2statetype = L
trigger1 = ctrl


;xiii八神AI===================================

[State -1, ]
type = ChangeState
value = ifelse(Random <= 400,800,1550)
triggerall = fvar(30)=1
triggerall = var(59) >= 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = (ctrl || stateno=19 || stateno=21)
triggerall = stateno!=[99,100]
triggerall = EnemyNear(var(58)),stateno != 5120
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType != H
triggerall = EnemyNear(var(58)),statetype != A
triggerall = p2bodydist x = [-3,7]
Trigger1 = Random <= var(59)*100
Trigger2 = p2StateNo=[120,159]

[State -3, MAX S]
type = ChangeState
value = 3200
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = Power >= 2000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, MAX S]
type = ChangeState
value = 2000
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = Power >= 1000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2BodyDist X = [-10,15]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -5
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -6
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(30)=1
triggerall = var(59)
Triggerall = RoundState = 2
TriggerAll = StateType != A
;TriggerAll = life < 444
triggerall = P2MoveType = A
triggerall = P2StateType != L
TriggerAll = P2BodyDist X = [-10,110]
TriggerAll = P2BodyDist Y >= -60
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !EnemyNear(floor(fvar(37))),HitDefAttr = SCA,NT,ST,HT
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -30
TriggerAll = Random<= var(59)*4
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])
[State -3, LW]
type = ChangeState
value = 710
triggerall = fvar(30)=1
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [111,160]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = NumProj = 0
Triggerall = Random < var(59)*100
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3]
Type = ChangeState
Value = 120
triggerall = fvar(30)=1
TriggerAll = var(59)
TriggerAll = StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = Random<=var(59)*100
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(37))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = P2movetype = A
Trigger5 = Var(28)
[State -3, Throw]
type = ChangeState
value = 750
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -13
triggerall = BackEdgeBodyDist <= 15
triggerall = P2BodyDist X = [-5,60]
triggerall = P2BodyDist Y >= 45
Trigger1 = Random <= var(59)*100
[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -30
triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
triggerall = BackEdgeBodyDist <= 16
triggerall = P2BodyDist X = [0,120]
Trigger1 = Random <= var(59)*100
[State -3, Dash]
Type = ChangeState
Value = 100
Ctrl = 0
triggerall = fvar(30)=1
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
Triggerall = P2BodyDist X = [15,200]
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3,]
Type = ChangeState
value = 41
triggerall = fvar(30)=1
TriggerAll = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-10,30]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

[State -3,]
Type = ChangeState
value = 105
triggerall = fvar(30)=1
TriggerAll = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-10,30]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100



[State -3, LK]
type = ChangeState
value = 1550
triggerall = fvar(30)=1
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X > 160
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -19
;361



[State -3, S]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = fvar(36) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-150-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100


[State -3, S]
type = ChangeState
value = 1700
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2BodyDist Y = [-95-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, S]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2BodyDist Y = [-95-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,430,205)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-5,15]
triggerall = fVAR(47) = 0
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2statetype != A
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400, 205, ifelse(Random <= 400, 245, 215))
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X = [-10,25]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
[State -3, Stand Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-5,34]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = P2StateType != C
Trigger1 = Random <= var(59)*100;362



[State -3, Dash]
type = ChangeState
value = 100
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 25
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100



;lxj
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 410
Trigger1 = stateno = 430 && Movehit


[State -3, Crouching Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
triggerall = P2BodyDist X < 40
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 400 && Movehit &&  power < 1000 && Random <= 999
Trigger2 = stateno = 215 && Movehit &&  power < 1000 &&Random <= 999
Trigger3 = stateno = 205 && Movehit &&Random <= 999
Trigger4 = stateno = 400 && MoveGuarded &&Random <= 60
Trigger5 = stateno = 215 && MoveGuarded &&Random <= 60
Trigger6 = stateno = 205 && MoveGuarded &&Random <= 60
Trigger7 = stateno = 410 && MoveGuarded &&Random <= 60
Trigger8 = stateno = 410 && Movehit &&  power < 1000 && Random <= 999

[State -3, AKZ]
type = ChangeState
triggerall = fvar(30)=1
value = ifelse(Random <= 400, 1700, ifelse(Random <= 500, 1650, 1800))
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2BodyDist X = [-10,45]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 300
Trigger1 = stateno = 215 && MoveGuarded
Trigger2 = stateno = 300 && MoveGuarded
Trigger3 = stateno = 410 && MoveGuarded

[State -3, Crouching Light Punch]
type = ChangeState
value = 1850
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 240
Trigger1 = stateno = 300 && Movehit
Trigger2 = stateno = 215 && Movehit
Trigger3 = stateno = 410 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1700
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 180
Trigger1 = stateno = 215 && Movehit
Trigger2 = stateno = 410 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = P2BodyDist X < 25
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 500
Trigger1 = stateno = 215 && Movehit
Trigger2 = stateno = 300 && Movehit
Trigger3 = stateno = 410 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 3200
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power > 2000
Triggerall = P2StateType != A
Triggerall = fVAR(47) = 0
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 500
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power > 1000
Triggerall = fVAR(47) = 0
Triggerall = P2StateType = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1750 && AnimElem = 5, >= 2 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power > 1000
Triggerall = fVAR(47) = 0
Triggerall = P2StateType != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit

[State -3, FWalk]
type = ChangeState
value = 320
triggerall = fvar(30)=1
TriggerAll = var(59)
triggerall = statetype = A && vel x != 0
triggerall = p2statetype != A
triggerall = p2bodydist x < 0
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
trigger1 = vel y > .1 ;|| p2bodydist Y <= 35
trigger1 = ctrl

[State -3, Crouching Light Punch]
type = ChangeState
value = 320
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 105 && Pos Y < 0

[state -1,100]
type = ChangeState
value = 100
triggerall = fvar(30)=1
TriggerAll = var(59) >= 1
triggerall = Roundstate = 2
triggerall = statetype != A
triggerall = statetype = S
triggerall = (ctrl || stateno=19 || stateno=21) && (stateno != [99,100]) && (stateno != 10) && (stateno != 12) && (stateno!=[105,106])
trigger1 = !inguarddist
trigger1 = Random<=var(59)*25
trigger1 = EnemyNear(var(58)),MoveType != A
trigger1 = p2bodydist X >= 120
;trigger1 = numprojID(1001)=1

[State -1, Walk]
type = ChangeState
value = ifelse(random<400,100,22)
triggerall = fvar(30)=1
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || stateno = 19
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 5*var(59)
trigger2 = enemynear,movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*var(59)
trigger3 = enemynear,movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 10*var(59)
trigger4 = enemynear,statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 10*var(59)
trigger5 = enemynear,movetype = H
trigger5 = enemynear,statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 = enemynear,BackEdgeBodyDist <= 0 || enemynear,FrontEdgeBodyDist <= 0
trigger5 = random <= 8*var(59)

[State -1, Walk]
type = ChangeState
value = ifelse(random<400,105,21)
triggerall = fvar(30)=1
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || stateno = 21
triggerall = stateno != [10,12]
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 7*(var(59))
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*(var(59))
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 8*(var(59))
trigger3 = enemynear,stateno != [5000,5210]
trigger4 = enemynear,StateNo= [120,155]
trigger4 = random <= 10*(var(59))
trigger4 = P2BodyDist X <= 60
trigger5 = enemynear,statetype != A
trigger5 = enemynear,statetype = L
trigger5 = P2BodyDist X = [40,120]
trigger5 = random <= 100*(var(59))
trigger6 = enemynear,statetype != L
trigger6 = enemynear,movetype = H
trigger6 = enemynear,stateno = [5000,5029]
trigger6 = random <= 100*var(59)



[State -3, SKr]
type = ChangeState
value = ifelse(Random <= 400,43,44)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [20,100];[-10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),65+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2MoveType != A
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*50

[State -3, AKE]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2bodydist X = [-10+floor(9*(EnemyNear(floor(fvar(37))),vel X)),30+floor(9*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-81-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*50


[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-5+floor(5*(EnemyNear(floor(fvar(37))),vel X)),15+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,245,215)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X = [-21,21]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-21+floor(6*(EnemyNear(floor(fvar(37))),vel X)),21+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-30+floor(5*(EnemyNear(floor(fvar(37))),vel X)),30+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-10-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)),0-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Stand Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-34+floor(3*(EnemyNear(floor(fvar(37))),vel X)),34+floor(3*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Standing Strong Kick]
type = ChangeState
value = 200
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = p2bodydist X > 24
triggerall = P2BodyDist X = [24,40]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [24+floor(12*(EnemyNear(floor(fvar(37))),vel X)),40+floor(12*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-41-floor(12*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*10

[State -3, Stand Light Kick]
type = ChangeState
value = ifelse(Random <= 400,400,230)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(37))),vel X)),60+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)),0-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30



[State -3, Jump Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,640,650)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
;triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Kick]
type = ChangeState
value = ifelse(Random <= 400,600,610)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = P2statetype != A
triggerall = ctrl
triggerall = P2BodyDist X = [-15+floor(7*(EnemyNear(floor(fvar(37))),vel X)+floor(7*vel X)),54+floor(7*(EnemyNear(floor(fvar(37))),vel X)+floor(7*vel X))]
triggerall = P2BodyDist Y = [-22-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)-floor(7*vel Y)-(7*(7+1)/2)*0.54),59-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)-floor(7*vel Y)-(7*(7+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)


[State -3, Jump Strong Punch]
type = ChangeState
value = 650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

