;---------------------------------------------------------------------------
; KEZXe[g
;---------------------------------------------------------------------------
[Statedef 2000]
type     = S
movetype = A
physics  = S
juggle   = 11
velset   = 0,0
anim     = 2000+var(55)*30000
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2000]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = P1
pos = 0,-100
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = P1
pos = 0,-100
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2000, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 35
time = 35

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,35]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,14

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 8,>=0
x = 9

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 2,2
sparkno = 2
sparkxy = -30,-40
hitsound = s0,21
guardsound = 6,2
guard.sparkno = 42
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2510+var(55)*29501
p2stateno = 2020

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
[Statedef 2050]
type     = S
movetype = A
physics  = S
juggle   = 11
velset   = 0,0
anim     = 2050+var(55)*30000
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2050]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = P1
pos = 0,-100
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2050]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = P1
pos = 0,-100
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2050, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 36
time = 36

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,36]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,14

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 8,>=0
x = 9

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 2,2
sparkno = 2
sparkxy = -30,-40
hitsound = s0,31
guardsound = 6,2
guard.sparkno = 42
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2515+var(55)*29496
p2stateno = 2020

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
[Statedef 2005]
type     = S
movetype = I
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2005+var(55)*30000
ctrl     = 0
sprpriority = 2

[State 3000, u]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) <= 0
x = 4

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2020+var(55)*30000

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2030]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2030+var(55)*30000

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2510]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2510
ctrl     = 0
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 12
value = s7,15

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 34
value = s7,16

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 48
value = s7,17

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 52
value = s7,18

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = F800,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 30,0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -15,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -25,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -20,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = 5
sparkxy = -25,-55
hitsound = s0,14
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = 5
sparkxy = -25,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = 2
sparkxy = -25,-65
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = 5
sparkxy = -25,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 52
attr = S, HA
getpower = 0
damage = 100,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 10,7
sparkno = -1
sparkxy = -20,-60
hitsound = s18,4
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 47
persistent = 0
anim = F9
postype = P1
pos = 25,-73
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 52
persistent = 0
anim = F11
postype = P1
pos = 40,-70
sprpriority = 10
supermove = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 52
time = 2
value = 255,255,255
under = 1

[State 0, VarSet]
type = VarSet
trigger1 = AnimElemtime(48) <= 1
var(11) = 0

[State 0, VarSet]
type = VarSet
trigger1 = command = "豺华"
trigger1 = AnimElemtime(48) > 1
var(11) = 20000
persistent = 0

[State 0, 鬼爪-落]
type = ChangeState
triggerall = Animelemtime(53) >= 0
trigger1 = var(11) = 20000
trigger2 = var(59)
value = 20000

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2515]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2510
ctrl     = 0
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 8
value = s7,24

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 26
value = s7,25

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 41
value = s7,26

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 47
value = F800,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(46) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(47) >= 0 && AnimElemtime(52) <= 0
pos = 30,0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -15,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -25,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 25,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -20,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 20
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = 5
sparkxy = -25,-55
hitsound = s0,14
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 28
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = 5
sparkxy = -25,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno = 2
sparkxy = -25,-65
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 41
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,12
sparkno =5
sparkxy = -25,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 52
attr = S, HA
getpower = 0
damage = 100,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 10,7
sparkno = -1
sparkxy = -20,-60
hitsound = s18,4
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 47
persistent = 0
anim = F9
postype = P1
pos = 25,-73
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 52
persistent = 0
anim = F11
postype = P1
pos = 40,-70
sprpriority = 10
supermove = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 52
time = 2
value = 255,255,255
under = 0

[State 0, VarSet]
type = VarSet
trigger1 = AnimElemtime(48) <= 1
var(11) = 0

[State 0, VarSet]
type = VarSet
trigger1 = command = "豺华"
trigger1 = AnimElemtime(48) > 1
var(11) = 20002
persistent = 0

[State 0, 鬼爪-落]
type = ChangeState
triggerall = Animelemtime(53) >= 0
trigger1 = var(11) = 20002
trigger2 = var(59)
value = 20002

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
[Statedef 32011]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 32011
ctrl = 0
sprpriority = 1

[state nothitby]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 00]
type = PlaySnd
trigger1 = animelem = 13
value = 2000,1

[State 00]
type = PlaySnd
trigger1 = animelem = 48
value = 2000,2

[State 01]
type = PlaySnd
trigger1 = animelem = 49
value = f4,2

[State 01]
type = PlaySnd
trigger1 = animelem = 49
value = 2000,4

[State explod]
type = Explod
trigger1 = animelemtime(48) = 2
anim = 7005
id = 2000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod]
type = Explod
trigger1 = animelemtime(48) = 2
anim = 7006
id = 2000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State a];
type = Width
trigger1 = 1
edge = 80,0

[State 2]
type = HitDef
trigger1 = animelem = 3
attr = S, HA
animtype  = hard
damage    = 20,0
getpower = 0,0
guardflag = N
pausetime = 6,7
sparkno = 2
sparkxy = -10,-71
hitsound   = 5,1
guard.sparkno = 42
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
guard.velocity = -10
air.velocity = -1,-3
fall = 0
fall.recover = 0
kill = 0
p2facing = 1
p2stateno = 12020
envshake.time = 7

[State 2]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
animtype  = hard
damage    = 22,0
getpower = 0,0
guardflag = N
pausetime = 6,7
sparkno = 2
sparkxy = -10,-71
hitsound   = 5,1
guard.sparkno = 42
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
guard.velocity = -10
air.velocity = -1,-3
fall = 0
fall.recover = 0
kill = 0
p2facing = 1
p2stateno = 12021
envshake.time = 7

[State 2]
type = HitDef
trigger1 = animelem = 12
attr = S, HA
animtype  = hard
damage    = 22,0
getpower = 0,0
guardflag = N
pausetime = 6,7
sparkno = 5
sparkxy = -10,-71
hitsound   = 4,2
guard.sparkno = 42
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
guard.velocity = -10
air.velocity = -1,-3
fall = 0
fall.recover = 0
kill = 0
p2facing = 1
p2stateno = 12020
envshake.time = 7

[State 2]
type = HitDef
trigger1 = animelem = 21
attr = S, HA
animtype  = hard
damage    = 22,0
getpower = 0,0
guardflag = N
pausetime = 6,7
sparkno = 5
sparkxy = -10,-71
hitsound   = 4,2
guard.sparkno = 42
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
guard.velocity = -10
air.velocity = -1,-3
fall = 0
fall.recover = 0
kill = 0
p2facing = 1
p2stateno = 12021
envshake.time = 7

[State 2]
type = HitDef
trigger1 = animelem = 27
attr = S, HA
animtype  = hard
damage    = 22,0
getpower = 0,0
guardflag = N
pausetime = 6,7
sparkno = 5
sparkxy = -10,-71
hitsound   = 4,2
guard.sparkno = 42
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
guard.velocity = -10
air.velocity = -1,-3
fall = 0
fall.recover = 0
kill = 0
p2facing = 1
p2stateno = 12021
envshake.time = 7

[State 2]
type = HitDef
trigger1 = animelem = 31
attr = S, HA
animtype  = hard
damage    = 22,0
getpower = 0,0
guardflag = N
pausetime = 6,7
sparkno = 2
sparkxy = -10,-71
hitsound   = 5,1
guard.sparkno = 42
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
guard.velocity = -10
air.velocity = -1,-3
fall = 0
fall.recover = 0
kill = 0
p2facing = 1
p2stateno = 12020
envshake.time = 7

[State 2]
type = HitDef
trigger1 = animelem = 39
attr = S, HA
animtype  = hard
damage    = 22,0
getpower = 0,0
guardflag = N
pausetime = 6,7
sparkno = 5
sparkxy = -10,-71
hitsound   = 4,2
guard.sparkno = 42
guardsound = 6,2
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
guard.velocity = -10
air.velocity = -1,-3
fall = 0
fall.recover = 0
kill = 0
p2facing = 1
p2stateno = 12021
envshake.time = 7

[State a,闪白]
type = EnvColor
trigger1 = time <53
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1

[state a]
type = targetbind
trigger1 = animelem = 43,<0
pos = 69,0

[state targetstate]
type = targetstate
trigger1 = time = 0
value = 12020

[state targetstate]
type = targetstate
trigger1 = animelem = 43
value = 12022

[state a];4
type = targetbind
trigger1 = animelem = 43
pos = 70/2,0

[state a];4
type = targetbind
trigger1 = animelem = 44
pos = 76/2,0

[state a];5
type = targetbind
trigger1 = animelem = 45
pos = 70/2,0

[state a];8
type = targetbind
trigger1 = animelem = 46
pos = 48/2,-215/2

[state a];10
type = targetbind
trigger1 = animelem = 47
pos = 16/2,-270/2

[state a];7
type = targetbind
trigger1 = animelem = 48
pos = 8/2,-260/2

[state a];12
type = targetbind
trigger1 = animelem = 49
pos = 14/2,-60/2

[state a]
type = targetlifeadd
trigger1 = animelem = 49
value = -130

[State a]
type = EnvShake
trigger1 = AnimElem=49
ampl = 8
freq = 100
time = 20

[state a]
type = ctrlset
trigger1 = animelem = 56
value = 1

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)
[Statedef 12020]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 12020+var(55)*30000

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State a] 
type = selfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)
[Statedef 12021]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 12021+var(55)*30000

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State a] 
type = selfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)
[Statedef 12022]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 12022+var(55)*30000

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State a] 
type = changeState
trigger1 = animtime = 0
value = 12023

;---------------------------------------------------------------------------
;(ENEMY)
[Statedef 12023]
type    = A
movetype= H
physics = N
velset = -4.5,-8
sprpriority = -2

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050+var(55)*30000

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state veladd]
type = veladd
trigger1 = 1
y = 0.45

[State 821, 3] 
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 2530]
type     = S
movetype = A
physics  = S
juggle   = ifelse((prevstateno=[2510,2515]),0,11)
velset   = 0,0
anim     = 2050
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2530,M SuperPause]
type = SuperPause
trigger1 = time = 0
time = 33
movetime = 33
anim = -1
sound = -1
pos = 0,-72
move = 1
darken = 1
unhittable = 1

[State 2530,M EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 5
under = 1

[State 2530,M EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 31
under = 1

[State 2530, 7]
type = Explod
trigger1 = Time = 0
anim = f7100
scale=0.5,0.5
postype = p1
pos = 10,-100
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 2530, 8]
type = Explod
trigger1 = Time = 0
anim = f7110
scale=0.5,0.5
postype = p1
pos = 10,-100
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 2530, ps]
type = PlaySnd
trigger1 = time = 0
value = f9000,1
channel = -1

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,-1000,-2000)
movetime = 36
time = 36

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,36]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,14

[State 3000, u]
type = VelSet
trigger1 = AnimElem = 8,>=0
x = 9

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 2,2
sparkno = 2
sparkxy = -30,-40
hitsound = s0,21
guardsound = 6,2
guard.sparkno = 42
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2535
p2stateno = 2020

[State 3000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
[Statedef 2535]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2550
ctrl     = 0
sprpriority = 5

[State 810, ]
type = Width
trigger1 = 1
edge = 60,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 8
value = s7,24

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 26
value = s7,25

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 41
value = s7,26

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 68
value = s7,16

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 68
value = F800,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 74
value = s7,17

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 77
value = s13,2

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(69) <= 12
pos = 47,0

[State 810, 1]
type = TargetBind
trigger1 = AnimElemtime(70) >= 0 && AnimElemtime(77) <= 0
pos = 30,0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,6
sparkno = 2
sparkxy = -15,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,6
sparkno = 2
sparkxy = -25,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 13
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,6
sparkno = 2
sparkxy = -25,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,6
sparkno = 5
sparkxy = -20,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 23
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,6
sparkno = 2
sparkxy = -25,-55
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 34
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,8
sparkno = 5
sparkxy = -25,-55
hitsound = s0,14
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 42
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,8
sparkno = 5
sparkxy = -25,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 48
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,8
sparkno = 2
sparkxy = -25,-65
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 54
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,8
sparkno = 2
sparkxy = -25,-65
hitsound = s0,21
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2030
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 62
attr = S, HA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 4,8
sparkno = 5
sparkxy = -25,-65
hitsound = s0,14
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 70
trigger2 = AnimElem = 71
trigger3 = AnimElem = 72
trigger4 = AnimElem = 73
trigger5 = AnimElem = 74
attr = S, HA
getpower = 0
damage = 30,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 10,7
sparkno = -1
sparkxy = -20,-60
hitsound = s18,4
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 2020
kill = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 200, qbg'`]
type = HitDef
trigger1 = AnimElem = 77
attr = S, HA
getpower = 0
damage = 100,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 7,6
sparkno = -1
sparkxy = -20,-60
hitsound = s18,4
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100
palfx.time = 50
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1100, GtFNgo\]
type = Explod
trigger1 = AnimElem = 68
persistent = 0
anim = F9
postype = P1
pos = 25,-73
sprpriority = 10

[State 200, PlaySnd]
type = hitadd
trigger1 = AnimElem = 70
trigger2 = AnimElem = 71
trigger3 = AnimElem = 72
trigger4 = AnimElem = 73
trigger5 = AnimElem = 74
value = 1

[State 1100, GtFNgo\]
type = Explod
trigger1 = AnimElem = 70
persistent = 0
anim = F11
postype = P1
pos = 40,-70
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = 4

[State 1100, GtFNgo\]
type = Explod
trigger1 = AnimElem = 71
persistent = 0
anim = F11
postype = P1
pos = 40,-70
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = 4

[State 1100, GtFNgo\]
type = Explod
trigger1 = AnimElem = 72
persistent = 0
anim = F11
postype = P1
pos = 40,-70
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = 4

[State 1100, GtFNgo\]
type = Explod
trigger1 = AnimElem = 73
persistent = 0
anim = F11
postype = P1
pos = 40,-70
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = 4

[State 1100, GtFNgo\]
type = Explod
trigger1 = AnimElem = 74
persistent = 0
anim = F11
postype = P1
pos = 40,-70
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = 4

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 70
trigger2 = AnimElem = 71
trigger3 = AnimElem = 72
trigger4 = AnimElem = 73
trigger5 = AnimElem = 74
time = 2
value = 255,255,255
under = 1

[State 1100, GtFNgo\]
type = Explod
trigger1 = AnimElem = 77
persistent = 0
anim = F11
postype = P1
pos = 40,-70
sprpriority = 10
supermove = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 77
time = 2
value = 255,255,255
under = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
[Statedef 20000]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 20000
ctrl     = 0
sprpriority = 10
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
[State 20000]
type = Explod
trigger1 = time = 0
anim = f7000
postype = p1
scale = .5,.5
pos = 0,-95
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 20000]
type = Explod
trigger1 = time = 0
anim = f7010
postype = p1
scale = .5,.5
pos = 0,-95
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f993
scale=0.5,0.5
id = 993
postype = p1
pos= 10,0
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=0
anim = f994
scale=0.5,0.5
id = 994
postype = p1
pos= 10,0
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 20000, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = -1000
movetime = 32
time = 32

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000]
type = AssertSpecial
trigger1 = Anim = 20000
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,19

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,5

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
getpower = 0
damage = 20, 0
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 1, 40
sparkno = 5
sparkxy = 0, -95
hitsound = s0,14
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2
air.type = High
air.velocity = -2,-5
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
p2stateno = 20020
kill = 0

[State 1000, Xe[gX]
type = ChangeState
triggerall = Movehit
trigger1 = AnimElem = 9
value = 20001

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 20001]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 20001
ctrl     = 0
sprpriority = 3

[State 2000]
type = AssertSpecial
trigger1 = Anim = 20001+var(55)*5000
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5,5

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 31
value = s18,2

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 32
value = s5,3

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s7,20

[State 810,]
type = EnvShake
trigger1 = AnimElem = 31
ampl = 10
freq = 120
time = 25

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
attr = S, HA
getpower = 0
damage = 20, 0
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 5, 3
sparkno = 5
sparkxy = 0,-100
hitsound = s0,14
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
air.type = High
air.velocity = -4,-4
air.hittime = 20
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
p2stateno = 20021
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
getpower = 0
damage = 40, 0
animtype = diagup
hitflag = MAF
priority = 5, Hit
pausetime = 2, 15
sparkno = 5
sparkxy = 0, -100
hitsound = s0,14
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5
air.type = High
air.velocity = 0,-8
air.hittime = 20
air.cornerpush.veloff = 0
yaccel = .25
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 15
envshake.ampl = 12
envshake.freq = 90
p2stateno = 20022
kill = 0

[State 3000]
type = Projectile
trigger1 = AnimElem = 31
projID = 2300
projanim = 2310
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 36
getpower = 0
ownpal = 0
offset = 53,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 100,10
hitflag = MAF
hitsound = s9,10
pausetime = 0,8
sparkno = 2
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
palfx.time = 70
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 20002]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 20002
ctrl     = 0
sprpriority = 10
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = -1000
movetime = 30
time = 30

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 20002]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 20002]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 20002, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 2000]
type = AssertSpecial
trigger1 = Anim = 20002+var(55)*5000
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,19

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,5

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 25, 0
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 1, 40
sparkno = 5
sparkxy = 0, -95
hitsound = s0,14
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2
air.type = High
air.velocity = -2,-5
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
p2stateno = 20020
kill = 0

[State 1000, Xe[gX]
type = ChangeState
triggerall = Movehit
trigger1 = AnimElem = 9
value = 20003

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
[Statedef 20003]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 20003
ctrl     = 0
sprpriority = 3

[State 2000]
type = AssertSpecial
trigger1 = Anim = 20003
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s5,5

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 29
value = s18,2

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 30
value = s5,3

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 13
value = s7,20

[State 810,]
type = EnvShake
trigger1 = AnimElem = 29
ampl = 10
freq = 120
time = 25

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
attr = S, HA
getpower = 0
damage = 25, 0
animtype = Hard
hitflag = MAF
priority = 5, Hit
pausetime = 5, 3
sparkno = 5
sparkxy = 0,-120
hitsound = s0,14
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
air.type = High
air.velocity = -4,-4
air.hittime = 20
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
p2stateno = 20021
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
getpower = 0
damage = 45, 0
animtype = diagup
hitflag = MAF
priority = 5, Hit
pausetime = 2, 15
sparkno = 5
sparkxy = 0, -100
hitsound = s0,14
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5
air.type = High
air.velocity = 0,-8
air.hittime = 20
air.cornerpush.veloff = 0
yaccel = .25
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 15
envshake.ampl = 12
envshake.freq = 90
p2stateno = 20022
kill = 0

[State 3000]
type = Projectile
trigger1 = AnimElem = 29
projID = 2300
projanim = 2310
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 36
getpower = 0
ownpal = 0
offset = 53,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 100,10
hitflag = MAF
hitsound = s9,10
pausetime = 0,8
sparkno = 2
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
palfx.time = 70
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 20020]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 2
x = -2
y = -5

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 20020+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 20021]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 2
x = -4
y = -4

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .4

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 20021+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 20022]
type    = A
movetype= H
physics = S
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = Veladd
trigger1 = time = 0
x = 0
y = 0

[State 52, 1]
type = VelSet
trigger1 = time = 15
x = 0
y = -7.8

[State 52, 1]
type = Veladd
trigger1 = time >= 15
y = .24

[State 1830]
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = SelfAnimExist(5052+var(55)*30000)
value = 5052+var(55)*30000

[State 1830]
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = !SelfAnimExist(5052+var(55)*30000)
value = 5050+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;----------------------------------------------------------------------------------
[Statedef 2300]
type     = S
movetype = A
physics  = S
poweradd = ifelse(fvar(30) > 0,0,-1000)
velset   = 0,0
anim     = 1900
ctrl     = 0
sprpriority = 3
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
poweradd = ifelse(fvar(30) > 0,0,-1000)
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 2300]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2300]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2300, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 1000, Explod]
type = Explod
trigger1 = animelem = 4
anim = 900
pos = 60,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 5
removeongethit = 1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 14
anim = 910
pos = 60,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 5
removeongethit = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S20,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = animelem = 12
value = S18,10

[State 1505, 5]
type = Projectile
trigger1 = AnimElem = 4
attr = S, SP
projanim = 2311
projhitanim = 2311
projID = 2310
projshadow = 0,0,0
projremovetime = 21
projmiSStime = 1
projhits = 1
offset = 24,0
velocity = 0
hitflag = MFA
damage = 60,6
getpower  = 0
animtype = Hard
guardflag = M
pausetime = 2,12
sparkno = -1
guard.sparkno = -1
sparkxy = 40,-50
hitsound =  s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
ID = 2002
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1505, 5]
type = Projectile
trigger1 = AnimElem = 14
attr = S, SP
projanim = 2316
projhitanim = 2316
projID = 2320
projshadow = 0,0,0
projremovetime = 27
projmiSStime = 1
projhits = 1
offset = 30,-3
velocity = 0
hitflag = MFA
damage = 60,6
getpower  = 0
animtype = Hard
guardflag = M
pausetime = 2,12
sparkno = 2
guard.sparkno = -1
sparkxy = 20,-50
hitsound =  0,0
guardsound = 6,1
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = -13
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p1stateno = 2310
p2stateno = 2370
ID = 2320
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 2100, 3]
type = Explod
triggerall = p2movetype = H
trigger1 = ProjHit = 1
anim = f2
pos = 15,-60
postype = p2
sprpriority = 10
supermove = 1
bindtime = 1
facing = -1
ownpal = 1

[State 2100, 3]
type = Explod
trigger1 = Projguarded = 1
anim = f42
pos = 15,-60
postype = p2
sprpriority = 10
supermove = 1
bindtime = 1
facing = -1
ownpal = 1

[State 2000, 15]
type = EnvColor
triggerall = p2movetype = H
trigger1 = projHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 2355, 10]
type = AssertSpecial
triggerall = p2movetype = H
trigger1 = ProjHit = 1, 0
flag = NoFG
ignorehitpause = 1

[State 2000, 15]
type = EnvColor
triggerall = p2movetype = H
trigger1 = AnimElem = 10,>0 && projHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 941, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2310]
type     = S
movetype = A
physics  = S
juggle   = 3
poweradd = 0
velset   = 0,0
anim     = 2300
ctrl     = 0
sprpriority = 3

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 36

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1750
trigger2 = prevstateno = 1810
trigger3 = prevstateno = 1260
time = 5
add = 230,230,230

[State 2000]
type = AssertSpecial
trigger1 = Anim = 2300
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 4
value = s10,0

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = s7,18

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 13
value = s18,2

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 13
value = s5,3

[State 810,]
type = EnvShake
trigger1 = AnimElem = 13
ampl = 10
freq = 120
time = 25

[State 3000]
type = Projectile
trigger1 = AnimElem = 13
projID = 2300
projanim = 2310
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 36
getpower = 0
ownpal = 0
offset = 53,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 200,14
hitflag = MAF
guardflag = M
hitsound = s9,10
guardsound = 6,2
pausetime = 0,6
sparkno = 2
guard.sparkno = 42
sparkxy = 40,-100
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -2.4,-10
air.juggle = 8
air.velocity = -2.4,-10
fall = 1
fall.recover = 0
palfx.time = 70
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
p2stateno = 2320
p2facing = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2320]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -2.4
y = -14

[State 52, 2]
type = Veladd
trigger1 = time >= 2
y = .5

[State 810,]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2320+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;---------------------------------------------------------------------------
[Statedef 2360]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1280, 1]
type = posSet
trigger1 = Time = 0
y = 0

[State 9000, 8];
type = ChangeState
trigger1 = Pos Y != 0
value = 2361

[State 9000, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000+var(55)*30000,5010+var(55)*30000) + GetHitVar(animtype) 

[State 9000, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+var(55)*30000

[State 9000, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (selfanimexist(5047 +var(55)*30000+ GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype)+var(55)*30000

[State 9000, 5]
type = ChangeAnim
trigger1 = Time > 0
value = anim+var(55)*30000

[State 9000, 6]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 9000, 7]
type = Changestate;SelfState
trigger1 = HitShakeOver
trigger1 = Pos Y = 0
value = 2356

[State 201, 2]
type = ChangeState
trigger1 = life = 0
value = 2361

[State 9000, 8]
type = ChangeState
trigger1 = Pos Y != 0
value = 2361

;-------------------------------------------------------------------------------------
[Statedef 2361]
type = A
movetype = H
physics = N

[State 1500, 2]
type = Posset
trigger1 = Time = 0 && Pos Y >= 1
y = 0

[State 1280, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1280, 2]
type = ChangeAnim
Trigger1 = Time >= 0 && selfanimexist(2360)
value = ifelse((GetHitVar(groundtype)=1),5030+var(55)*30000,ifelse((GetHitVar(airtype)=1),5030+var(55)*30000,1235+var(55)*30000))

[State 1280, 2]
type = ChangeAnim
Trigger1 = Time >= 0 && !selfanimexist(2360)
value = ifelse((GetHitVar(groundtype)=1),5030+var(55)*30000,ifelse((GetHitVar(airtype)=1),5030+var(55)*30000,5012+var(55)*30000))

[State 1280, 3]
type = Changestate;SelfState
trigger1 = HitShakeOver = 1
value = 2362

;-------------------------------------------------------------------------------
[Statedef 2362]
type = A
movetype = H
physics = N
velset = -3.8,-5.6

[State 8145, 2]
type = ChangeAnim
trigger1 = anim = 5030+var(55)*30000 && time = 2
value = 5030 +var(55)*30000

[State 8145, 2]
type = ChangeAnim
trigger1 = anim = 5030+var(55)*30000 && time = 5
value = 5050+var(55)*30000

[State 8145, 2]
type = ChangeAnim
trigger1 = anim = 5012+var(55)*30000&& time = 5
value = 5050+var(55)*30000

[State 0, 0]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=1
x = ifelse(facing=1,6,-6)
y = -6.7

[State 0, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=-1
x = ifelse(facing=1,-6,6)
y = -6.7

[State 1660, 4]
type = VelMul
trigger1 = Time <= 8
x = .97

[State 1281, 1]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1281, 3]
type = Changestate;SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;----------------------------------------------------------------------
[Statedef 2356]
type    = S
movetype= H
physics = N

[State 9001, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 9001, 4]
type = VelMul
trigger1 = Pos Y = 0
trigger1 = Time >= 0
x = .8

[State 9001, 3]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10  +var(55)*30000

[State 9001, 7]
type = Changestate;SelfState
trigger1 = HitOver
value = 0
ctrl = 1

;----------------------------------------------------------------------
[Statedef 2370]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 8[State 0, 0]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=1
x = 0
y = -12

[State 0, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = enemy,facing=-1
x = 0
y = -12

[State 1021, 0]
type = ChangeAnim2
trigger1 = hitshakeover = 0
value = 2370+var(55)*30000

[State 1021, 0]
type = ForceFeedBack
trigger1 = hitshakeover = 0
time = 1
waveform = square

[State 8140, 4]
type = Changestate;SelfState
trigger1 = HitShakeOver = 1
value = 2371

;---------------------------------------------------------------------------
[Statedef 2371]
type = A
movetype= H
physics = N
ctrl = 0

[State 1660, 2]
type = VelMul
trigger1 = Time = [11,18]
y = .4999

[State 1281, 1]
type = VelAdd
trigger1 = Time = [1,11]
y = .4

[State 1281, 1]
type = VelAdd
trigger1 = 1
y = .55

[State 1022, 0]
type = changeanim2
trigger1 = time = 0
value = 2370+var(55)*30000

[State 1022, 2]
type = ChangeAnim
trigger1 = anim = 2370+var(55)*30000
trigger1 = animtime = 0
value = 5030+var(55)*30000

[State 1022, 2]
type = ChangeAnim
trigger1 = anim = 5030+var(55)*30000
trigger1 = animtime = 0
value = 5035+var(55)*30000

[State 1022, 2]
type = ChangeAnim
triggerall = Anim = 5030+var(55)*30000||Anim = 5035+var(55)*30000
trigger1 = AnimTime = 0
value = 5050+var(55)*30000

[State 1022, 2]
type = ChangeAnim
triggerall = Anim = 5050+var(55)*30000
trigger1 = AnimTime = 0
value = 5060+var(55)*30000

[State 1022, 10]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y > 15
value = 5100
;---------------------------------------------------------------------------
[Statedef 2100]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2100
ctrl     = 0
sprpriority = 3
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2100]
type = Explod
trigger1 = time = 0
anim = f7000
postype = p1
scale = .5,.5
pos = 0,-55
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2100]
type = Explod
trigger1 = time = 0
anim = f7010
postype = p1
scale = .5,.5
pos = 0,-55
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2100, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 34
time = 34

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,34]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s2,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,22

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(19) > 0
x = 3

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 19
y = -10

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(19) > 0
y = .7

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 19
statetype = A

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2105

;---------------------------------------------------------------------------
[Statedef 2150]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2100
ctrl     = 0
sprpriority = 3

[State 2150]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = p1
pos = 0,-55
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2150]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = p1
pos = 0,-55
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2150, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 34
time = 34

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,34]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s2,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s7,22

[State 52, 1]
type = VelSet
trigger1 = AnimElemtime(19) > 0
x = 6

[State 52, 1]
type = VelSet
trigger1 = AnimElem = 19
y = -10

[State 52, 1]
type = Veladd
trigger1 = AnimElemtime(19) > 0
y = .7

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 19
statetype = A

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2105

;---------------------------------------------------------------------------
[Statedef 2105]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2105
ctrl     = 0
sprpriority = 3

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 200, qbg`]
type = HitDef
trigger1 = time = 0
attr = S, HT
damage = 0,0
animtype = Hard
hitflag = M
priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
p1stateno = 2110
p2stateno = 2120
p2facing = 1

[State 200, ]
type = PlaySnd
trigger1 = Time = 0
value = 2,4

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2110]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2110
ctrl     = 0
sprpriority = 3

[State 810, IL]
type = Width
trigger1 = AnimElem = 6
edge = 100,0

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 810,]
type = TargetBind
trigger1 = time = 0
pos = 40, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 7
pos = -70, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 11
pos = -80, 0

[State 810,]
type = TargetBind
trigger1 = AnimElem = 16
pos = 60, 0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 7
value = 15,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 12
value = 15,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 16
value = 15,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 26
value = 7,23

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(6) > 0 && AnimElemtime(20) < 0
flag = noshadow

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 7
time = 18
value = 210,0,0
under = -1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 11
time = 20
value = 210,0,0
under = -1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 16
time = 11
value = 210,0,0
under = -1

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(24) < 0
flag = noBG

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 16
value = -60
kill = 0

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 26
value = -20

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2120]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(2) > 6 && AnimElemtime(12) < 0
flag = noshadow

[State 2100,]
type = Palfx
trigger1 = AnimElemtime(2) = 7
add = -255,-255,-255
time = 132

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2120+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
trigger1 = loseko
value = 5150

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = alive = 1
value = 2125
ctrl = 0

;-------------------------------------------------------------
[Statedef 2125]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2125+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5120

;---------------------------------------------------------------------------
[Statedef 2400]
type     = S
movetype = A
physics  = S
juggle   = 8
velset   = 0,0
anim     = 2400
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2400]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = p1
pos = 0,-75
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2400]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = p1
pos = 0,-75
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2400, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 30
time = 30

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s7,21

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2,0

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, u]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 7

[State 1000, u]
type = Velset
trigger1 = AnimElem = 5
y = -4

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .35

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 9
persistent = 0
anim = 14500
postype = P1
pos = 100,-50
sprpriority = 10
removetime = 23

[State 1950]
type = HitDef
trigger1 = Time = 0
attr = A,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = H
priority = 5
pausetime = 2,2
sparkno = 9
sparkxy = -30,-40
hitsound = 800,0
guardsound = s8,11
guard.sparkno = 42
guard.velocity = -4
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 2410
p2stateno = 2420

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2405

;---------------------------------------------------------------------------
[Statedef 2405]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2405
sprpriority = 2

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 4

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 200, ]
type = PlaySnd
trigger1 = Time = 1
value = 2,4

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2410]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2410
sprpriority = 2

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, IL]
type = Width
trigger1 = AnimElem = 1
edge = 110,0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 3
ampl = 12
freq = 120
time = 15

[State 311,grndexpl1]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = AnimElem = 1
anim = f66
pos = 70,0
postype = p1
supermove = 1
bindtime = 1
sprpriority = -3
ontop = 0
ownpal = 1

[State 311,grndexpl2]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = AnimElem = 1
anim = f67
pos = 70,0
postype = p1
supermove = 1
bindtime = 1
sprpriority = -2
ontop = 0
ownpal = 1

[State 1200, 0]
type = explod
triggerall = StageVar(info.author) = "water"
trigger1 = AnimElem = 1
anim = f24
id = 7400
facing = -1
pos = 70,0
postype = p1
sprpriority = 5
supermove = 1
bindtime = 1

[State 855, whomp]
type = PlaySnd
triggerall = StageVar(info.author) = "water"
trigger1 = animelem = 1
value = F47, 0
volume = 20

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 40, -55

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 38, -25

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 35, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 33, 2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 20, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 17, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 5, -50

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -95

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = 25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -10, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
pos = -25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
pos = -25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(13) >= 0 && AnimElemTime(14) < 0
pos = -17, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 14
pos = -5, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 15
pos = 55, 0

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 200, ]
type = PlaySnd
trigger1 = Time = 0
value = 2,4

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = 9,10

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 9
value = 2,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElemtime(3) = 20
value = 7,27
channel = 10

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 14
value = 7,7
channel = 10

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = 18,10

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
value = s5,4

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 7
x = 30

[State 1000, u]
type = Velset
trigger1 = AnimElem = 9
x = 6

[State 1000, u]
type = Velset
trigger1 = AnimElem = 9
y = -7.5

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(9) > 0
y = .3

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 9
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
persistent = 0
anim = 1750
id = 1700
postype = P1
pos = 20,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 14
trigger2 = AnimElem = 20
persistent = 0
anim = 1760
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 15
persistent = 0
anim = 2450
postype = P1
pos = 50,-80
sprpriority = 10

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value = -30
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 17
trigger4 = AnimElem = 18
trigger5 = AnimElem = 19
attr = A, HA
damage = 30,0
getpower = 0
animtype = diagup
hitflag = MAF
priority = 3, Hit
pausetime = 2,14
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -60
hitsound = s18,10
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5.3,-7.8
air.velocity = -5.3,-7.8
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 18
time = 1
value = 255,255,255
under = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2412

;---------------------------------------------------------------------------
[Statedef 2412]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2412
ctrl     = 0
sprpriority = 2

[State 1000, ]
type = PlaySnd
trigger1 = time = 0
value = s2,4

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2420]
type    = A
movetype= H
physics = S
velset = 0,0

[State 192,]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2120]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 1
value = -5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 4
value = 5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 11
value = -5

[State 820, 1]
type = SprPriority
trigger1 = AnimElem = 14
value = 5

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2420+var(55)*30000

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 820, 1]
type = ChangeAnim
trigger1 = Animtime = 0
value = 5052+var(55)*30000

;---------------------------------------------------------------------------
[Statedef 2600]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2600
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2600]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2600]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2600, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 30
time = 30

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,0

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s7,21

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 2
anim = 8004
postype = P1
sprpriority = 10
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
supermove = 1
ID = 2600

[State 3000, Xe[gX]
type = ChangeState
triggerall = AnimElemtime(2) >= 30
trigger1 = command != "holdx"
trigger2 = time = 200
value = 2610

;---------------------------------------------------------------------------
[Statedef 2601]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2600
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2601]
type = Explod
trigger1 = time = 0
anim = f7000
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2601]
type = Explod
trigger1 = time = 0
anim = f7010
scale = .5,.5
postype = p1
pos = 0,-95
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2601, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 170, G]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 30
time = 30

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 1
anim = 7000
pos = -20,-90
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = AnimElem = 1
anim = 7010
pos = -20,-90
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,0

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s7,21

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 2
anim = 8004
postype = P1
sprpriority = 10
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
supermove = 1
ID = 2600

[State 3000, Xe[gX]
type = ChangeState
triggerall = AnimElemtime(2) >= 30
trigger1 = command != "holdy"
trigger2 = time = 200
value = 2610

;---------------------------------------------------------------------------
[Statedef 2610]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
anim     = 2650
ctrl     = 0

[State 181,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s5,6

[State 700, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
anim = 10099
postype = P1
sprpriority = 10
bindtime = -1
ownpal = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, wp[o]
type = Helper
trigger1 = AnimElem = 5
name = "yamibarai"
stateno = 2650
ID = 2600
helpertype = normal
pos = 25,1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 2640
projanim = 2615
projremove = 1
projcancelanim = 1670
projpriority = 2
projhitanim = -1
projremanim = -1
projsprpriority = 1
projshadow = 0,0,0
projremovetime = -1
offset = 25,1
velocity = 7,0
attr = S, HP
damage = 0,0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2650]
type     = S
movetype = A
physics  = N
juggle   = 0
ctrl     = 0
anim     = 2610
sprpriority = 5

[State 1001, ]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;e

[State 1000, ]
type = Velset
trigger1 = time >= 0
x = 7

[State 181,]
type = PlaySnd
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
value = s18,3

[State 700, GtFNg\]
type = Explod
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
anim = 3120
postype = P1
pos = 0, 0
sprpriority = 10
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1

[State 3000]
type = Projectile
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
projID = 2620
projanim = 2620
projremove = 0
projpriority = 10
projhitanim = -1
projremanim = -1
projsprpriority = 10
projshadow = 0,0,0
projremovetime = 34
getpower = 0
ownpal = 0
offset = 0,0
velocity = 0,0
attr = S, HP
animtype = Hard
damage = 200,15
hitflag = MAF
guardflag = M
hitsound = s9,10
guardsound = s8,11
pausetime = 0,20
sparkno = 2
guard.sparkno = 42
sparkxy = 15,-50
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
p2stateno = 2620
p2facing = 1

[State 810,]
type = EnvShake
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger1 = numhelper(2600) != 0
ampl = 10
freq = 90
time = 20

[State 1000, Xe[gX]
type = DestroySelf
trigger1 = p2bodydist X < 1 && p2bodydist X > -10
trigger1 = enemy,statetype != L
trigger2 = root,numprojID(2640) = 0

;---------------------------------------------------------------------------
[Statedef 2620]
movetype= H
velset = 0,0
ctrl = 0

[State 700,]
type = Palfx
trigger1 = time = 0
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
trigger8 = time = 70
trigger9 = time = 80
trigger10 = time = 90
trigger11 = time = 100
trigger12 = time = 110
trigger13 = time = 120
trigger14 = time = 130
trigger15 = time = 140
trigger16 = time = 150
trigger17 = time = 160
trigger18 = time = 170
trigger19 = time = 180
trigger20 = time = 190
time = 10
add = 50,0,170
mul = 170,170,170
sinadd = 95,95,95,15
color = 0
invertall = 1

[State 52, 1]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y = 0
statetype = S

[State 6000, 3]
type = StateTypeSet
trigger1 = Pos Y != 0
trigger2 = AnimTime = 0
statetype = A

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2635+var(55)*30000

[State 1830]
type = ChangeState
trigger1 = Animtime = 0
value = 2630

;---------------------------------------------------------------------------
[Statedef 2630]
type = A
movetype= H
physics  = N
ctrl = 0

[State 170, G]
type = NotHitBy
trigger1 = 1
value = SCA

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -4
y = -6

[State 52, 1]
type = Veladd
trigger1 = time >= 0
y = .4

[State 1830]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;==========================================================
[Statedef 2700]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
anim = 2700
ctrl = 0
sprpriority = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
trigger2 = prevstateno = 32011 && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 3000, 1]
type = SuperPause
trigger1 = Time = 0
time = 35
movetime = 35
darken = 0
anim = -1

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 3200, 4]
type = Explod
trigger1 = time=0
trigger1 = prevstateno = 32011
anim = f993
scale=0.5,0.5
id = 993
postype = p1
pos= 10,0
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=0
trigger1 = prevstateno = 32011
anim = f994
scale=0.5,0.5
id = 994
postype = p1
pos= 10,0
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7000
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 16,-75
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7010
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 16,-75
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = ,HA
getpower = 0,0
givepower = 0,0
damage = 10, 0
animtype = up
hitflag = MAFD
guardflag = M
priority = 3, Hit
pausetime = 3,4
sparkno = 5
sparkxy = 0, -95
hitsound = 4,2
guardsound = 6,2
guard.sparkno =42
ground.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-9
guard.pausetime = 16,16
air.type = High
air.velocity = 0,-9
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
yaccel = .5
kill = 0
p2stateno = 2730

[State 0, TargetBind]
type = TargetBind
trigger1 = Movehit
trigger1 = Time <= 37
time = 1
pos = 60,-20
ignorehitpause = 1
persistent = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = ,HA
getpower = 0,0
givepower = 0,0
damage = 10, 0
animtype = up
hitflag = MAFD
guardflag = M
priority = 3, Hit
pausetime = 7,32
sparkno = 5
sparkxy = 0, -95
hitsound = 4,2
guardsound = 6,2
guard.sparkno =42
ground.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-9
guard.pausetime = 16,16
air.type = High
air.velocity = 0,-9
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
yaccel = .5
kill = 0
p2stateno = 2730

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = ,HA
getpower = 0,0
givepower = 0,0
damage = 10, 0
animtype = up
hitflag = MAFD
guardflag = M
priority = 3, Hit
pausetime = 7,32
sparkno = 5
sparkxy = 0, -95
hitsound = 4,2
guardsound = 6,2
guard.sparkno =42
ground.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-9
guard.pausetime = 16,16
air.type = High
air.velocity = 0,-9
air.hittime = 60
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
envshake.time = 25
envshake.ampl = 10
envshake.freq = 90
yaccel = .5
kill = 0
p2stateno = 2730

[State 1000, ChangeState]
type = ChangeState
triggerall = Movehit || p2stateno = 2730
trigger1 = AnimElem = 8
value = 2710

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
ignorehitpause = 1

;--------------------------------------------------------------------------------
[Statedef 2710]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
anim = 2710
ctrl = 0
sprpriority = 2

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = ,HA
getpower = 0,0
givepower = 15,15
damage = 20, 0
animtype = high
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 5
sparkxy = -25, -145
hitsound = 4,2
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-12
air.hittime = 50
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2740
p2facing = 1
yaccel = .5
kill = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = Time = 4
time = 1
pos = 100,-60
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Time = [5,14]
trigger1 = gametime%2= 0
anim = F5
pos = 5,-70
postype = p2
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = [5,14]
trigger1 = gametime%2= 0
value = 4,2
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = Animelem = 6
value = 2770
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 9
attr = ,HA
getpower = 0,0
givepower = 15,15
damage = 20, 0
animtype = high
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 5
sparkxy = -25, -145
hitsound = 4,2
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-12
air.hittime = 50
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2730
p2facing = 1
yaccel = .5
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = ,HA
getpower = 0,0
givepower = 15,15
damage = 20, 0
animtype = high
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 5
sparkxy = -25, -145
hitsound = 4,2
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-12
air.hittime = 50
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2730
p2facing = 1
yaccel = .5
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = ,HA
getpower = 0,0
givepower = 15,15
damage = 20, 0
animtype = high
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 5
sparkxy = -25, -145
hitsound = 4,2
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-12
air.hittime = 50
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2730
p2facing = 1
yaccel = .5
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 17
attr = ,HA
getpower = 0,0
givepower = 15,15
damage = 20, 0
animtype = high
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 5
sparkxy = -25, -145
hitsound = 4,2
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-12
air.hittime = 50
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2750
p2facing = 1
yaccel = .5
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 18
attr = ,HA
getpower = 0,0
givepower = 15,15
damage = 20, 0
animtype = high
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 5
sparkxy = -25, -145
hitsound = 4,2
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-12
air.hittime = 50
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2750
p2facing = 1
yaccel = .5
kill = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 19
attr = ,HA
getpower = 0,0
givepower = 15,15
damage = 20, 0
animtype = high
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 5
sparkxy = -25, -145
hitsound = 4,2
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,-12
air.type = High
air.velocity = 0,-12
air.hittime = 50
air.cornerpush.veloff = 0
yaccel = .5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 90
p2stateno = 2750
p2facing = 1
yaccel = .5
kill = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 7
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1900
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 2730]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 0, HitBy]
type = HitBy
trigger1 = !ishelper
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = -2
y = -1.5

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2730+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 2740]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, HitBy]
type = HitBy
trigger1 = !ishelper
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 12
y = 19
ignorehitpause = 1

[State 52, 2]
type = VelSet
trigger1 = time = 4
x = 15
y = 8
ignorehitpause = 1

[State 52, 2]
type = VelSet
trigger1 = time = 7
x = 16
y = -10
ignorehitpause = 1

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2730+var(55)*30000

;---------------------------------------------------------------------------
[Statedef 2750]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, HitBy]
type = HitBy
trigger1 = !ishelper
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 4
y = 2

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2730+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;-----------------------------------------------------------------------
[Statedef 2770]
type    = A
movetype= H
physics = N
ctrl = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 1531, 5]
type = defencemulSet
trigger1 = 1
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

[State 325, 0]
type = Posfreeze
trigger1 = time = 0

[State 325, 0]
type = velset
trigger1 = time = 1
x = -1
y = -5.5

[State 325, 0]
type = veladd
trigger1 = time > 0
y = 0.45

[State 325, 0]
type = changeanim2
trigger1 = time = 0
value = 2515+var(55)*30000

[State 2206, 2]
type = SelfState
triggerall = time > 17
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 3000]
type     = S
movetype = A
physics  = S
juggle   = ifelse((prevstateno=[2510,2515]),0,11)
velset   = 0,0
anim     = 3000
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 3000,M EnvColor]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 5
under = 1

[State 3000,M EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 31
under = 1

[State 3000, 7]
type = Explod
trigger1 = Time = 0
anim = f7100
scale = .5,.5
postype = p1
pos = 30,-50
sprpriority = -1
supermove = 1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3000, 8]
type = Explod
trigger1 = Time = 0
anim = f7110
scale = .5,.5
postype = p1
pos = 30,-50
sprpriority = 7
supermove = -1
supermovetime = 99999
bindtime = 1
ownpal = 1

[State 3000, ps]
type = PlaySnd
trigger1 = time = 0
value = f9000,1
channel = -1

[State 2000, KEZ~]
type = SuperPause
trigger1 = time = 0
anim = -1
poweradd = ifelse(fvar(30) > 0,-1000,-2000)
movetime = 34
time = 34

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 2010
trigger2 = prevstateno = 2015
trigger3 = prevstateno = 2510
trigger4 = prevstateno = 2515
time = 5
add = 250,120,210

[State 2000]
type = Explod
trigger1 = AnimElem = 2
anim = 7100
scale=0.5,0.5
postype = p1
pos = 30,-50
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 3200, 4]
type = Explod
trigger1 = AnimElem = 2
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = AnimElem = 2
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 2000]
type = Explod
trigger1 = AnimElem = 2
anim = 7110
scale=0.5,0.5
postype = p1
pos = 30,-30
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1,1

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,34]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1950]
type = HitDef
trigger1 = AnimElem = 6
attr = S,HT
getpower = 0
damage = 0,0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 0,0
sparkno = 9
sparkxy = -15,-65
hitsound = 800,0
guardsound = 6,2
guard.sparkno = 42
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 3010
p2stateno = 3020

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------
[Statedef 2800]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 2800
ctrl = 0
sprpriority = 2
poweradd = ifelse(fvar(30) > 0,0,-1000)

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 0, Palfx]
type = Palfx
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
time = 5
add = 230,230,230

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = [0,40]
value = SCA

[State 0, superpause]
type = superpause
trigger1 = time = 0
time = 29
movetime = 29
anim = -1
darken = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 30
under = 1

[State 0,Explod]
type = Explod
trigger1 = time = 0
anim = F7000
scale = .5,.5
pos = 7,-71
postype = p1
sprpriority = -5
ownpal = 1
bindtime = -1
supermove = 1

[State 0,Explod]
type = Explod
trigger1 = time = 0
anim = F7010
scale = .5,.5
pos = 7,-71
postype = p1
sprpriority = 5
ownpal = 1
bindtime = -1
supermove = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9000,0

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 54
length = 4
frameGap = 1
timeGap = 4 
palcolor = 0
palinvertall = 0
palbright = 66,40,51
palcontrast = 146,120,220
palpostbright = 0,0,0
Trans = Add1

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0,0
damage = 0,0
animtype = hard
hitflag = MAF
guardflag = 
priority = 3
pausetime = 0,17
sparkno = -1
sparkxy = -1
hitsound = -1
guard.velocity = 0
ground.type = High
ground.slidetime = 23
ground.hittime = 100
ground.velocity = 0
air.velocity = -4,-6
fall.recover = 0
air.fall = 1
yaccel = .5
air.fall = 1
p2facing = 1
p1stateno = 2810
kill = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 60

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2805]
type = A
movetype = H
physics = N
velset = 0
ctrl = 0
sprpriority = 2

[State 0, ScreenBound]
Type = ScreenBound
trigger1 = 1
value = 0

[State 0, Changeanim2]
Type = Changeanim2
Trigger1 = Time = 0
Value = 2805+var(55)*30000

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
Value = 2806

;---------------------------------------------------------------------------
[Statedef 2806]
type = A
movetype = H
physics = N
velset = 0
ctrl = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, VelAdd]
type = VelAdd
trigger1 = time = [0,20]
y = -2
x = -.01

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 20
y = 2.1

[State 0, Changeanim2]
Type = Changeanim2
Trigger1 = Time = 0
Value = 2806+var(55)*30000

[State 0, SelfState]
type = SelfState
trigger1 = Pos Y >= -5 && Vel Y > 0
value = 5100

;---------------------------------------------------------
[Statedef 2810]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 2810
ctrl = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,90]
time = 90
mul = 0,0,0

[State 0, Width]
type = Width
trigger1 = time = [0,5]
edge = 150,0

[State 5100, 8]
type = Explod
trigger1 = Time = 0
anim = F9
postype = p1
pos = 20,-50
bindtime = -1
sprpriority = 5
ownpal = 1

[State 810, 1]
type = PlaySnd
Trigger1 = time = 0
value = F800,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = -28,-100

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = -28,-100

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
pos = -20,-73

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
pos = 30,-58

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5
pos = 53,-59

[State 0, TargetBind]
type = TargetState
trigger1 = time = 0
Value = 2805

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = [0,25]
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = s5,6

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 20
length = 4
frameGap = 1
timeGap = 4 
palcolor = 0
palinvertall = 0
palbright = 66,40,51
palcontrast = 146,120,220
palpostbright = 0,0,0
Trans = Add1

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 60

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 2820
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 2820]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 2820
ctrl     = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = s2800,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = s2800,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = s2800,2

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 2830
pos = 0,0
postype = p1
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 2840
pos = 0,-60
postype = p1
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1

[State 0, Hitdef]
type = Hitdef
trigger1 = AnimElem = 11
getpower = 0
attr = S, HP
animtype = Diagup
damage = 250,10
hitflag = MAF
hitsound = 55,1
pausetime = 0,8
sparkno = 6
sparkxy = 10,-80
ground.type = High
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -5,-10
air.juggle = 0
air.velocity = -5,-10
fall = 1
envshake.time = 30
envshake.ampl = 12
envshake.freq = 90
p2facing = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;==================================================================
[Statedef 2900]
type     = S
movetype = A
physics  = N
juggle   = 0
poweradd = -1000
velset   = 0,0
anim     = 2900
ctrl     = 0
sprpriority = 5
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,3399]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];爆气中扣除爆气槽
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a];防止爆气条低于120(不同技能数字有区别)不出现字幕
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = S7,20

[State 0, PalFx]
type = PalFx
trigger1 = time = 0
trigger1 = PrevStateNo = [1000,1999]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 3000, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3000, 1]
type = SuperPause
trigger1 = Time = 2
time = 35
movetime = 35
darken = 0
anim = -1

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 2
anim = f7000
ID = 7000
scale = 0.5,0.5
ownpal = 1
facing = 1
postype = p1
pos = 5,-70
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 2
anim = f7010
ID = 7010
scale = 0.5,0.5
ownpal = 1
facing = 1
postype = p1
pos = 5,-70
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 6]
type = PlaySnd
trigger1 = Time = 2
value = f9000,0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Back
guardflag = M
hitflag = MAFD
priority = 5
pausetime = 10,10
sparkno = 5
guard.sparkno = 42
sparkxy = -20,-40
hitsound = 4,3
guardsound = 6,1
guard.velocity = -5
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p2StateNo = 2950
envshake.time = 25
envshake.ampl = -4

[State 0, TargetState]
type = TargetState
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 26
value = 2950

[State 0, TargetState]
type = TargetState
trigger1 = animelem = 27
value = 2960

[State 0, HitAdd]
type = HitAdd
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 26
trigger10 = animelem = 27
trigger11 = time = 136
value = 1

[State 1000,]
type = Explod
triggerall = p2movetype = H
triggerall = p2stateno = 2950
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 26
trigger10 = animelem = 27
trigger11 = time = 136
Anim = F5
random = 50,50
pos = 0, -50
postype = P2
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = 7
removeongethit = 1
ontop = 1

[State 52, Effect]
type = PlaySnd
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 26
trigger10 = animelem = 27
trigger11 = time = 136
value = F4,3

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = animelem = 16
trigger2 = animelem = 23
x = 0
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
pos = 70,-10

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = animelem = 4
x = 0
y = 0

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 26
trigger10 = animelem = 27
x = -.2
y = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 26
trigger10 = animelem = 27
time = 20
freq = 60
ampl = -4
phase = 90

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 26
trigger10 = animelem = 27
value = -10

[State 0, Width]
type = Width
trigger1 = time >= 70
trigger1 = p2stateno != 2950
edge = 150,0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 70 && p2stateno != 2950
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 2910

;----------------------------------------------------------------------------------
[Statedef 2910]
type     = S
movetype = A
physics  = S
juggle   = 7
velset   = 0,0
anim     = 2910
ctrl     = 0
sprpriority = 2

[State 0,Posadd]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 15

[State 0, Velset]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 8

[State 0, Velset]
type = Velset
trigger1 = AnimElem = 5
y = -4

[State 0, Veladd]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2920

;--------------------------------------------------------------------------
[Statedef 2920]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2920
sprpriority = 2

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Posadd
trigger1 = time = 0
x = 6

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2800,2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2840
pos = -60,-50
postype = p1
sprpriority = 6
ownpal = 1
bindtime = 1
supermove = 1

[State 200, qbg?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 180,8
animtype = Hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 30, 35
sparkno = 5
guard.sparkno = 41
sparkxy = -20, -60
hitsound = 4,3
guardsound = 6,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 22
ground.velocity = -7.5
airguard.velocity = -3.3,-1.8
air.type = High
air.velocity = -3.5,-3
air.hittime = 12
air.fall = 1
envshake.time = 40
envshake.freq = 60
envshake.ampl = 30
p2stateno = 4115

[State 210, Xe?gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;==========================================================================
[Statedef 2950]
type     = A
movetype = H
physics  = N

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 2950+Var(55)*30000

[State 0, ScreenBound]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1

[State 0]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;==============================================================================
[Statedef 2960]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1531, 5]
type = defencemulSet
trigger1 = 1
value = 1

[State 0, 豺华伤害]
type = LifeSet
triggerall = enemynear,stateno = 2300
trigger1 = time = 0
value = life - lifemax * 0.07

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

[State 325, 0]
type = Posfreeze
trigger1 = time = 0

[State 325, 0]
type = veladd
trigger1 = time = 0
x = -3

[State 325, 0]
type = velset
trigger1 = time = 1
x = -3
y = -7.5

[State 325, 0]
type = veladd
trigger1 = time > 0
y = 0.45

[State 325, 0]
type = changeanim2
trigger1 = time = 0
value = 2960+Var(55)*30000

[State 2206, 2]
type = SelfState
triggerall = time > 17
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------
[Statedef 3001]
type = S
ctrl = 0
anim = 99999
velset = 0,0

[State 1000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, ReversalDef]
type = ReversalDef
trigger1 = parent,AnimElemtime(6) > 0
trigger1 = enemynear(parent,fvar(36)),prevstateno = [120,159]
reversal.attr = SC,AA,AP,AT
pausetime = 0,1
sparkno = -1
hitsound = -1
p2stateno = 3060
ignorehitpause = 1

[State 1000, PosSet]
type = PosSet
trigger1 = pos y < -100
x = Root,pos x - 10
y = -100
ignorehitpause = 1

[State 1000, PosSet]
type = PosSet
trigger1 = pos y >= -100
x = Root,pos x - 10
y = enemynear(fvar(36)),pos y
ignorehitpause = 1

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 3200
trigger1 = root,stateno != 3250

;---------------------------------------------------------------------------
[Statedef 3010]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3010
ctrl     = 0
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = time = 0
edge = 150,0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0

[State 311,grndexpl1]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = AnimElem = 1
anim = f66
pos = 70,0
postype = p1
supermove = 1
bindtime = 1
sprpriority = -3
ontop = 0
ownpal = 1

[State 311,grndexpl2]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = AnimElem = 1
anim = f67
pos = 70,0
postype = p1
supermove = 1
bindtime = 1
sprpriority = -2
ontop = 0
ownpal = 1

[State 1200, 0]
type = explod
triggerall = StageVar(info.author) = "water"
trigger1 = AnimElem = 1
anim = f24
id = 7400
facing = -1
pos = 70,0
postype = p1
sprpriority = 5
supermove = 1
bindtime = 1

[State 855, whomp]
type = PlaySnd
triggerall = StageVar(info.author) = "water"
trigger1 = animelem = 1
value = F47, 0
volume = 20

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 1
pos = 65, -25

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 2
pos = 70, -10

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 75, -13

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 4
pos = 75, -30

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = 75, -50

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 72, -70

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 72, -90

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 90, -108

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 90, -110

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 10
pos = 85, -118

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 45
pos = 62, -25

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -100
kill = 0

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 17
value = -20
kill = 0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 1
ampl = 12
freq = 120
time = 15

[State 810,]
type = EnvShake
trigger1 = AnimElem = 17
ampl = 3
freq = 100
time = 5

[State 810,]
type = EnvShake
trigger1 = AnimElem = 20
ampl = 2
freq = 100
time = 63

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = 5,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 45
value = 9,10

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 45
value = 15,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 45
value = 5,1

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 7,13

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 17
value = 17,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 17
value = 7,27

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 45
value = 7,23

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(15) > 0 && AnimElemtime(53) < 0
flag = noshadow

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 15
time = 148
value = 210,0,0
under = -1

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(24) < 0
flag = noBG

[State 2100]
type = Hitadd
trigger1 = AnimElem = 17
value = 1

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 45
attr = S, HA
damage = 300,0
getpower = 0
animtype = up
hitflag = MAF
priority = 3, Hit
pausetime = 0,30
sparkno = -1
hitsound = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
envshake.time = 26
envshake.ampl = 14
envshake.freq = 80

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3020]
type    = S
movetype= H
physics = N
velset = 0,0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2120]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(11) > 30
flag = noshadow

[State 2100,]
type = Palfx
trigger1 = AnimElemtime(11) = 20
add = -100,-255,-255
time = 150

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3020+var(55)*30000

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5130

; --------------------------------------------------------------------------
[Statedef 3025]
type = A
movetype = H
physics = N
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3025+var(55)*30000

[State 0, SelfState]
type = SelfState
trigger1 = Animtime = 0
value = 5100

;------------------------------------------------------------------------
[Statedef 3026]
type    = A
movetype= H
physics = N
ctrl = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1


[State 1531, 5]
type = defencemulSet
trigger1 = 1
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

[State 325, 0]
type = Posfreeze
trigger1 = time = 0

[State 325, 0]
type = veladd
trigger1 = time = 0
x = -8

[State 325, 0]
type = velset
trigger1 = time = 1
x = -4
y = -8.5

[State 325, 0]
type = veladd
trigger1 = time > 0
y = 0.45

[State 325, 0]
type = changeanim2
trigger1 = time = 0
value = 2515+var(55)*30000

[State 2206, 2]
type = SelfState
triggerall = time > 17
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 3060]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = 1

[State 52, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3060+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3100]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3000
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
poweradd = ifelse(fvar(30) > 0,-1000,-2000)
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7100
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 30,-50
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7110
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 30,-50
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 1

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 1260
trigger2 = prevstateno = 1310
trigger3 = prevstateno = 1750
trigger4 = prevstateno = 1810
time = 5
add = 230,230,230

[State 700,];_
type = palfx
triggerall = time = 0
trigger1 = prevstateno = 2010
trigger2 = prevstateno = 2015
trigger3 = prevstateno = 2510
trigger4 = prevstateno = 2515
time = 5
add = 250,120,210

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 5
value = s20,0

[State 1500,]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 2000]
type = AssertSpecial
trigger1 = Time = [0,34]
flag = NoFG
flag2 = NOBG
ignorehitpause = 1

[State 1950]
type = HitDef
trigger1 = AnimElem = 6
attr = S,HT
getpower = 0
damage = 0,0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 2
pausetime = 0,0
sparkno = 9
sparkxy = -15,-65
hitsound = 5,3
guardsound = 6,2
guard.sparkno = 42
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1stateno = 3110
p2stateno = 3120

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 6
persistent = 0
anim = 14500
postype = P1
pos = 85,-60
sprpriority = 10
removetime = 23

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3110]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3100
ctrl     = 0
sprpriority = 5

[State 810, IL]
type = Width
trigger1 = time = 0
edge = 140,0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 15
time = 100
freq = 80
ampl = -4

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 18
time = 20
freq = 80
ampl = -20

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 22
time = 100
freq = 80
ampl = -4

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 25
time = 20
freq = 80
ampl = -20

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 27
time = 100
freq = 80
ampl = -4

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 30
time = 20
freq = 80
ampl = -20

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 33
time = 100
freq = 80
ampl = -4

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 35
time = 20
freq = 80
ampl = -20

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 38
time = 100
freq = 80
ampl = -4

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 40
time = 20
freq = 80
ampl = -20

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 43
time = 100
freq = 80
ampl = -4

[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 47
time = 20
freq = 80
ampl = -20

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 3120
postype = P1
pos = 70,-5
sprpriority = 10
bindtime = -1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElemtime(10) = 1
persistent = 0
anim = 3150
postype = P1
pos = 79,0
sprpriority = 10

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElemtime(14) = 2
persistent = 0
anim = 3160
postype = P1
pos = 80,0
sprpriority = 10

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 1
pos = 65, -25

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 2
pos = 70, -10

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 75, -13

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 4
pos = 75, -30

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = 75, -50

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 72, -70

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 72, -90

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 90, -108

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 90, -110

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 10
pos = 85, -118

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 58
pos = 62, -25

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -20
absolute = 1
kill = 0

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 14
trigger2 = AnimElem = 16
trigger3 = AnimElem = 19
trigger4 = AnimElem = 21
trigger5 = AnimElem = 24
trigger6 = AnimElem = 26
trigger7 = AnimElem = 29
trigger8 = AnimElem = 31
trigger9 = AnimElem = 34
trigger10 = AnimElem = 36
trigger11 = AnimElem = 39
trigger12 = AnimElem = 41
trigger13 = AnimElem = 44
trigger14 = AnimElem = 46
trigger15 = AnimElem = 49
trigger16 = AnimElem = 51
trigger17 = AnimElem = 54
value = -15
kill = 0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 1
ampl = 12
freq = 120
time = 15

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 9,10

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 11
value = 7,27
channel = 5

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 10
value = 18,5

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 58
value = 18,6

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(10) > 0 && AnimElemtime(58) < 0
flag = noshadow

[State 2100,]
type = AssertSpecial
trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(58) < 0
flag = noBG

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 58
attr = S, HA
damage = 100,0
getpower = 0
animtype = Diagup
numhits = 0
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = -1
hitsound = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,-7.5
air.velocity = -6,-7.5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 70
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
envshake.time = 10
envshake.ampl = 7
envshake.freq = 80

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 15
trigger2 = AnimElem = 24
trigger3 = AnimElem = 27
trigger4 = AnimElem = 42
trigger5 = AnimElem = 48
trigger6 = AnimElemtime(56) = 1
trigger7 = AnimElemtime(56) = 2
trigger8 = AnimElemtime(57) = 1
trigger9 = AnimElemtime(58) = 1
trigger10 = AnimElemtime(58) = 4
time = 1
value = 255,255,255
under = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3120]
type    = S
movetype= H
physics = N
velset = 0,0

[State 700,]
type = Palfx
trigger1 = AnimElem = 11
time = 300
add = 50,0,170
mul = 170,170,170
sinadd = 95,95,95,15
color = 0
invertall = 1

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2120]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3110+var(55)*30000

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 5300

;-----------------------------------------------------------------------------------
[Statedef 3200]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
anim = 3200
ctrl = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 1000, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Cheap"
ID = 3000
stateno = 3001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(fvar(30) > 0,0,-1000)

[State 3000, 1]
type = SuperPause
trigger1 = Time = 0
time = 35
movetime = 35
darken = 0
anim = -1

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = F7000
pos = 10, -75
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0
scale = 0.5,0.5

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = F7010
pos = 10, -75
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1
scale = 0.5,0.5

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,47

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
x = 10

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
x = 20

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 10
x = 10

[State 0, Velset]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 6.5

[State 0, Velset]
type = Velset
trigger1 = AnimElem = 5
y = -5.5

[State 0, Veladd]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .8

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 1401
postype = P1
pos = 68,-135
sprpriority = 10
removetime = -2
scale = .6,.6

[State 0, 残影]
type = AfterImage
trigger1 = AnimElem = 3
time = 2
palcolor = 0
paladd = 60,20,100
PalContrast = 220,200,350
Trans = none
TimeGap  = 1
FrameGap = 3
length = 11
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = AnimElemTime(3) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 1950]
type = HitDef
trigger1 = time = 0
attr = ,HA
getpower = 0
damage = 40,0
numhits = 0
animtype = up
hitflag = MAF
guardflag = M
pausetime = 0,1
sparkno = 9
sparkxy = -80,-45
hitsound = 800,0
guardsound = 6,1
guard.sparkno = 42
guard.velocity = -12
air.juggle = 11
ground.type = low
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .5
numhits = 0
p2facing = 1
fall.recover = 0
fall = 1
ground.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveHit && NumTarget
value = 3220

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3210

;---------------------------------------------------------------------------------
[Statedef 3210]
type     = S
movetype = I
physics  = S
juggle   = 4
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 3210
sprpriority = 2

[State 0, Velset]
type = Posset
trigger1 = time = 0
y = 0

[State 0, Velset]
type = Posadd
trigger1 = time = 0
x = 10

[State 0, Velset]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
[Statedef 3220]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3220
ctrl     = 0
sprpriority = 2

[State 1000, 地面效果]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = Animelem = 5
anim = F66
postype = p2
pos = 10,0
ownpal = 1
facing = -1
removetime = -2
sprpriority = 1
supermove = 1
ignorehitpause = 1

[State 1000, 地面效果]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = Animelem = 5
anim = F67
postype = p2
pos = 10,0
ownpal = 1
facing = -1
removetime = -2
sprpriority = 1
supermove = 1
ignorehitpause = 1

[State 1200, 0]
type = explod
triggerall = StageVar(info.author) = "water"
trigger1 = AnimElem = 5
anim = f24
id = 7400
facing = -1
pos = 70,0
postype = p1
sprpriority = 5
supermove = 1
bindtime = 1

[State 855, whomp]
type = PlaySnd
triggerall = StageVar(info.author) = "water"
trigger1 = animelem = 5
value = F47, 0
volume = 20

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, screenbound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
trigger2 = Animelem = 13
trigger3 = Animelem = 15
trigger4 = Animelem = 17
trigger5 = Animelem = 19
trigger6 = Animelem = 21
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 4
time = 15
ampl = -6
freq = 95
phase = 95

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S7,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S7,48

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 10
trigger5 = animelem = 11
x = 16

[state a]
type = posadd
trigger1 = animelem = 5
x = 8

[state 0, VelSet]
type = velset
trigger1 = animelem = 12
y = -4

[state 0, veladd];
type = veladd
trigger1 = animelem = 17,>0
y = 0.3

[State 0, Helper]
type = Helper
trigger1 = Time = 69
helpertype = normal
name = "爪"
stateno = 1904
pos = -60,-10
postype = p1
facing = 1
ownpal = 1
ignorehitpause =  1
size.xscale = .5
size.yscale = .5

[State 0, Helper]
type = Helper
trigger1 = Time = 81
helpertype = normal
name = "爪"
stateno = 1903
pos = -10,10
postype = p1
facing = -1
ownpal = 1
ignorehitpause =  1
size.xscale = .5
size.yscale = .5

[State 0, Helper]
type = Helper
trigger1 = Time = 93
helpertype = normal
name = "爪"
stateno = 1904
pos = -60,-10
postype = p1
facing = 1
ownpal = 1
ignorehitpause =  1
size.xscale = .5
size.yscale = .5

[State 0, Helper]
type = null;Helper
trigger1 = Time = 87
helpertype = normal
name = "爪"
stateno = 1903
pos = -10,10
postype = p1
facing = -1
ownpal = 1
ignorehitpause =  1
size.xscale = .5
size.yscale = .5

[State 1000, 火花]
type = Explod
trigger1 = Animelem = 12
trigger2 = Animelem = 16
trigger3 = Animelem = 20
trigger4 = Animelem = 23
Anim = FIfelse(Random >= 300,5,6)
ID = 4050
pos = 50, -58
random = 40,40
postype = P1
facing = -1
ownpal = 1
bindtime = 1
supermovetime = 4
sprpriority = 1
ontop = 1
ignorehitpause = 1

[State 1000, 火花]
type = Explod
trigger1 = Animelem = 13
trigger2 = Animelem = 15
trigger3 = Animelem = 17
trigger4 = Animelem = 19
trigger5 = Animelem = 21
Anim = FIfelse(Random >= 300,5,6)
ID = 4050
pos = 0, -58
random = 40,40
postype = P1
facing = -1
ownpal = 1
bindtime = 1
supermovetime = 4
sprpriority = 1
ontop = 1
ignorehitpause = 1

[State 1000, 火花]
type = Explod
trigger1 = Animelem = 14
trigger2 = Animelem = 18
trigger3 = Animelem = 22
Anim = FIfelse(Random >= 300,5,6)
ID = 4050
pos = -50, -58
random = 40,40
postype = P1
facing = -1
ownpal = 1
bindtime = 1
supermovetime = 4
sprpriority = 1
ontop = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 12
trigger2 = Animelem = 13
trigger3 = Animelem = 14
trigger4 = Animelem = 15
trigger5 = Animelem = 16
trigger6 = Animelem = 17
trigger7 = Animelem = 18
trigger8 = Animelem = 19
trigger9 = Animelem = 20
trigger10 = Animelem = 21
trigger11 = Animelem = 22
trigger12 = Animelem = 23
value = F4,Ifelse(Random >= 700,Ifelse(Random >= 500,0,1),Ifelse(Random >= 500,2,3))

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Animelem = 12
trigger2 = Animelem = 13
trigger3 = Animelem = 14
trigger4 = Animelem = 15
trigger5 = Animelem = 16
trigger6 = Animelem = 17
trigger7 = Animelem = 18
trigger8 = Animelem = 19
trigger9 = Animelem = 20
trigger10 = Animelem = 21
trigger11 = Animelem = 22
trigger12 = Animelem = 23
value = -(Enemynear,LifeMax * 0.015 * Ifelse(Enemynear,Const (data.defence) >= 1,(0.01*Enemynear,Const (data.defence)),1))
ID = -1
kill = 1
absolute = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = Animelem = 12
trigger2 = Animelem = 13
trigger3 = Animelem = 14
trigger4 = Animelem = 15
trigger5 = Animelem = 16
trigger6 = Animelem = 17
trigger7 = Animelem = 18
trigger8 = Animelem = 19
trigger9 = Animelem = 20
trigger10 = Animelem = 21
trigger11 = Animelem = 22
trigger12 = Animelem = 23
value = 1

[State 3220, targetstate]
type = TargetState
trigger1 = time = 0
value = 3230

[State 3220, TargetBind]
type = TargetBind
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (2) < 0
pos = 44,0

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 2
pos = 64,-34

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 3
pos = 58,-12

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 4
pos = 54,-3

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 5
pos = 42,-3

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 7
pos = 35,-4

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 8
pos = 26,-4

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 9
pos = 13,-4

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 10
pos = 23,-40

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 11
pos = 30,-73

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 12
pos = 50,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 13
pos = 0,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 14
pos = -50,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 15
pos = 0,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 16
pos = 50,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 17
pos = 0,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 18
pos = -50,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 19
pos = 0,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 20
pos = 50,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 21
pos = 0,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 22
pos = -50,-68

[State 3220, TargetBind]
type = TargetBind
trigger1 = animelem = 23
pos = 50,-68

[State 3220, targetstate]
type = TargetState
trigger1 = animelem = 23
value = ifelse(enemy,var(0) = 1,4815,4045);3026

[State 0, 落地]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1902

;----------------------------------------------------------------------------------
[Statedef 3230]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3230+var(55)*30000

[State 图层-后]
type = sprpriority
Trigger1 = Enemynear,animelem = 12
Trigger2 = Enemynear,animelem = 16
Trigger3 = Enemynear,animelem = 20
value = -4

[State 图层-前]
type = sprpriority
Trigger1 = animelem = 10
Trigger2 = Enemynear,animelem = 14
Trigger3 = Enemynear,animelem = 18
Trigger4 = Enemynear,animelem = 22
value = 4

[State a]
type = selfstate
Trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3250]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
anim = 3200
ctrl = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 1000, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Cheap"
ID = 3000
stateno = 3001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(fvar(30) > 0,0,-1000)

[State 0, PalFx]
type = PalFx
trigger1 = time = 0
trigger1 = PrevStateNo = [1000,1999]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 3000, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3000, 1]
type = SuperPause
trigger1 = Time = 0
time = 35
movetime = 35
darken = 0
anim = -1

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = F7000
pos = 10, -75
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0
scale = 0.5,0.5

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = F7010
pos = 10, -75
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1
scale = 0.5,0.5

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,47

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
x = 15

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
x = 25

[State 0, Posadd]
type = Posadd
trigger1 = AnimElem = 10
x = 15

[State 0, Velset]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 13.5

[State 0, Velset]
type = Velset
trigger1 = AnimElem = 5
y = -6.5

[State 0, Veladd]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .8

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 1451
postype = P1
pos = -30,-135
sprpriority = 10
removetime = -2
scale = 1,1
bindtime = -1

[State 0, 残影]
type = AfterImage
trigger1 = AnimElem = 3
time = 2
palcolor = 0
paladd = 60,20,100
PalContrast = 220,200,350
Trans = none
TimeGap  = 1
FrameGap = 3
length = 11
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = AnimElemTime(3) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 1950]
type = HitDef
trigger1 = time = 0
attr = ,HA
getpower = 0
damage = 40,0
numhits = 0
animtype = up
hitflag = MAF
guardflag = M
pausetime = 0,1
sparkno = 9
sparkxy = -80,-45
hitsound = 800,0
guardsound = 6,1
guard.sparkno = 42
guard.velocity = -12
air.juggle = 11
ground.type = low
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .5
numhits = 0
p2facing = 1
fall.recover = 0
fall = 1
ground.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveHit && NumTarget
value = 3220

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3210

;---------------------------------------------------------------------------
[Statedef 3300]
type = S
movetype = A
physics = S
juggle = 0
velset = 0,0
anim = 3300
ctrl = 0
sprpriority = 2

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(fvar(30) > 0,-1000,-2000)

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];爆气中扣除爆气槽
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a];防止爆气条低于120(不同技能数字有区别)不出现字幕
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 40

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
anim = -1
darken=0
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7000
ID = 7100
scale = 0.5,0.5
ownpal = 1
facing = 1
postype = p1
pos = 35,-110
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7010
ID = 7110
scale = 0.5,0.5
ownpal = 1
facing = 1
postype = p1
pos = 35,-110
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[state 8000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = f9000, 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,19

[State 0, VelSet]
type = posadd
trigger1 = AnimElem = 5
x = 10

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S,HT
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
guardflag = M
priority = 5
pausetime = 2,2
sparkno = 9
guard.sparkno = 42
sparkxy = -20,-100
hitsound = 800,0
guardsound = 6,2
guard.velocity = -5
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
p1StateNo = 3310
p2StateNo = 3320

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl  = 1

;---------------------------------------------------------------------------
[Statedef 3310]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3310
ctrl     = 0
sprpriority = 3

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7000
ID = 7100
scale = 0.5,0.5
ownpal = 1
facing = 1
postype = p1
pos = 35,-110
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7010
ID = 7110
scale = 0.5,0.5
ownpal = 1
facing = 1
postype = p1
pos = 35,-110
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[state 8000, 闪光声音]
type = PlaySnd
trigger1 = Time = 0
value = f9000, 0

[State 4106, 人物变黑]
type = PalFX
trigger1 = Time = [0,48]
time  = 1
color = 18+((time)*4)
add   = 32-((time)*6),32-((time)*6),32-((time)*6)
ignorehitpause = 1

[State 4106, 背景变黑]
type = BGPalFX
trigger1 = Time = [0,48]
time  = 1
color = 18+((time)*4)
add   = 32-((time)*6),32-((time)*6),32-((time)*6)
ignorehitpause = 1

[State 2100,无影子]
type = AssertSpecial
trigger1 = AnimElemtime(8) >=0 && AnimElemtime(23) < 5
flag = noshadow

[State 2100,无背景]
type = AssertSpecial
trigger1 = AnimElemtime(8) >= 0 && AnimElemtime(10) < 0
trigger2 = AnimElemtime(13) >= 7 && AnimElemtime(14) < 0
trigger3 = AnimElemtime(18) >= 6 && AnimElemtime(19) < 0
trigger4 = AnimElemtime(22) >= 0 && AnimElemtime(23) < 5
flag = noBG

[State 2100,红色背景]
type = Envcolor
trigger1 = AnimElem = 10
time = 18
value = 210,0,0
under = -1

[State 2100,红色背景]
type = Envcolor
trigger1 = AnimElem = 14
time = 20
value = 210,0,0
under = -1

[State 2100,红色背景]
type = Envcolor
trigger1 = AnimElem = 19
time = 15
value = 210,0,0
under = -1

[State 810, IL]
type = Width
trigger1 = AnimElem = 9
edge = 100,0

[State 1000, 位置]
type = Posset
trigger1 = time = 0
y = 0

[State 810,绑定对方位置]
type = TargetBind
trigger1 = time <= 48;26
pos = 34, -40

[State 810,绑定对方位置]
type = TargetBind
trigger1 = AnimElem = 9
pos = 40, 0

[State 810,绑定对方位置]
type = TargetBind
trigger1 = AnimElem = 10
pos = -70, 0

[State 810,绑定对方位置]
type = TargetBind
trigger1 = AnimElem = 14
pos = -80, 0

[State 810,绑定对方位置]
type = TargetBind
trigger1 = AnimElem = 19
pos = 60, 0

[State 200, 心跳声]
type = PlaySnd
trigger1 = AnimElem = 8
value = 5,0

[State 200, 打击声]
type = PlaySnd
trigger1 = AnimElem = 10
value = 15,0

[State 200, 打击声]
type = PlaySnd
trigger1 = AnimElem = 15
value = 15,0

[State 200, 打击声]
type = PlaySnd
trigger1 = AnimElem = 19
value = 15,0

[State 200, 鬼叫声]
type = PlaySnd
trigger1 = AnimElem = 10
value = s2112,2

[State 200, 震动]
type = envshake
trigger1 = AnimElem = 10
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
time = 19
ampl = 8
freq = 90

[State 810, 扣血]
type = TargetLifeAdd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
value = -60
kill = 0

[State 210, ]
type = ChangeState
trigger1 = AnimTime = 0
value = 3315
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 3315]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3315
ctrl = 0
sprpriority = 5

[State 0, 绑定对方状态]
type =TargetState
Trigger1 = Time =0
value = 3025

[State 0, 抓的声音]
type = PlaySnd
trigger1 = time = 0
value = f800,0

[State 0, 绑定对方位置]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 7,-134

[State 0, 绑定对方位置]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = -3,-122

[State 0, 绑定对方位置]
type = TargetBind
trigger1 = AnimElem = 3
pos = 0,-70

[State 2100,无背景]
type = AssertSpecial
trigger1 = time<=5
flag = noBG

[State 0, Explod]
type =Explod
trigger1 = Animelem = 3
anim = 26105
ID = 3016
pos = 0,0
scale=0.5,0.5
postype = p1
bindtime = -1
sprpriority = 8
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type =Explod
trigger1 = Animelem = 3
anim = 26106
ID = 3016
pos = 0,0
scale=0.5,0.5
postype = p1
bindtime = -1
sprpriority = 8
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S,HA
givepower = 600
damage = 100,10
animtype = Hard
priority = 3,Hit
pausetime = 15,15
sparkno = -1
sparkxy = -20,-80
hitsound = 4,2
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-8
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = 0.5
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = 12
envshake.freq = 100
p2stateno = 3026
id=3326

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = F5,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 15,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 7,23

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3320]
type    = A
movetype= H
physics = N
velset = 0,0

[State 52, 设置空中为地面]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = S

[State 52, 设置人物在地面]
type = PosSet
trigger1 = AnimElem = 2
y = 0

[State 2100,无影子]
type = AssertSpecial
trigger1 = AnimElemtime(2) >=0 && AnimElemtime(10) < 0
flag = noshadow

[State 4106, 人物变黑]
type = PalFX
trigger1 = Time = [0,23]
time  = 1
color = 13+((time)*9)
add   = 20-((time)*12),32-((time)*12),32-((time)*12)
ignorehitpause = 1

[State 2100,人物颜色为黑]
type = Palfx
trigger1 = time = 24;AnimElem = 2
add = -255,-255,-255
time = 105

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3320+var(55)*30000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
trigger1 = loseko
value = 5150

[State 1830]
type = SelfState
trigger1 = time > 15 && Enemynear,Stateno != [2000,3999]
value = 5000

;------------------------------------------------------------------------------
[Statedef 3400]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
anim = 3400
ctrl = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
trigger2 = prevstateno = 32011 && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(fvar(30) > 0,-1000,-2000)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 35

[State 3000, 1]
type = SuperPause
trigger1 = Time = 2
time = 35
movetime = 35
darken = 0
anim = -1

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 2
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 1000, Spark]
type = Explod
trigger1 = Time = 2
Anim = F7100
pos = 10, -115
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0
scale = 0.5,0.5

[State 1000, Spark]
type = Explod
trigger1 = Time = 2
Anim = F7110
pos = 10, -115
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1
scale = 0.5,0.5

[State 3200, 4]
type = Explod
trigger1 = Time = 2
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = Time = 2
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 2
value = F9000, 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 7,14

[State 3000,]
type = VelSet
trigger1 = AnimElem = 6,>= 0
x = ifelse((p2bodydist x = [-5,20]),3,9)

[State 1000, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Cheap"
ID = 3000
stateno = 3001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 3000, Afterimage]
type = Afterimage
trigger1 = animelem = 5
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = AnimElemtime(5) >= 0
trigger1 = gametime%2 = 0
time = 2
ctrl = 0

[State 1000, EnvColor]
type = EnvColor
trigger1 = movehit
value = 255,255,255
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 1950]
type = HitDef
trigger1 = time = 0
attr = ,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = up
hitflag = MAFD
guardflag = M
pausetime = 0,1
sparkno = 2
sparkxy = 0,-45
hitsound = 5,1
guardsound = 6,1
guard.sparkno = 42
guard.velocity = -12
air.juggle = 11
ground.type = low
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
yaccel = .5
numhits = 0
p2facing = 1
fall.recover = 0
fall = 1
id = 3400
ground.cornerpush.veloff = 0

[State 1000, movehitreset]
type = movehitreset
triggerall = movehit > 0
trigger1 = numtarget(3400) = 0
trigger2 = numtarget(3400) > 0
trigger2 = target(3400),Movetype != H

[State 1000, p2GCRUSH]
type = targetstate
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 2020
ctrl = 0

[State 1000, ChangeState]
type = ChangeState
trigger1 = movehit
persistent = 0
ignorehitpause = 0
value = 3410
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;------------------------------------------------------------------------------
[Statedef 3410]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3410
ctrl = 0
sprpriority = 5

[State 0, VarSet]
type = VarSet
trigger1 = Time = 2
v = 2
value = EnemyNear(fvar(36)),life

[State 0, Width]
type = Width
trigger1 = 1
edge = 60,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0
pos = 50,0

[State 1000, EnvColor]
type = EnvColor
trigger1 = AnimElem = 7
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 20
trigger5 = AnimElem = 30
trigger6 = AnimElem = 36
trigger7 = AnimElem = 41
trigger8 = AnimElem = 51
trigger9 = AnimElem = 58
trigger10 = AnimElem = 63
trigger11 = AnimElem = 68
trigger12 = AnimElem = 77
trigger13 = AnimElem = 92
trigger14 = AnimElem = 95
trigger15 = AnimElem = 98
trigger16 = AnimElem = 105
trigger17 = AnimElem = 113
trigger18 = AnimElem = 123
trigger19 = AnimElem = 129
trigger20 = AnimElem = 135
value = 255,255,255
time = 1
under = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 7
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 20
trigger5 = AnimElem = 30
trigger6 = AnimElem = 36
trigger7 = AnimElem = 41
trigger8 = AnimElem = 51
trigger9 = AnimElem = 58
trigger10 = AnimElem = 63
trigger11 = AnimElem = 68
trigger12 = AnimElem = 77
trigger13 = AnimElem = 92
trigger14 = AnimElem = 95
trigger15 = AnimElem = 98
trigger16 = AnimElem = 105
trigger17 = AnimElem = 113
trigger18 = AnimElem = 123
trigger19 = AnimElem = 129
trigger20 = AnimElem = 135
anim = 17520
ID = 17520
pos = -20,-70
postype = p2
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = 1,1
facing = -1 

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 20
trigger5 = AnimElem = 30
trigger6 = AnimElem = 36
trigger7 = AnimElem = 41
trigger8 = AnimElem = 51
trigger9 = AnimElem = 58
trigger10 = AnimElem = 63
trigger11 = AnimElem = 68
trigger12 = AnimElem = 77
trigger13 = AnimElem = 92
trigger14 = AnimElem = 95
trigger15 = AnimElem = 98
trigger16 = AnimElem = 105
trigger17 = AnimElem = 113
trigger18 = AnimElem = 123
trigger19 = AnimElem = 129
trigger20 = AnimElem = 135
value = - (Ceil(Const(data.attack) * 0.01 * 10 )) - Enemynear(var(58)),Lifemax *0.01
ID = -1
kill = 0
absolute = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = AnimElem = 20
trigger2 = AnimElem = 30
trigger3 = AnimElem = 41
trigger4 = AnimElem = 68
trigger5 = AnimElem = 105
trigger6 = AnimElem = 113
trigger7 = AnimElem = 123
time = 20
freq = 90
ampl = 6

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 20
trigger2 = AnimElem = 30
trigger3 = AnimElem = 41
trigger4 = AnimElem = 68
trigger5 = AnimElem = 105
trigger6 = AnimElem = 113
trigger7 = AnimElem = 123
anim = 17540
ID = 17540
pos = -20,-60
postype = p2
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = 1,1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 27
trigger2 = Animelem = 120
anim = 1015
ID = 1010
pos = 20,0
postype = p1
bindtime = 1
sprpriority = 5
scale = 0.5,0.5
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 67
trigger2 = Animelem = 104
anim = 1115
ID = 1115
pos = -20,20
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 19
trigger2 = Animelem = 112
anim = 1215
ID = 1215
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -12,-50
hitsound = 5,ifelse(Random >= 500,1,3)
numhits = 2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -12,-50
hitsound = 5,ifelse(Random >= 500,1,3)
numhits = 2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 14
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,ifelse(Random >= 500,2,3)
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 20
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 6,10
sparkno = 5
sparkxy = -15,-57
hitsound = S25,13
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 30
attr = , SA
getpower = 0
damage = 20,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 6,10
sparkno = 5
sparkxy = -15,-57
hitsound = S25,13
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno =12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 36
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,ifelse(Random >= 500,2,3)
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 41
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 6,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 51
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -15,-67
hitsound = 5,3
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 58
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,ifelse(Random >= 500,2,3)
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 63
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -15,-67
hitsound = 5,3
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 68
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 6,10
sparkno = 5
sparkxy = -15,-57
hitsound = S25,13
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 77
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 85
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno =12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 92
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -15,-57
hitsound = 5,3
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 95
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -15,-57
hitsound = 5,3
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 98
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 6,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 105
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 6,10
sparkno = 5
sparkxy = -15,-57
hitsound = S25,13
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 113
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 6,10
sparkno = 5
sparkxy = -15,-57
hitsound = S25,13
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 123
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -15,-57
hitsound = S25,13
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 129
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 2
sparkxy = -15,-57
hitsound = 5,3
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12020
kill = 0
ground.cornerpush.veloff = 0

[State 2, HitDef]
type = HitDef
trigger1 = AnimElem = 135
attr = , SA
getpower = 0
damage = 2,0
animtype = Hard
hitflag = MAF
;priority = 3, Hit
pausetime = 4,10
sparkno = 5
sparkxy = -15,-57
hitsound = 4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0
p2stateno = 12021
kill = 0
ground.cornerpush.veloff = 0

[State ]
type = TargetDrop
triggerall = time > 1
trigger1 = target,ishelper
keepone = 0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 0, ChangeAnim]
type = ChangeState
trigger1 = animelem = 138
value = 3415

;--------------------------------------------------------------------------
[Statedef 3415]
type     = S
movetype = A
physics  = N
anim = 3415
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 3000]
type = Projectile
trigger1 = gametime%2 = 1
projanim = 3415
projscale = 0,0
projremove = 0
projpriority = 7
projhitanim = -1
projremovetime = 1
ownpal = 1
velocity = 0
offset = 0,0
attr = SCA,AA,AP,AT
hitflag = MF
animtype = hard
getpower = 0
sparkno = -1
guard.sparkno = -1
hitsound = -1
p2facing = 1
guardsound = -1
guard.dist = 0
p1stateno = 3420
p2stateno = 3025
numhits = 0

[State 0, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SC,AA,AP,AT
numhits = 0
sparkno = -1
hitsound = -1
p2facing = 1
p1stateno = 3420
p2stateno = 3025

[State 0, ChangeState]
type = ChangeState
trigger1 = roundstate != 2
value = 3420

;-------------------------------------------------------------------------------
[Statedef 3420]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3420
ctrl = 0
sprpriority = 5

[State 0, TargetState]
type = TargetState
Trigger1 = Time =0
value = 3025

[State 0, nothitby]
type = nothitby
Trigger1 = 1
value = SCA

[State 0, 8]
type = Explod
trigger1 = time = 0
anim = F9
postype = p1
pos = 42,-82
bindtime = 1
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F800,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 42,-82

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 39,-84

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 42,-78

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 27,-108

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 7,-130

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = -3,-122

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7
pos = 0,-40

[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 7
time = 12
add = 256,0,0
mul = 256,0,0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 7
anim = 26106
ID = 3517
pos = -10,0
postype = p1
bindtime = -1
sprpriority = -5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 0, Explod]
type = Explod
trigger1 = Animelem = 7
anim = 26105
ID = 3516
pos = -10,0
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = F5,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 5,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 7,23

[State 0, targetstate]
type = targetstate
trigger1 = p2stateno != 3016
trigger1 = AnimElem = 7
value = 3026

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = F4,3

[State 0, hitadd]
type = hitadd
trigger1 = AnimElem = 7
value = 1

[State 1000, Spark]
type = Explod
trigger1 = AnimElem = 7
Anim = F5
pos = -10, -40
postype = P2
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = 7
removeongethit = 1
ontop = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 7
time = 20
freq = 100
ampl = 12
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Animelem = 7
value = - 100
kill = 1
absolute = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3500]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
anim = 3500
ctrl = 0
sprpriority = 2

;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = ifelse(fvar(30) > 0,-1000,-2000)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 35

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 2
value = F9000,1

[State 3000, 1]
type = SuperPause
trigger1 = Time = 2
time = 35
movetime = 35
darken = 0
anim = -1

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 2
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 1000, Spark]
type = Explod
trigger1 = Time = 2
anim = F7100
pos = 7,-54
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = -99
persistent = 0
removeongethit = 1
sprpriority = -7
ontop = 0
scale = 0.5,0.5

[State 3200, 4]
type = Explod
trigger1 = Time = 2
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = Time = 2
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 1000, Spark]
type = Explod
trigger1 = Time = 2
anim = F7110
pos = 7,-54
postype = P1
ownpal = 1
bindtime = -1
pausemovetime = -1
supermove = 35
ignorehitpause = 1
sprpriority = 7
persistent = 0
removeongethit = 1
ontop = 1
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 7,14

[State 3000,]
type = VelSet
trigger1 = AnimElem = 5,>= 0
x = ifelse((p2bodydist x = [-5,20]),3,9)

[State 1000, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Cheap"
ID = 3000
stateno = 3001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 3000, Afterimage]
type = Afterimage
trigger1 = animelem = 5
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 3000, fterimagetime]
type = Afterimagetime
trigger1 = AnimElemtime(5) >= 0
trigger1 = gametime%2 = 0
time = 2

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, HT
damage = 0,0
animtype = Hard
hitflag = MADF
priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
p1stateno = 3510
p2stateno = 3520
p2facing = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
[Statedef 3510]
type = S
movetype = A
physics = S
juggle = 2
velset = 0,0
anim = 3510
ctrl = 0
sprpriority = 2

[state a]
type = velset
trigger1 = pos x < -50
trigger1 = facing = 1
x = 7

[state a]
type = velset
trigger1 = pos x > -36
trigger1 = facing = 1
x = -7

[state a]
type = velset
trigger1 = pos x >= -50 && pos x <= -36
trigger1 = facing = 1
x = 0

[state a]
type = velset
trigger1 = pos x > 50
trigger1 = facing = -1
x = 7

[state a]
type = velset
trigger1 = pos x < 36
trigger1 = facing = -1
x = -7

[state a]
type = velset
trigger1 = pos x <= 50 && pos x >= 36
trigger1 = facing = -1
x = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 60,0
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = [0,30]
trigger2 = Time = [39,55]
trigger3 = Time = [62,73]
trigger4 = Time = [84,110]
trigger5 = Time = [117,156]
time = 1
add = 0,0,0
mul = 0,0,0
color = 256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = [31,38]
trigger2 = Time = [56,61]
trigger3 = Time = [74,83]
trigger4 = Time = [111,116]
time = 1
add = 256,0,0
mul = 256,0,0
color = 256

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 31
trigger2 = time = 56
trigger3 = time = 77
trigger4 = time = 113
time = 10
ampl = 10
phase = 90
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 31
trigger2 = time = 56
trigger3 = time = 77
trigger4 = time = 113
value = -Enemynear,Lifemax * 0.07
ID = -1
kill = 0
absolute = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
trigger2 = time = 77
value = S25,13

[State 0, Explod]
type = Explod
trigger1 = time = 31
trigger2 = time = 77
anim = F6
pos = 60,-50
postype = p1
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 56
anim = F6
pos = 60,-30
postype = p1
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 113
anim = F6
pos = 60,-70
postype = p1
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 56
trigger2 = time = 113
value = F4,2

[State 0, TargetState]
type = TargetState
trigger1 = Time = 31
value = 3521
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = Time = 56
value = 3522
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = Time = 77
value = 3523
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = Time = 113
value = 3524
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = Time = 157
value = 3525
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 157
value = S7,49

[State 0, Explod]
type = Explod
trigger1 = time = 157
anim = 3530
pos = 30,-200
postype = p1
scale = .7,.7
sprpriority = 0
ownpal = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 157
value = -Enemynear,Lifemax * 0.1
ID = -1
kill = 1
absolute = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------
[Statedef 3520]
type = S
movetype = H
physics = S
juggle = 2
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 0,0,0
color = 256

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3520+var(55)*30000
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = Animelem = 2
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 100
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
[Statedef 3521]
type = S
movetype = H
physics = S
juggle = 2
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 0,0,0
color = 256

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3521+var(55)*30000
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = Animelem = 3
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1000
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
[Statedef 3522]
type = S
movetype = H
physics = S
juggle = 2
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 0,0,0
color = 256

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3522+var(55)*30000
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = Animelem = 3
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1000
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
[Statedef 3523]
type = S
movetype = H
physics = S
juggle = 2
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 0,0,0
color = 256

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3523+var(55)*30000
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = Animelem = 3
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1000
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
[Statedef 3524]
type = S
movetype = H
physics = S
juggle = 2
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 0,0,0
color = 256

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3524+var(55)*30000
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = Animelem = 3
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1000
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
[Statedef 3525]
type = L
movetype = H
physics = S
juggle = 2
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3525+var(55)*30000
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = Animelem = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 90
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = !Alive
value = 5150

[State 0, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5120

;-----------------------------------------------------------------------------------
[Statedef 3600]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd = -2000
anim = 3600
ctrl = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,3499]) && time = 0
trigger2 = prevstateno = 32011 && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];爆气中扣除爆气槽
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a];防止爆气条低于120(不同技能数字有区别)不出现字幕
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -2000

[State 0, HitBy]
type = HitBy
trigger1 = !IsHelper
trigger1 = 1
value = SCA

[State 0, HitBy]
type = notHitBy
trigger1 = !IsHelper
trigger1 = 1
value = SCA

[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
;-------------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------
[State 2420,5]
type = SuperPause
trigger1 = Time = 1
time = 30
anim = -1
p2defmul = 1
movetime = 30
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 1
anim = f7300
ID = 4010
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 5,-110
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 1
anim = f7310
ID = 4011
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 5,-110
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 1
value = F9000, 3

[State 0, HitDef]
type = HitDef
trigger1=time = 0
attr = S,HA     
hitflag = MAFD    
guardflag = MA     
animtype =hard 
air.animtype = medium
priority = 4,Hit
damage = 30,5
getpower = 20,10
givepower = 0,0
pausetime = 15,15
guard.pausetime =10,10
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-50
hitsound =5,3
guardsound = 6,1
ground.type = low   
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.velocity = -5
ground.velocity = -5,0
air.velocity = -5,0
p1stateno = 3605
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4975,ifelse(p2statetype = C && P2movetype != A,4277,4330)))
p2facing =1
envshake.time = 20
envshake.ampl = 8
envshake.freq = 120
envshake.phase = 120
yaccel = .35
kill = 0
id = 3600

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;==============================================================================
[Statedef 3605]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3605
ctrl = 0
sprpriority = 2

[state a]
type = velset
trigger1 = pos x < -50
trigger1 = facing = 1
x = 7

[state a]
type = velset
trigger1 = pos x > -36
trigger1 = facing = 1
x = -7

[state a]
type = velset
trigger1 = pos x >= -50 && pos x <= -36
trigger1 = facing = 1
x = 0

[state a]
type = velset
trigger1 = pos x > 50
trigger1 = facing = -1
x = 7

[state a]
type = velset
trigger1 = pos x < 36
trigger1 = facing = -1
x = -7

[state a]
type = velset
trigger1 = pos x <= 50 && pos x >= 36
trigger1 = facing = -1
x = 0

[State 1000]
type = targetbind
trigger1 = 1
pos = 60,0

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 5
value = s188, 0

[State 0, HitBy]
type = HitBy
trigger1 = !IsHelper
trigger1 = 1
value = SCA

[State 0, HitBy]
type = notHitBy
trigger1 = !IsHelper
trigger1 = 1
value = SCA

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 3610

;==============================================================================
[Statedef 3610]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3610
ctrl = 0
sprpriority = 2

[State 1000]
type = targetbind
trigger1 = time <130
pos = 60,0

[State 0, HitBy]
type = HitBy
trigger1 = !IsHelper
trigger1 = 1
value = SCA

[State 0, HitBy]
type = notHitBy
trigger1 = !IsHelper
trigger1 = 1
value = SCA

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------
[Statedef 3650]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -.05
y = 0

[State 52, 2]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value =4340+var(55)*30000

[State 0, SelfState]
type = SelfState
trigger1 = time = 500
value = 7311
ctrl =1

;---------------------------------------------------------------------------------
[Statedef 3655]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -.05
y = 0

[State 52, 2]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value =5300+var(55)*30000

[State 0, SelfState]
type = SelfState
trigger1 = time = 500
value = 0
ctrl =1

;----------------------------------------------------------------------------------
[Statedef 3620]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3620
ctrl = 0
sprpriority = 2

[State 1100, 1]
type = Helper
triggerall = IsHelper
trigger1 = time = 0
id = 3630
sprpriority = 921
postype = P1
pos = 80,0
stateno = 3630
helpertype = normal
keyctrl = 0
ownpal = 1
ontop = 1
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999

[State 0, HitBy]
type = HitBy
trigger1 = IsHelper
trigger1 = 1
value = SCA

[State 0, HitBy]
type = notHitBy
trigger1 = IsHelper
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = IsHelper
trigger1 = 1
x = 15
y = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = IsHelper
trigger1 = time = 0
time = -1
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,0,250
length = 10
paladd = 0,0,0
palmul = .65,.65,.75
timegap = 1
framegap =1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = IsHelper
trigger1 = 1
scale = 1.5,1.5

[State 0, Trans]
type = Trans
trigger1 = IsHelper
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = IsHelper
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
trigger1 = IsHelper
trigger1 =time = 0
attr = S,HA      
hitflag = MAFD      
guardflag = MA      
animtype =hard  
air.animtype = medium
priority = 4,Hit
damage = 30,5
pausetime = 0,0
guard.pausetime =10,10
sparkno = 5
guard.sparkno = 42
sparkxy = -10,-50
hitsound = 4,3
guardsound = 6,1
ground.type = low     ;Low,Trip,None
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.velocity = -5
ground.velocity = -5,0
air.velocity = -5,0
id = 3620
getpower = 20,10
givepower = 0,0
envshake.time = 20
envshake.ampl = 8
envshake.freq = 120
envshake.phase = 120
yaccel = .35
kill =0
p2stateno =3660

[State 0, DestroySelf]
type = DestroySelf
trigger1 = IsHelper
trigger1 = BackEdgeBodyDist <-1

;--------------------------------------------------------------------------------
[Statedef 3660]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 5

[state a]
type = velset
trigger1 = time =0
x = -15
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3660+var(55)*30000

[state a]
type = changestate
triggerall = animelem = 2,>=0
trigger1 = backEdgebodydist <=10
trigger2 = time >=100
value = 3670

;----------------------------------------------------------------------
[Statedef 3670]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 5

[State 1027, 撞墙声音]
type = PlaySnd
trigger1 = Time = 0
value = F5000,2

[State 1027, 撞墙震动]
type = envshake
trigger1 = !Time
time = 10

[State 1000, 撞墙火花]
type = Explod
trigger1 = time = 0
anim = F70
pos = -10,-70
postype = p1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 3670+Var(55)*30000 

[State 0, LifeAdd]
type = LifeAdd
Trigger1 = Time = 0
value = -300
kill = 1
absolute = 1

[State 0, EnvShake]
type = EnvShake
Trigger1 = Time = 0
time = 50
freq = 100
ampl = 11

[State 0, Pause]
type = Pause
trigger1 = time=[0,20]
time = 4

[State 0, EnvColor]
type = EnvColor
Trigger1 = Time = 0
value = 255,255,255
time = 1
under = 0

[State 1];J
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state a]
type = changestate
trigger1 = Time = 2
value = 4298

;---------------------------------------------------------------------------------
[Statedef 3630]
type = A
movetype = A
physics = N
anim = 10000
ctrl = 0
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = IsHelper
trigger1 = 1
x = 15
y = 0

[State 0]
type = AssertSpecial
trigger1 = IsHelper
trigger1 = 1
flag = invisible

[State 0]
type = NotHitBy
trigger1 = IsHelper
trigger1 = 1
value = SCA

[State 800, 1]
type = PlaySnd
trigger1 = IsHelper
trigger1 = root,var(3)!=50
trigger1 = time%10=0
value = F778,2
channel = 0

[State 1230]
type = VarRandom
trigger1 = IsHelper
trigger1 = root,var(3) <50
trigger1 = 1
v = 4
range = -5,-1

[State 1230]
type = VarRandom
trigger1 = IsHelper
trigger1 = root,var(3) =70
trigger1 = 1
v = 4
range = -1,0

[State 1230]
trigger1 = IsHelper
type = VarRandom
trigger1 = 1
v = 5
range = -2,-1

[State 2000, 7]
type = Varset
trigger1 = IsHelper
trigger1 = root,var(3) <50
var(6) = -1

[State 2000, 7]
type = Varset
trigger1 = IsHelper
trigger1 = root,var(3) =70
var(6) = -1

[State 1000, 5]
type = Explod
trigger1 = IsHelper
trigger1 = root,var(3)!=50
trigger1 = time%2=0
anim = F13425
id = 8
sprpriority = 903
postype = p1
pos = -15,17
bindtime =  1
supermove = 1
vel = var(6),0
under = 0
ownpal = 1
scale =1-(Random/250.0)*.1,1-(Random/250.0)*.1

[State 1000, 5]
type = Explod
trigger1 = IsHelper
trigger1 = root,var(3)!=50
trigger1 = time%2=0
anim = F13425
id = 8
sprpriority = 921
postype = p1
pos = -18,22
bindtime =  1
supermove = 1
vel = var(6),0
under = 0
ownpal = 1
scale =1-(Random/250.0)*.1,1-(Random/250.0)*.1

[State 1000, 5]
type = Explod
trigger1 = IsHelper
trigger1 = root,var(3)!=50
trigger1 = time%2=0
anim = F8881
id = 8
sprpriority = 915
postype = p1
pos = 10-floor(Random/250.0),-34
bindtime =  1
supermove = 1
under = 0
ownpal = 1
scale =.5,.5
vel = var(4),var(5)
accel = 0,.44
removetime =35

[State 1000, 5]
type = Explod
trigger1 = IsHelper
trigger1 = root,var(3)!=50
trigger1 = time%2=0
anim = F8882
id = 8
sprpriority = 914
postype = p1
pos = 5+floor(Random/250.0),1+floor(Random/250.0)
bindtime =  1
supermove = 1
under = 0
ownpal = 1
scale =.5,.5
vel = var(4),var(5)
accel = 0,.44
removetime =35

[State 1000, 5]
type = Explod
trigger1 = IsHelper
trigger1 = root,var(3)!=50
trigger1 = time%2=0
anim = F8881
id = 8
sprpriority = 910
postype = p1
pos = -15-floor(Random/250.0),-30
bindtime =  1
supermove = 1
under = 0
ownpal = 1
scale =.5,.5
vel = var(4),var(5)
accel = 0,.44
removetime =35

[State 1000, 5]
type = Explod
trigger1 = IsHelper
trigger1 = root,var(3)!=50
trigger1 = time%2=0
anim = F8882
id = 8
sprpriority = 915
postype = p1
pos = 15+floor(Random/250.0),-5+floor(Random/250.0)
bindtime =  1
supermove = 1
under = 0
ownpal = 1
scale =.5,.5
vel = var(4),var(5)
accel = 0,.44
removetime =35

[State -2, 1]
type = removeExplod
trigger1 = root,var(3)=50
ID = 8

[State 0, DestroySelf]
type = DestroySelf
trigger1 = IsHelper
trigger1 = root,stateno!=3610

;------------------------------------------------------------------------------
[Statedef 3357]
type     = S
movetype = A
physics  = S
velset   = 0,0
anim     = 3357
ctrl     = 0
poweradd = ifelse(var(30) > 0,-1000,-2000)
facep2 = 1
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
trigger2 = prevstateno = 32011 && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2300, 9]
type = superPause
trigger1 = Time = 1
time = 40
movetime = 40
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 1
anim = f7100
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 16,-35
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 1
anim = f7110
scale = .5,.5
ownpal = 1
facing = 1
postype = p1
pos = 16,-35
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f996
scale=0.5,0.5
id = 996
postype = p1
pos=-25,60
sprpriority = 6
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3200, 4]
type = Explod
trigger1 = time=1
anim = f995
scale=0.5,0.5
id = 995
postype = p1
pos=-25,60
sprpriority = -1
supermove = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 1
value = F9000, 1

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nofg
flag1 = noshadow
flag2 = nobg
ignorehitpause = 1

[State x]
type = VelSet
trigger1 = AnimElem = 3
x = 15.0

[State 3000, G]
type = HitBy
trigger1 = AnimElem = 8,<0
value = SCA, AT, AP
time = 1

[State 1410, 2]
type = ReversalDef
trigger1 = AnimElem = 4,>=0&&AnimElem = 8,<0
reversal.attr = SA, NA
pausetime = 10,11
sparkno = 42
hitsound = 6,1

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElem = 10,>=0
value = 255,0,0
time = 1
under = 1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 3911
ID = 1010
pos = -5,5
postype = p1
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = .5,.5
trans = add
alpha = 200,220

[State 0, Explod]
type = Explod
trigger1 = Animelem = 9
anim = 3913
ID = 1010
pos = -20,0
postype = p1
bindtime = -1
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = .5,.5
trans = sub

[State 1001, 7]
type = HitDef
trigger1 = AnimElem = 9,>=0&&movecontact=0
attr = S, HA
animtype = Hard
damage = 800,10
givepower = 20,20
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitflag = MAF
guardflag = M
pausetime = 5,12
hitsound = 5,15
guardsound = 6,1
ground.type = High
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = -10
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = ifelse(enemy,var(0) = 1,4805,4015)
id=90000
palfx.time = 50
palfx.add = 0,0,0
palfx.mul = 0,0,0
palfx.sinadd = 0,0,0,0
palfx.color = 0
palfx.invertall = 1

[State 3000,1] 
type = Explod
trigger1 = MoveHit = 1
anim = 66
pos = 0,-60
sprpriority = 3
supermove = 2
Bindtime = 1
facing = -1
postype = p2

[State 3000,1] 
type = Explod
trigger1 = MoveHit = 1
anim = F5
pos = 0,-60
sprpriority = 3
supermove = 2
Bindtime = 1
facing = -1
postype = p2

[State 3000,1] 
type = Explod
trigger1 = MoveGuarded = 1
anim = F42
pos = 0,-60
sprpriority = 3
supermove = 2
Bindtime = 1
facing = -1
postype = p2

[State 1000, 2]
type = Width
trigger1 = AnimElem = 1
value = 55,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 5,16

[State 2000, 15]
type = EnvColor
trigger1 = movehit=1
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11
value = 5,15

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3750]
type = S
movetype = A
physics = S
anim = 3750
poweradd = -2000
ctrl = 0
velset = 0
facep2 = 1
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,3499]) && time = 0
trigger2 = prevstateno = 32011 && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
[State 210, 0]
type = VarSet
trigger1 = fVar(32)= 0&&Var(48)=3
v = 48
value = 0

[State 210, 0]
type = Varadd
trigger1 = time = 0&&Var(48)=3
fv = 32
value = -1
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];爆气中扣除爆气槽
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a];防止爆气条低于120(不同技能数字有区别)不出现字幕
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
[State -2, 0]
type = PalFX
triggerall = timemod = 2,0 && time <= 14
trigger1 =var(31) = 1|var(32) = 1|var(32) = 2
time = 3
add = 255,255,255
mul = 255,255,255
color = 1
ignorehitpause = 1

[State 3000, 1]
type = Varset
trigger1 = time = 0
var(10) = 0

[State 2000, 7]
type = VarSet
trigger1 = prevstateno != [3000,3999]
trigger1 = time = 0
var(11) = 0

[State 2000, 7]
type = VarSet
trigger1 = prevstateno = [3000,3999]
trigger1 = time = 0
var(11) = 1

[State 3000, G]
type = HitBy
trigger1 = 1
value = SCA, NT, ST
time = 5
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
;-------------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------

;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nofg
flag1 = noshadow
flag2 = Nobg
ignorehitpause = 1

[State 2200, 8]
type = SuperPause
trigger1 = Time = 1
time = 30
movetime = 30
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 1
anim = f7300
ID = 7300
ownpal = 1
facing = 1
postype = p1
pos = 7,-54
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 1
anim = f7310
ID = 7310
ownpal = 1
facing = 1
postype = p1
pos = 7,-54
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 1
value = F9000,3

[State 2000, 7]
type = VarSet
trigger1 = time = 0
var(2) = 0

[State 1001, 7]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype = Hard
damage = 30,0
getpower  = 0,0
givepower = 20,20
sparkno = 3
guard.sparkno = 41
sparkxy = -25,-70
hitflag = MAF
pausetime = 7,8
hitsound = 5,1
guardsound = 6,1
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1
p2stateno = ifelse(enemy,var(0) = 1,4835,4115)
id=3766

[State 8110, 4]
type = VelSet
trigger1 = AnimElem = 7,>=0
x = 10.5

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nofg
flag1 = noshadow
flag2= Nobg
ignorehitpause = 1

[State 2210, 19]
type = ChangeState
trigger1 = Hitover=1
trigger1 = numtarget(3766)>0
value = 3760

[State 1002, 4]
type = ChangeState
trigger1 = AnimElem = 7,>=15
trigger2 = MoveContact = 1
value = 3751

;---------------------------------------------------------------------------
[Statedef 3751]
type = S
movetype = I
physics = S
anim = 3751
ctrl = 0

[State 8110, 4]
type = VelSet
trigger1 = time = 0
x = 0

[State 2210, 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
[Statedef 3760]
type = S
movetype = A
physics = S
anim = 3761

[State 1300, 3]
type = HitDef
trigger1 = AnimElem = 6,1
attr = S, HT
animtype = Medium
damage = 20,0
getpower = 0,0
givepower = 20,20
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -15,-80
guardflag = M
pausetime = 0,0
hitsound = -1
guardsound = 6,1
ground.type = high
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4945,ifelse(p2statetype = C,4277,4275)))
kill = 0

[State 1300, 3]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HA
animtype = Medium
damage = 20,0
getpower = 0,0
givepower = 20,20
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -15,-80
guardflag = M
pausetime = 1,0
hitsound = -1
guardsound = 6,1
ground.type = low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4985,ifelse(enemy,var(0) = 1,4945,ifelse(p2statetype = C,4277,4275)))
kill = 0

[State 1300, 3]
type = HitDef
trigger1 = AnimElem = 17,1
attr = S, HT
animtype = Hard
damage = 20,0
getpower = 0,0
givepower = 20,20
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -15,-80
guardflag = M
pausetime = 2,1
hitsound = -1
guardsound = 6,1
ground.type = high
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4490,ifelse(enemy,var(0) = 1,4450,ifelse(p2statetype = C,4480,4425)))
kill = 0

[State 1300, 3]
type = HitDef
trigger1 = AnimElem = 23 || AnimElem = 24 || AnimElem = 25|| AnimElem = 26
attr = S, HA
animtype = Hard
damage = 20,0
getpower = 0,0
givepower = 20,20
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -15,-80
guardflag = M
pausetime = 7,6
hitsound = -1
guardsound = 6,1
ground.type = low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -3
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4490,ifelse(enemy,var(0) = 1,4450,ifelse(p2statetype = C,4480,4425)))
kill = 0

[State 1300, 3]
type = HitDef
trigger1 = AnimElem = 30 || AnimElem = 31 || AnimElem = 32
attr = S, HA
animtype = Hard
damage = 20,0
getpower = 0,0
givepower = 20,20
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -15,-80
guardflag = M
pausetime = 7,6
hitsound = -1
guardsound = 6,1
ground.type = high
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -3
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4490,ifelse(enemy,var(0) = 1,4450,ifelse(p2statetype = C,4480,4425)))
kill = 0

[State 1300, 3]
type = HitDef
trigger1 = AnimElem = 33
attr = S, HA
animtype = Hard
damage = 20,0
getpower = 0,0
givepower = 20,20
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -15,-80
guardflag = M
pausetime = 10,25
hitsound = -1
guardsound = 6,1
ground.type = high
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = C && enemy,var(0) = 1,4490,ifelse(enemy,var(0) = 1,4450,ifelse(p2statetype = C,4480,4425)))
kill = 0

[State 2210, 19]
type = targetstate
trigger1 = time = 0
value = 3003

[State 1000, 2]
type = Width
trigger1 = AnimElem = 1
value = 55,0

[State 1360, Bind1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 8110, 4]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 2210, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,44
channel = 30

[State 3000,1] 
type = Explod
trigger1 = Animelem = 6 || Animelem = 10
anim = F3
postype = p1
pos = 50, -60
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1

[State 114, 10]
type = MoveHitReset
trigger1 = MoveHit = 1
ignorehitpause = 1

[State 3000,1] 
type = Explod
trigger1 = AnimElem = 23 || AnimElem = 24 || AnimElem = 25|| AnimElem = 26
trigger2 = AnimElem = 30 || AnimElem = 31 || AnimElem = 32|| AnimElem = 33
trigger3 = AnimElem = 17
anim = F6
pos = 0,-60
postype = p2
facing=-1
sprpriority = 3
supermove = 2
Bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 2210, 2]
type = PlaySnd
trigger1 = AnimElem = 23 || AnimElem = 24 || AnimElem = 25|| AnimElem = 26
value = F4,3
channel = 20
ignorehitpause = 1

[State 2210, 2]
type = PlaySnd
trigger1 = AnimElem = 23 || AnimElem = 24 || AnimElem = 25|| AnimElem = 26
trigger2 = AnimElem = 30 || AnimElem = 31 || AnimElem = 32|| AnimElem = 33
value = F4,2
channel = 20
ignorehitpause = 1

[State 2210, 2]
type = PlaySnd
trigger1 = Animelem = 6 || Animelem = 10||AnimElem = 17
value = F4,3
channel = 20

[State 2000]
type = Explod
trigger1 = animelem = 23
anim = 3334
postype = p1
pos = -20,0
sprpriority = 5
scale = 1.1,1.3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = animelem = 24
anim = 3335
pos = -20,0
postype = p1
sprpriority = 5
scale = 1.1,1.3
ownpal = 1
bindtime = 1
supermove = 1
Trans = addalpha
Alpha = 20,100

[State 2000]
type = Explod
trigger1 = animelem = 30
anim = 3351
postype = p1
pos = 5,0
sprpriority = 5
scale = 1,1.1
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = animelem = 30
anim = 3353
postype = p1
pos = 5,0
sprpriority = 5
scale = 1,1.1
ownpal = 1
bindtime = 1
supermove = 1

[State 1105, 3]
type = EnvColor
trigger1 = AnimElem = 23 || AnimElem = 24 || AnimElem = 25|| AnimElem = 26
trigger2 = AnimElem = 30 || AnimElem = 31 || AnimElem = 32|| AnimElem = 33
trigger3 = AnimElem = 17
value = 255,255,255
under = 1
time = 1
ignorehitpause = 1

[State 2355, 10]
type = AssertSpecial
trigger1 = AnimElem = 23 || AnimElem = 24 || AnimElem = 25|| AnimElem = 26
trigger2 = AnimElem = 30 || AnimElem = 31 || AnimElem = 32|| AnimElem = 33
trigger3 = AnimElem = 17
flag = NoFG
time = 1
ignorehitpause = 1

[State 3500, 9]
type = BGPalfx
trigger1 = 1
ignorehitpause = 1
time = 1
add = 0,10,80
sinadd = 250-time,50-time,50-time,120-time
mul = 160,12,10
invertall = 0

[State 2210, 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 3761

;---------------------------------------------------------------------
[Statedef 3761]
type = S
movetype = A
physics = S
anim = 3762
ctrl = 0
velset = 0
facep2 = 1

[state width]
type = width
trigger1 = time = 0
edge = 90

[State 9200, 1]
type = posadd
trigger1 = AnimElem = 3 || AnimElem = 4
x = 5

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nobg
flag1 = noshadow
flag2= Nofg
ignorehitpause = 1

[State 1000, 5]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HT
animtype = Hard
damage = 10,0
getpower  = 0
givepower = 20,20
hitflag = MAFD
guardflag = M
sparkno = -1
guard.sparkno = 42
sparkxy = 0,-110
pausetime = 0,0
hitsound = 55,1
guardsound = 6,1
ground.type = Low
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = 4
envshake.phase = 120
p2stateno = ifelse(enemy,var(0) = 1,4605,4600)
p2facing = 1
p2getp1state = 1
kill = 0
id=3760

[State 1101, 23]
type = ChangeState
trigger1 = AnimElem = 7,>0
trigger1 = numtarget(3760)>0
value = 3762

[State 2210, 19]
type = ChangeState
trigger1 = AnimElem = 8
trigger1 = numtarget(3760)=0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3762]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0
facep2 = 1

[State 800, 1]
type = PlaySnd
trigger1 = time=5
value = 804,7

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nobg
flag1 = noshadow
flag2= Nofg
ignorehitpause = 1

[State 1000]
type = Explod
trigger1 = AnimElem = 8
anim = F63
postype = p1
facing = facing
ignorehitpause = 1
postype = p1
pos = 53,0
sprpriority = 2

[State 3121, 1]
type = Helper
trigger1 = AnimElem = 8
id = 8882
postype = p1
pos = 53, 0
sprpriority = 10
stateno = 8882
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999 
pausemovetime = 99999

[State 1270, 9]
type = PlaySnd
trigger1 = AnimElem = 8
value = F7,0

[State 1000, 2]
type = Width
trigger1 = AnimElem = 8
value =130,0

[State 183, 3]
type = EnvShake
trigger1 = AnimElem = 8
ignorehitpause = 1
freq = 170
ampl = 7
phase = 170
time = 20

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = F800,0
volume = 0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 14
value = 3,41
volume = -80

[State 1105, 3]
type = EnvColor
trigger1 = time%10 = 0 && AnimElem = 18,>=1
value = 255,255,255
under = 1
time = 1

[State 3500, 13]
type = AssertSpecial
trigger1 = 1
flag = Nofg
flag1 = noshadow
ignorehitpause = 1

[State 903, 11]
type = TargetLifeAdd
trigger1 = time%10 = 0 && AnimElem = 18,>=1
value = -10
kill = 0

[State 903, 11]
type = LifeAdd
trigger1 = time%10 = 0 && AnimElem = 18,>=1
trigger1 = Life<1000
value = 1

[State 0, 2]
type = palfx
trigger1 = time%10 = 0 && AnimElem = 18,>=1
time=5
color = 16
ignorehitpause=1
add = 250,0,0
mul = 250,250,250
sinadd = 80,95,40,12
invertall = 0

[State 10100, 1]
type = Explod
trigger1 = time%2= 0 && AnimElem = 18,>=1
anim = 3770
id = 3770
pos = 76,0
postype = p1
ownpal = 1
scale = 2,1
sprpriority = 2
ignorehitpause = 1

[State 1105, 3]
type = HitAdd
trigger1 = time%10 = 0 && AnimElem = 18,>=1
value = 1

[State 0, VarSet]
type = VarAdd
trigger1 = time%10 = 0 && AnimElem = 18,>=1
fv = 8
value = 1+(fvar(11))*(var(10)!=0)
ignorehitpause = 1

[State 2200, 3]
type = PlaySnd
trigger1 = time%10 = 0 && AnimElem = 18,>=1
value = F55,1
channel = 0

[State 1000, 5]
type = Explod
trigger1 = time%10 = 0 && AnimElem = 18,>=1
anim = f30648
id = 8880
sprpriority = 5-(Random < 500)*10
postype = p1
pos = 50+Random%22,40+Random%22
bindtime =  1
supermove = 1
under = 0
ownpal = 1
vel = (Random%22)*.1,-(Random%22)*.3
accel = 0,.44
removetime =10

[State 1100, 1]
type = Helper
trigger1 = Animelem = 19
postype = P2
pos = 0,35
stateno = 3753
helpertype = normal
keyctrl = 0 
ownpal = 1
ontop = 1
persistent = 0

[State 855, Bind2]
type = TargetBind
trigger1 = animelem = 8, >= 0
trigger1 = animelem = 10, < 0
pos = 51,-8

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 10,>=0
trigger1 = AnimElem = 11,<0
pos = 48,-10

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 11,>=0
trigger1 = AnimElem = 12,<0
pos = 58,-10

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 12,>=0
trigger1 = AnimElem = 13,<0
pos = 65,-27

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 13,>=0
trigger1 = AnimElem = 14,<0
pos = 66,-46

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 14,>=0
trigger1 = AnimElem = 15,<0
pos = 63,-70

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 15,>=0
trigger1 = AnimElem = 16,<0
pos = 65,-88

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 16,>=0
trigger1 = AnimElem = 17,<0
pos = 70,-105

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 17,>=0
trigger1 = AnimElem = 18,<0
pos = 72,-108

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 18,>=0
pos = 73,-113

[State 2210, 19]
type = targetstate
trigger1 = time = 0
value = 3752

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 16
value = 5,31

[State 2210, 19]
type = ChangeState
trigger1 = time = 125
value = 3763

;----------------------------------------------------------------------
[Statedef 3763]
type = S
movetype = A
physics = S
anim = 3763
poweradd = 0
ctrl = 0
velset = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 1,>=0
time = 1
add = 0+time,0,0
mul = 256-time,0,0
ignorehitpause = 1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 4,5
value = 5,16

[State 183, 3]
type = EnvShake
trigger1 = AnimElem = 4,1
ignorehitpause = 1
freq = 170
ampl = 7
phase = 170
time = 20

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 4,1
value = 5,15
volume = 0

[State 0, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 26105;21110
ID = 1010
pos = 53,0
postype = p1
bindtime = -1
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = .5,.5
trans = add
alpha = 200,220

[State 0, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 26106;21110
ID = 1010
pos = 53,0
postype = p1
bindtime = -1
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
scale = .5,.5
trans = add
alpha = 200,220

[State 903, 11]
type = TargetLifeAdd
trigger1 = AnimElem = 4,1
value = -150

[State 1105, 3]
type = HitAdd
trigger1 = AnimElem = 4,1
value = 1

[State 0, VarSet]
type = VarAdd
trigger1 = AnimElem = 4,1
fv = 8
value = 1+(fvar(11))*(var(10)!=0)
ignorehitpause = 1

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 2,>=0
trigger1 = AnimElem = 3,<0
pos = 58,-124

[State 3202, targetbind]
type = targetbind
trigger1 = AnimElem = 3,>=0
trigger1 = AnimElem = 4,<2
pos = 53,-118

[State 1105, 3]
type = EnvColor
trigger1 = AnimElem = 4,>0
trigger1 = AnimElem = 10,<0
trigger1 = timemod = 2,0
value = 255,255,255
under = 1
time = 1
ignorehitpause = 1

[State 3000,1] 
type = Explod
trigger1 = AnimElem = 4,2
anim = 66
pos = 0,-60
sprpriority = 3
supermove = 2
Bindtime = 1
facing = -1
postype = p2
persistent = 0

[State 2210, 19]
type = targetstate
trigger1 = AnimElem = 4,1
value = 4050

[State -2, 5]
type = Pause
trigger1 = enemy,var(54) != 1
trigger1 = AnimElem = 4,>0&&AnimElem = 10,<0
trigger1 = timemod = 2,0
time = 1
movetime = 0

[State 2210, 19]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
[Statedef 3752]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[state screenbound]
type = screenbound
trigger1 = 1
value = 1     
movecamera = 0,0

[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 1320, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3250+var(55)*30000

;--------------------------------------------------------------------------
[Statedef 3753]
type = A
movetype = I
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 10000

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,220

[State 800, 1]
type = PlaySnd
trigger1 = time=0
value = 804,6

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1230]
type = VarRandom
trigger1 = time = [0,2]
v = 2
range = 30,50

[State 1230]
type = VarRandom
trigger1 = time = [0,2]
v = 5
range = -10,-7

[State 1000, 5]
type = Explod
trigger1 = time%4=0
anim = f30648
id = 8880
sprpriority = 5-(Random < 500)*10
postype = p1
pos = -14-floor(Random/200.0)*10+floor(Random/200.0)*10,-10+floor(Random/200.0)
bindtime =  1
supermove = 1
under = 0
ownpal = 1
vel = var(2)*0.01,var(5)
accel = 0,.44
removetime =35

[State 1000, 5]
type = Explod
trigger1 = time%4=0
anim = f30648
id = 8880
sprpriority = 5-(Random < 500)*10
postype = p1
pos = -23+floor(Random/250.0)*10-floor(Random/250.0)*10,-4-floor(Random/200.0)
bindtime =  1
supermove = 1
under = 0
ownpal = 1
vel = var(2)*0.01,var(5)
accel = 0,.44
removetime =35

[State 1000, 5]
type = Explod
trigger1 = time%4=0
anim = f30648
id = 8880
sprpriority = 5-(Random < 500)*10
postype = p1
pos = 15+floor(Random/200.0)*10-floor(Random/200.0)*10,0+floor(Random/200.0)
bindtime =  1
supermove = 1
under = 0
ownpal = 1
vel = var(2)*0.01,var(5)
accel = 0,.44
removetime =35

[State 1000, 5]
type = Explod
trigger1 = time%4=0
anim = f30648
id = 8880
sprpriority = 5-(Random < 500)*10
postype = p1
pos = 22+floor(Random/250.0)*10-floor(Random/200.0)*10,-4-floor(Random/200.0)
bindtime =  1
supermove = 1
under = 0
ownpal = 1
vel = var(2)*0.01,var(5)
accel = 0,.44
removetime =35

[State 1000, 5]
type = Explod
trigger1 = time%4=0
anim = f30648
id = 8880
sprpriority = 5-(Random < 500)*10
postype = p1
pos = 0+floor(Random/200.0)*10,0+floor(Random/200.0)
bindtime =  1
supermove = 1
under = 0
ownpal = 1
vel = var(2)*0.01,var(5)
accel = 0,.44
removetime =35

[State 1200, 1]
type = EnvShake
trigger1 = time%6
time = 6
ampl = 3
freq = 100

[State 1230]
type = destroyself
trigger1 = time >= 100

;--------------------------------------------------------------------------------
[Statedef 3754]
type = S
anim = 10000
velset = 0,0
ctrl = 0

[State 10100, 1]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 10100, 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 10100, 1]
type = Explod
trigger1 = !NumExplod(13420)
trigger1 = time = 0
anim = F13420
id = 13420
pos = 5,15
postype = p1
ownpal = 1
scale = 0.5,0.5
sprpriority = 1
ignorehitpause = 1

[State 10100, 1]
type = Explod
trigger1 = !NumExplod(13421)
trigger1 = time = 5
anim = F13421
id = 13421
pos = 0,15
postype = p1
ownpal = 1
scale = 0.5,0.5
sprpriority = 2
ignorehitpause = 1

[State 10100, 1]
type = Explod
trigger1 = !NumExplod(13423)
trigger1 = time = 0
anim = F13423
id = 13423
pos = -5,15
postype = p1
ownpal = 1
scale = 0.5,0.5
sprpriority = 3
ignorehitpause = 1

[State 10100, 1]
type = Explod
trigger1 = !NumExplod(13422)
trigger1 = time = 10
anim = F13422
id = 13422
pos = 0,15
postype = p1
ownpal = 1
scale = 0.5,0.5
sprpriority = 4
ignorehitpause = 1
Trans = add1;addalpha
Alpha = 220,255

[State 10061, 1]
type = DestroySelf
trigger1 = time = 10

;-------------------------------------------------------------------------------
[Statedef 3800]
type = S
movetype = I
physics = S
anim = 3800
poweradd = -2000
ctrl = 0
velset = 0
facep2 = 1
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------
;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State 2200, 8]
type = SuperPause
trigger1 = Time = 0
time = 33
movetime = 33
anim = -1
darken = 0

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 0
anim = f7300
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 0,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 0
anim = f7310
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 0,-65
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 0
value = F9000, 2

[State 3000, G]
type = HitBy
trigger1 = 1
value = SCA, NT, ST
time = 5

[State 3800, 2]
type = PlaySnd
trigger1 = time = 0
value = 7756,0

[State 3500, 13]
type = AssertSpecial
trigger1 = Time = [0,30]
flag = Nofg
flag1 = noshadow
ignorehitpause = 1

[State 2210, 19]
type = ChangeState
trigger1 = animtime = 0
value = 3810

;-----------------------------------------------------------------------------
[Statedef 3810]
type = A
movetype = I
physics = N
anim = 3810

[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
movetype = A

[State 5040, 4]
type = StateTypeSet
trigger1 = p2movetype != A
movetype = I

[State 3000, G]
type = HitBy
trigger1 = 1
value = SCA, NT, ST
time = 2

[State 2041, 2]
type = Afterimage
trigger1 = time = 0
time = 2
length = 10
FrameGap = 3
PalBright = 0,0,0
palcolor = 1
PalContrast = 170,170,255
PalAdd = 0,0,0
PalMul = 1,1,1
trans = none

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 1001, 2]
type = PosAdd
trigger1 = time = [0,1]
x = 20
y = -8

[State 1001, 3]
type = VelSet
trigger1 = Time = 0
x = 14

[State 1001, 3]
type = VelSet
trigger1 = Time = 0
y = -2

[State 1001, 4]
type = VelAdd
trigger1 = Time > 0
y = .35

[State 1001, 21]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 3820

;---------------------------------------------------------------------------------------
[Statedef 3820]
type = S
movetype = A
physics = S
anim = 3820
velset = 0,0

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 2
movetype = I

[State 1001, 7]
type = HitDef
trigger1 = time = 0
attr = S, ST
animtype = Hard
damage = 0,0
getpower  = 0,0
givepower = 20,20
sparkno = 9
guard.sparkno = -1
sparkxy = -25,-50
hitflag = M
pausetime = 1,1
hitsound = 800,0
guardsound = 6,2
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 17
guard.velocity = 0
p1stateno = 3830
p2stateno = 3840
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2facing = 1

[State 1002, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1002, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------  Succes desesperate move  ------------------------------------
[Statedef 3830]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 2411
sprpriority = 2

[state a]
type = velset
Trigger1 = AnimElemTime(3) >= 20 && AnimElemTime(5) < 0
trigger1 = pos x < -70
trigger1 = facing = 1
x = 7

[state a]
type = velset
Trigger1 = AnimElemTime(3) >= 20 && AnimElemTime(5) < 0
trigger1 = pos x > -56
trigger1 = facing = 1
x = -7

[state a]
type = velset
Trigger1 = AnimElemTime(3) >= 20 && AnimElemTime(5) < 0
trigger1 = pos x >= -70 && pos x <= -56
trigger1 = facing = 1
x = 0

[state a]
type = velset
Trigger1 = AnimElemTime(3) >= 20 && AnimElemTime(5) < 0
trigger1 = pos x > 70
trigger1 = facing = -1
x = 7

[state a]
type = velset
Trigger1 = AnimElemTime(3) >= 20 && AnimElemTime(5) < 0
trigger1 = pos x < 56
trigger1 = facing = -1
x = -7

[state a]
type = velset
Trigger1 = AnimElemTime(3) >= 20 && AnimElemTime(5) < 0
trigger1 = pos x <= 70 && pos x >= 56
trigger1 = facing = -1
x = 0

[State 2000]
type = PlaySnd
trigger1 = AnimElem = 5
value = 123,0

[State 2000]
type = Explod
trigger1 = AnimElem = 4
anim = 10101
postype = p1
pos = 65,-1
sprpriority = 5
ownpal = 1
bindtime = 1
supermove = 1
ignorehitpause = 1

[State 3000, 2]
type = AfterImage
trigger1 = Time = 0
time = 1
TimeGap  = 1
FrameGap = 5
Trans = Add1

[State 3040, 7]
type = EnvColor
trigger1 = animelem = 19,<=0
ignorehitpause = 1
time = 3
value = 0,0,0
under = 2

[State 1000, 2]
type = Width
trigger1 = AnimElem = 3, >= 0
value = 60,0

[State 1000, 2]
type = Width
trigger1 = AnimElem = 4, >= 0
value = 2,0

[State 1270, 6]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 1420, Damage1]
type = TargetLifeAdd
trigger1 = animelem = 5,5
value = -100
kill = 0

[State 1105, 3]
type = EnvColor
trigger1 = animelem = 5
value = 255,255,255
under = 1
time = 1

[State 2355, 10]
type = AssertSpecial
trigger1 = animelem = 5
flag = NoFG
time = 1
ignorehitpause = 1

[State 3121, 1]
type = Helper
triggerall = StageVar(info.author) != "water"
trigger1 = time = 0
id = 8882
postype = p1
pos = 70,10
sprpriority = 10
stateno = 11492
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999 
pausemovetime = 99999

[State 1000]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = time = 0
anim = F63
facing = facing
ignorehitpause = 1
postype = p1
pos = 70,0
sprpriority = 7
bindtime = -1

[State explod]
type = Explod
triggerall = StageVar(info.author) = "water"
trigger1 = time = 0
anim = f25
id = 2100
sprpriority = -2
postype = p1
pos = 79,-1
bindtime = 1
ignorehitpause = 0
under = 0
ownpal = 1

[State explod]
type = Explod
triggerall = StageVar(info.author) = "water"
trigger1 = time = 0
anim = f25
facing = -1
id = 2100
sprpriority = 6
postype = p1
pos = 79,-1
bindtime = 1
ignorehitpause = 0
under = 0
ownpal = 1

[State 855, whomp]
type = PlaySnd
triggerall = StageVar(info.author) = "water"
trigger1 = time = 0
value = F5000, 10
volume = 20

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = 40, -55

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 38, -25

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 35, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 33, 2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 20, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 17, -2

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 5, -50

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -95

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = 25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -10, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
pos = -25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
pos = -25, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemTime(13) >= 0 && AnimElemTime(14) < 0
pos = -17, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 14
pos = -5, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElem = 15
pos = 55, 0

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 200, ]
type = PlaySnd
trigger1 = Time = 0
value = 2,4

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 9
value = 2,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElemtime(3) = 20
value = 121,1

[State 200, ]
type = PlaySnd
trigger1 = Time= 85
value = 121,0

[State 200, ]
type = PlaySnd
trigger1 = AnimElem = 15
value = 18,10

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
value = s5,4

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 7
x = 30

[State 1000, u]
type = Velset
trigger1 = AnimElem = 9
x = 6

[State 1000, u]
type = Velset
trigger1 = AnimElem = 9
y = -7.5

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(9) > 0
y = .3

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 9
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 15
persistent = 0
anim = 1750
id = 1700
postype = P1
pos = 20,0
sprpriority = 10
bindtime = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 14
trigger2 = AnimElem = 20
persistent = 0
anim = 1760
postype = P1
pos = 0,0
sprpriority = 10
bindtime = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 15
persistent = 0
anim = 2450
postype = P1
pos = 50,-80
sprpriority = 10
bindtime = 1

[State 810, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value = -50
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 17
trigger4 = AnimElem = 18
;trigger5 = AnimElem = 19
attr = A, HA
damage = 105,0
getpower = 0
animtype = diagup
hitflag = MAF
priority = 3, Hit
pausetime = 2,14
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -60
hitsound = s18,10
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5.3,-7.8
air.velocity = -5.3,-7.8
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 19
attr = A, HA
damage = 105,0
getpower = 0
animtype = diagup
hitflag = MAF
priority = 3, Hit
pausetime = 2,14
sparkno = 2
guard.sparkno = 42
sparkxy = -25, -60
hitsound = s18,10
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5.3,-7.8
air.velocity = -5.3,-7.8
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 2100,]
type = Envcolor
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 18
time = 1
value = 255,255,255
under = 1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 2412

;--------------------------------------------
[Statedef 3840]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3840+Var(55)*30000

[State 820, 2]
type = SelfState
trigger1 = time>90
value = 5050

;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
;Yamibarai
[Statedef 2525]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 2525
ctrl     = 0
poweradd = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State 2525]
type = Explod
trigger1 = time = 0
anim = f7000
postype = p1
scale = .5,.5
pos = 0,-95
sprpriority = -4
ownpal = 1
bindtime = 1
supermove = 1

[State 2525]
type = Explod
trigger1 = time = 0
anim = f7010
postype = p1
scale = .5,.5
pos = 0,-95
sprpriority = 4
ownpal = 1
bindtime = 1
supermove = 1

[State 2525, ]
type = PlaySnd
trigger1 = time = 0
value = f9000,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,21

[State 906, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S10,0
channel = -1

[State 906, superpause]
type = SuperPause
trigger1 = Time = 0
time = 30
poweradd = ifelse(fvar(30) > 0,0,-1000)
movetime = 30
anim = -1

[State 2000, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 30
add = 0,0,0
mul = 0,0,0
invertall = 0
color = 1

[State 902, Explod]
type = Explod
trigger1 = time = 0
anim = 4022
pos = -11,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove = 1
sprpriority = 9

[State 902, Explod]
type = Explod
trigger1 = time = 0
anim = 4021
pos = -11,-86
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove =1
pausemove = 1
sprpriority = -1

[State 200, 3]
type = ChangeState
triggerall = AnimElemtime(6) > 0
trigger1 = time = 200
trigger1 = command = "holdx"
trigger2 = time = 200
trigger2 = command = "holdy"
trigger3 = command != "holdx"
trigger3 = command != "holdy"
trigger3 = animtime = 0
value = 2526

;-------------------------------------------------------------------------------
[Statedef 2526]
type     = S
movetype = A
physics  = N
juggle   = 0
velset   = 0,0
anim     = 2526
ctrl     = 0
sprpriority = 2

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 2503

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
id = 101

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S18,11

[State 10000, Helper]
type =  Helper
trigger1 = animelem = 4
helpertype = normal
name = "Efect"
ID = 2527
stateno = 2527
pos = 35,-10
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 3000]
type = Projectile
trigger1 = AnimElem = 4
projID = 2520
projanim = 2527
getpower = 0,15
projremove = 1
projpriority = 9
projsprpriority = 7
projshadow = 0,0,0
projhitanim = -1
getpower = 0,15
projhits = 4
projmisstime = 1
offset = 30,0
velocity = 1.5,0
attr = S, HP
damage = 70,10
animtype = Up
guardflag = M
hitflag = MAF
hitsound = s18,0
guardsound = s8,1
pausetime = 2,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,-75
ground.type = High
ground.hittime  = 22
ground.slidetime = 20
ground.velocity = -4,-7
air.velocity = -4,-7
guard.velocity = -10
fall.recover = 0
fall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[StateDef 2527]
type = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 10000
poweradd = 0
sprpriority = 8

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 1.5

[State 0, Explod]
type = Explod
trigger1 = time >=0
anim = 2528
ID = 2528
pos = 15,-65
postype = p1
bindtime = -1
random = 65,50
vel = 0,0
scale = .8,.8
sprpriority = 5
ownpal =1
;trans = add

[State 1000, DestroySelf]
type = DestroySelf
trigger1 = parent, NumProj = 0

;---------------------------------------------------------------------------
[Statedef 3900]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 100
velset   = 0,0
anim     = 3900
ctrl     = 0
sprpriority = 2
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------
;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State 12699,]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
poweradd = -2000
sound = f9000,3
movetime = 90
time = 90

[State 6000,黑色底色]
type = Envcolor
trigger1 = animelem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[State 12699, ?????]
type = Explod
trigger1 = animelem = 1
anim = F7300
pos = 0,-55
postype = p1
sprpriority = -1
supermove = 1
bindtime = 1
ownpal = 1
removeongethit = 1

[State 12699, ????]
type = Explod
trigger1 = animelem = 1
anim = F7310
pos = 0,-55
postype = p1
sprpriority = 8
supermove = 1
bindtime = 1
ownpal = 1
removeongethit = 1
ontop = 1

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 0

[State 1000, u]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 5
y = 0

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = 0

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 12699, GtFNg\]
type = Explod
trigger1 = time =50
persistent = 0
anim = 3901
postype = P1
sprpriority = 10
removetime = 23

[State 12699, 2]
type = PlaySnd
trigger1 = time = 2
value = 1146,0

[State 12699, 2]
type = PlaySnd
trigger1 = time = 45
value = 447,1

[State 12699,M SuperPause]
type = SuperPause
trigger1 = time = 50
time = 20
movetime = 20
anim = -1
sound = -1
pos = 0,-72
darken = 1
unhittable = 1

[state a]
type = ChangeState
trigger1 = time = 90
value = 3910

;----------------------------------------------------------------------------
[Statedef 3910]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3910
ctrl     = 0
sprpriority = 4

[State 10221, 人物放大]
type =AngleDraw
trigger1 = time <=16
scale = 1.3,1.3
ignorehitpause = 1

[State x]
type = Assertspecial
trigger1 = time = [3,28]
flag = noBG

[State x]
type = VelSet
trigger1 = AnimElem = 3
x = 15.0

[State 2000]
type = Explod
trigger1 = animelem = 3
anim = 3911
postype = P1
pos = 0,-10
sprpriority = 5
scale = .5,.5
ownpal = 1
bindtime = -1
supermove = 1
ignorehitpause = 1

[State 6000,白?????]
type = Envcolor
trigger1 = animelem = 1,=1
persistent = 0
ignorehitpause = 1
value = 255,255,255
time = 1
under = 1
supermove = 1

[State 6000,???????]
type = Envcolor
trigger1 = animelem = 1,=2
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 30
under = 1
supermove = 1
darken = 0

[State 5110, EnvShake]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 40

[State 2000, ?K?E?Z??????????~]
type = SuperPause
trigger1 = prevstateno = 3015
trigger1 = AnimElem = 1
anim = -1
movetime = 250
time = 250

[state a]
type = Trans
trigger1 = 1
trigger1 = prevstateno = 3015
trans = add
alpha = 170-time*1.5,230

[State 2000, ?K?E?Z??????????~]
type = SuperPause
trigger1 = time >= 17
trigger1 = time <= 37
trigger1 = gametime%4=0
darken = 0
anim = -1
poweradd = 0
time = 3

[State 2000, ?K?E?Z??????????~]
type = SuperPause
trigger1 = animelem = 11
anim = -1
time = 3

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElem = 6
value = 255,0,0
time = 75
under = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = AnimElem = 10
anim = -1
movetime = 40
time = 70

[State 2000]
type = Explod
trigger1 = animelem = 6
anim = 3912
postype = P1
pos = -15,0
sprpriority = 5
scale = .5,.5
ownpal = 1
bindtime = 1
supermove = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
damage = 800,13
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -135,19
hitsound = s1232,0
guardsound = 6,2
ground.type = High
ground.slidetime = 23
ground.hittime  = 24
ground.velocity = -7,-6
air.velocity = -5,-6
air.type = High
air.hittime = 12
fall = 3
air.fall = 1
palfx.time = 50
palfx.add = 100,0,0
palfx.mul = 165,0,0
palfx.sinadd = 195,0,0,17
palfx.color = 0
palfx.invertall = 1
p2stateno = ifelse(enemy,var(0) = 1,4805,4015)

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
damage = 700,13
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -135,19
hitsound = s0,14
guardsound = s8,10
ground.type = High
ground.slidetime = 23
ground.hittime  = 24
ground.velocity = -7,-6
air.velocity = -5,-6
air.type = High
air.hittime = 12
fall = 3
air.fall = 1
palfx.time = 50
palfx.add = 100,0,0
palfx.mul = 165,0,0
palfx.sinadd = 195,0,0,17
palfx.color = 0
palfx.invertall = 1
p2stateno = ifelse(enemy,var(0) = 1,4805,4015)

[State 200, ?q?b?g??`]
type = HitDef
trigger1 =animelem = 8
attr = S, HA
damage = 600,13
getpower = 0
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -135,19
hitsound = s0,14
guardsound = s8,10
ground.type = High
ground.slidetime = 23
ground.hittime  = 24
ground.velocity = -7,-6
air.velocity = -5,-6
air.type = High
air.hittime = 12
fall = 3
air.fall = 1
palfx.time = 50
palfx.add = 100,0,0
palfx.mul = 165,0,0
palfx.sinadd = 195,0,0,17
palfx.color = 0
palfx.invertall = 1
p2stateno = ifelse(enemy,var(0) = 1,4805,4015)

[State 800, 火花]
type = Explod
trigger1 = movehit
anim = 66
postype = P2
pos = 0, -60
sprpriority = 8
ownpal = 1
persistent = 0
ignorehitpause=1
bindtime = -1

[State 800, 火花]
type = Explod
trigger1 = movehit
anim = f5
postype = P2
pos = 0, -60
sprpriority = 8
ownpal = 1
persistent = 0
ignorehitpause=1
bindtime = -1

[State 800, 防御火花]
type = Explod
trigger1 = MoveGuarded=1
anim = f42
postype = P2
pos = 0, -60
sprpriority = 8
ownpal = 1
supermovetime=99999
pausemovetime=99999
ignorehitpause=1
bindtime = -1

[State 0, AfterImage]
type = AfterImage 
trigger1 = AnimElem = 6
time = 50 
length = 30 
palbright = 0,0,0 
palcontrast = 0,0,0 
paladd = 0,0,0 
palmul = .70,.85,.70 
timegap = 1 
framegap = 10
trans = add1 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 2112,2
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1232,0
volume = 255

[State 1000, ?X?e?[?g???X]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;============================================================
[Statedef 24300]
type = A
movetype = I
physics = N
anim = 99999
velset = 0, 0
ctrl = 0

[State 3020, 1]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28001)
triggerall = teamside = 1
trigger1 = !time
anim = F28001
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28001)
triggerall = teamside = 1
trigger1 = !time
anim = F28001
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28002)
triggerall = teamside = 1
trigger1 = !time
anim = F28002
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28002)
triggerall = teamside = 1
trigger1 = !time
anim = F28002
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28003)
triggerall = teamside = 1
trigger1 = !time
anim = F28003
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28003)
triggerall = teamside = 1
trigger1 = !time
anim = F28003
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28004)
triggerall = teamside = 1
trigger1 = !time
anim = F28004
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28004)
triggerall = teamside = 1
trigger1 = !time
anim = F28004
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28005)
triggerall = teamside = 1
trigger1 = !time
anim = F28005
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28005)
triggerall = teamside = 1
trigger1 = !time
anim = F28005
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28006)
triggerall = teamside = 1
trigger1 = !time
anim = F28006
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28006)
triggerall = teamside = 1
trigger1 = !time
anim = F28006
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28007)
triggerall = teamside = 1
trigger1 = !time
anim = F28007
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28007)
triggerall = teamside = 1
trigger1 = !time
anim = F28007
id = 8000
postype = back
pos = -427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28011)
triggerall = teamside = 2
trigger1 = !time
anim = F28011
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28011)
triggerall = teamside = 2
trigger1 = !time
anim = F28011
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28012)
triggerall = teamside = 2
trigger1 = !time
anim = F28012
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28012)
triggerall = teamside = 2
trigger1 = !time
anim = F28012
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28013)
triggerall = teamside = 2
trigger1 = !time
anim = F28013
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28013)
triggerall = teamside = 2
trigger1 = !time
anim = F28013
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28014)
triggerall = teamside = 2
trigger1 = !time
anim = F28014
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28014)
triggerall = teamside = 2
trigger1 = !time
anim = F28014
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28015)
triggerall = teamside = 2
trigger1 = !time
anim = F28015
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28015)
triggerall = teamside = 2
trigger1 = !time
anim = F28015
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28016)
triggerall = teamside = 2
trigger1 = !time
anim = F28016
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28016)
triggerall = teamside = 2
trigger1 = !time
anim = F28016
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28017)
triggerall = teamside = 2
trigger1 = !time
anim = F28017
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 191, Wood 1]
type = Explod
triggerall = !numexplod(28017)
triggerall = teamside = 2
trigger1 = !time
anim = F28017
id = 8000
postype = back
pos = 427, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 4300]
type = RemoveExplod
trigger1 = root,stateno != [3600,3610]
trigger1 = root,stateno != [3700,3730]
trigger1 = root,stateno != [3750,3763]
trigger1 = root,StateNo != [3800,3830]
trigger1 = root,StateNo != [3900,3910]
trigger1 = root,StateNo != [13500,13515]
id = 8000

[State Snd]
type = PlaySnd
trigger1 = root,stateno != [3600,3610]
trigger1 = root,stateno != [3700,3730]
trigger1 = root,stateno != [3750,3763]
trigger1 = root,StateNo != [3800,3830]
trigger1 = root,StateNo != [3900,3910]
trigger1 = root,StateNo != [13500,13515]
value = F23997,3
persistent = 0

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
triggerall = teamside = 1
trigger1 = root,stateno != [3600,3610]
trigger1 = root,stateno != [3700,3730]
trigger1 = root,stateno != [3750,3763]
trigger1 = root,StateNo != [3800,3830]
trigger1 = root,StateNo != [3900,3910]
trigger1 = root,StateNo != [13500,13515]
anim = F24293
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
triggerall = teamside = 2
trigger1 = root,stateno != [3600,3610]
trigger1 = root,stateno != [3700,3730]
trigger1 = root,stateno != [3750,3763]
trigger1 = root,StateNo != [3800,3830]
trigger1 = root,StateNo != [3900,3910]
trigger1 = root,StateNo != [13500,13515]
anim = F24294
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = DestroySelf
triggerall = Time > 0
trigger1 = root,stateno != [3600,3610]
trigger1 = root,stateno != [3700,3730]
trigger1 = root,stateno != [3750,3763]
trigger1 = root,StateNo != [3800,3830]
trigger1 = root,StateNo != [3900,3910]
trigger1 = root,StateNo != [13500,13515]

;----------------------------------------------------------------------------------
[Statedef 11111]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 100
velset   = 0,0
anim     = 1600
ctrl     = 0
sprpriority = 3

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s5,6

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 3
value = s7,6

[State 3000]
type = Projectile
trigger1 = AnimElem = 4
projID = 1600
projanim = 1660
projremove = 1
projpriority = 1
projhitanim = 1670
projremanim = 1670
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 0
ownpal = 0
offset = 25,1
velocity = 4, 0
attr = S, SP
animtype = Hard
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s18,10
guardsound = s8,11
pausetime = 0,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,-45
ground.type = Low
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
fall.recover = 0
palfx.time = 25
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1650
postype = P1
pos = -10,5
sprpriority = 10
removetime = 20
bindtime = -1

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 22222]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 100
velset   = 0,0
anim     = 1450
ctrl     = 0
sprpriority = 2

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2,0
channel = 4

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 4
value = s6,2

[State 1000, ]
type = PlaySnd
trigger1 = AnimElem = 10
value = s5,2

[State 1000, u]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1000, u]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 6

[State 1000, u]
type = Velset
trigger1 = AnimElem = 5
y = -4.5

[State 1000, u]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .5

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 1100, GtFNg\]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 14500
postype = P1
pos = 80,-50
sprpriority = 10
removetime = 23

[State 1000, Xe[gX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1410

;---------------------------------------------------------------------------
[Statedef 21111]
type = S
movetype = A
physics = S
juggle = 2
poweradd = 100
velset = 0,0
anim = 1101
ctrl = 0
sprpriority = 2

[State 0, bc闪光]
type = palfx
triggerall = time = 0
trigger1 = (prevstateno = [1000,1999])
time = 5
add = 256,256,256
color = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1115
ID = 1115
pos = -20,20
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = F0,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = 7,2

[State 200, qbg`]
type = HitDef
trigger1 = AnimElem = 4
attr = ,SA
damage = 50,3
animtype = Hard
guardflag = M
hitflag = MAF
pausetime = 11,14
sparkno = 5
guard.sparkno = 41
sparkxy = -20, -65
hitsound = 4,3
guardsound = 6,2
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -7,-7
guard.velocity = -10
air.velocity = -5,-6
ground.cornerpush.veloff = 0
air.type = low
air.hittime = 12
fall = 1
fall.recover = 0
yaccel = .5
p2facing = 1

[State 0, TargetState]
type = TargetState
trigger1 = movehit
trigger1 = hitpausetime = 0
value = 1101
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------------
[Statedef 32222]
type     = S
movetype = A
physics  = S
juggle   = 7
poweradd = 100
velset   = 0,0
anim     = 31450
ctrl     = 0
sprpriority = 2
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,Ifelse(Random >= 500,44,45)
channel = 4

[State 0, Velset]
type = Velset
trigger1 = AnimElemtime(2) > 0
x = 10.5

[State 0, Velset]
type = Velset
trigger1 = AnimElem = 2
y = -4

[State 0, Veladd]
type = Veladd
trigger1 = AnimElemtime(2) > 0
y = .7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 1451
postype = P1
pos = 0,-135
sprpriority = 10
removetime = -2
scale = 1,1

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 31460

;=======================================================================
[Statedef 3700]
type = S
movetype = A
physics = S
anim = 3700
poweradd = 0
velset = 0
juggle = 8
ctrl = 0
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
;-------------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------

;-----------------------------------------------
[State a];SC/DC 取消1技gc
type = VarAdd
trigger1 = prevstateno = [1000,3999]
fvar(29) = -1000
persistent = 0

[State 2200,Hitby] 
type = notHitBy
trigger1 = Time = [0,47]
value = SCA
time = 47

[State 3009, 1]
type = SuperPause
trigger1 = AnimElem = 1
time = 30
anim = -1
movetime = 30
poweradd = -2000

[State 6000,黑色底色]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = AnimElem = 1
anim = f7300
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 5,-58
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = AnimElem = 1
anim = f7310
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 5,-58
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = F9000, 3

[State 100, 2]
type = AssertSpecial
trigger1 = Time = [0,40]
flag = NoBG
flag2 = NoFG

[State 3130,VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 10
y = 0

[State 3130,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 0
y = 0

[State 3130,VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 10
y = 0

[State 3130,VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = 0
y = 0

[State 1001, 5]
type = Projectile
trigger1 = AnimElem = 3
projanim = 3701
projremovetime = 17
offset = 75,-50
velocity = 1,0
postype = p1
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 60,30,60
afterimage.palcontrast = 50,30,50
afterimage.palpostbright = -40,-40,-40
afterimage.palbright = 40,40,40
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add

[State 1001, 5]
type = Projectile
trigger1 = AnimElem = 9
projanim = 3702
projremovetime = 17
offset = 25,-55
velocity = 0,0
postype = p1
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 60,30,60
afterimage.palcontrast = 50,30,50
afterimage.palpostbright = -40,-40,-40
afterimage.palbright = 40,40,40
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add


[State 1000, 3]
type = hitdef
trigger1 = animelem = 4
attr = S, HP
damage = 60,20
animtype = hard
hitflag = MAFP
priority = 6
guardflag = MA
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-30
hitsound = 5,3
guardsound = 6,2
pausetime = 10,20
guard.pausetime = 20,120
ground.hittime = 20
ground.type = high
ground.slidetime = 15
ground.velocity = -5
air.velocity = -1.5,-2.5
P2facing = 1
fall = 0
air.fall = 1
fall.recover = 0
palfx.time = 35
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1000, 3]
type = hitdef
trigger1 = animelem = 4
trigger1 = p2movetype = H  
trigger1 = p2statetype = A  
attr = S, HP
damage = 60,20
animtype = hard
hitflag = MAFP
priority = 6
guardflag = MA
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-30
hitsound = 5,3
guardsound = 6,2
pausetime = 10,16
guard.pausetime = 20,120
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -5,-4
air.velocity = -1,-4
P2facing = 1
fall = 0
air.fall = 1
fall.recover = 0
palfx.time = 35
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1000, 3]
type = hitdef
trigger1 = animelem = 10
attr = S, HP
damage = 75,20
animtype = hard
hitflag = MAFP
priority = 6
guardflag = MA
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-40
hitsound = 5,1
guardsound = 6,2
pausetime = 12,18
ground.hittime = 20
ground.type = low
ground.slidetime = 20
ground.velocity = -3
air.velocity = -1.5,-2.5
P2facing = 1
fall = 0
air.fall = 1
fall.recover = 0
palfx.time = 35
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1000, 3]
type = hitdef
trigger1 = animelem = 10
trigger1 = p2movetype = H  
trigger1 = p2statetype = A  
attr = S, HP
damage = 75,20
animtype = hard
hitflag = MAFP
priority = 6
guardflag = MA
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-40
hitsound = 5,1
guardsound = 6,2
pausetime = 12,18
ground.hittime = 20
ground.type = low
ground.slidetime = 20
ground.velocity = -5,-3
air.velocity = -1,-3
P2facing = 1
fall = 0
air.fall = 1
fall.recover = 0
palfx.time = 35
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3700,0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 7
value = 3700,1

[State 3195, 0]
type = ChangeState
trigger1 = movehit = 1
value = 3710

[State momocombo]
type = ChangeState
trigger1 = AnimTime= 0
value = 0
Ctrl = 1

;--------------------------------------------------------------------------------------
[Statedef 3710]
type = S
movetype = A
physics = S
anim = 3710
poweradd = 0
velset = 0
juggle = 2
ctrl = 0

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3700,2

[State 3130,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 5
y = 0

[State 3130,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 0
y = 0

[State 1001, 5]
type = Projectile
trigger1 = AnimElem = 3
projanim = 3711
projremovetime = 30
offset = 30,-10
velocity = 0.5,0
projsprpriority = -2
postype = p1
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 60,30,60
afterimage.palcontrast = 50,30,50
afterimage.palpostbright = -40,-40,-40
afterimage.palbright = 40,40,40
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add

[State 1001, 5]
type = Projectile
trigger1 = AnimElem = 8
projanim = 3712
projremovetime = 30
sprpriority = 2
offset = 30,-70
velocity = 0,0
postype = p1
afterimage.time = 60
afterimage.length = 8
afterimage.paladd = 60,30,60
afterimage.palcontrast = 50,30,50
afterimage.palpostbright = -40,-40,-40
afterimage.palbright = 40,40,40
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.sprpriority = 5
afterimage.trans = add

[State 3100, vel]
type = PosAdd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 13

[State 1000, 3]
type = hitdef
trigger1 = animelem = 4
attr = S, HP
damage = 50,20
animtype = hard
hitflag = MAFP
priority = 6
guardflag = MA
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-50
hitsound = 5,3
guardsound = 6,2
pausetime = 15,20
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = 0,-5
air.velocity = 0,-5
P2facing = 1
fall = 1
fall.recover = 0
palfx.time = 35
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1000, 3]
type = hitdef
trigger1 = animelem = 9
attr = S, HP
damage = 75,20
animtype = hard
hitflag = MAFP
priority = 6
guardflag = MA
sparkno = 2
guard.sparkno = 42
sparkxy = -20,-60
hitsound = 5,1
guardsound = 6,2
pausetime = 10,15
ground.hittime = 15
ground.type = low
ground.slidetime = 15
ground.velocity = 0,-8.8
air.velocity = 0,-8.8
P2facing = 1
fall = 1
fall.recover = 0
palfx.time = 45
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State momocombo]
type = ChangeState
trigger1 = AnimTime = 0
value = 3720

;--------------------------------------------------------------------------------------------
[Statedef 3720]
type = A
movetype = A
physics = N
ctrl = 0
anim = 3720

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 21
value = 3700,3

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 27
value = 3700,4

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3700,5

[State 1000, 5]
type = Explod
trigger1 = TIME = 0
anim = 3721
sprpriority = -3
postype = p1
pos = 20,10
bindtime = 1
supermove = 1
under = 0
ownpal = 0
scale = 1.2,1

[State 1000, 5]
type = Explod
trigger1 = TIME = 0
anim = 3120
sprpriority = 5
postype = p1
pos = 10,0
bindtime = 1
REMOVETIME = 86
supermove = 1
under = 0
ownpal = 0
scale = 1.3,1.5

[State 3410]
type = Explod
trigger1 = AnimElem = 21
anim = 3722
id = 3722
pos = -15,-50
postype = P2
sprpriority = 5
ownpal = 1
bindtime = -1
removetime = -1
facing = -1
scale = 1.2,1.2

[state a]
type = removeexplod  
trigger1 = AnimElem = 27
ID = 3722

[State 3410]
type = Explod
trigger1 = AnimElem = 27
anim = 3723
id = 3723
pos = -15,-50
postype = P2
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = 1
removeongethit = 1
facing = -1
scale = 1.2,1.2

[State 810, Hurt 11]
type = TargetLifeAdd  
trigger1 = AnimElem = 27
value = -200
kill = 1

[State 1055, 2]
type = PosAdd
trigger1 = AnimElem = 1
x = 25

[State 1055, 2]
type = VelSet
trigger1 = AnimElem = 1, = 1
y = -2.8

[State 1055, 2]
type = VelSet
trigger1 = AnimElem = 20, = 1
y = 0

[State 1055, 2]
type = VelSet
trigger1 = AnimElem = 23, = 1
y = 5

[State 1056, 3]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 11
trigger5 = AnimElem = 12
trigger6 = AnimElem = 13
trigger7 = AnimElem = 17
trigger8 = AnimElem = 18
attr = A, HA
animtype  = up
getpower  = 0
damage    = 20, 10
priority  = 5
guardflag = M
pausetime = 5,5
sparkno = 2
guard.sparkno = 42
sparkxy = 0,-50
hitsound = S4,5
guardsound = 6,2
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -0,-5.2
air.velocity = -0,-5.2
palfx.time = 35
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0

[State 1056, 3]
type = HitDef
trigger1 = AnimElem = 21
attr = A, HA
animtype  = diagup
getpower  = 0
damage    = 20, 10
priority  = 5
guardflag = M
pausetime = 16,20
sparkno = 2
guard.sparkno = 42
sparkxy = 0,-50
hitsound = S4,5
guardsound = 6,2
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6,8
air.velocity = -6,8
palfx.time = 35
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0

[State 1056, 3]
type = HitDef
trigger1 = AnimElem = 28
attr = A, HA
hitflag = MAFD
animtype  = HARD
getpower  = 0
damage    = 20, 10
priority  = 5
guardflag = M
pausetime = 0,20
sparkno = 2
guard.sparkno = 42
sparkxy = 5,5
hitsound = S4,5
guardsound = 6,2
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -0,-5
air.velocity = -0,-5
p2stateno = 4215
palfx.time = 60
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
fall = 1
fall.recover = 0

[State 9520, 51]
type = EnvColor
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 11
trigger5 = AnimElem = 12
value = 245,245,245
time = 2

[State 855, 40]
type = ChangeState
trigger1 = AnimTime = 0
value = 3730
ctrl = 0

;---------------------------------------------------------------------------------
[Statedef 3730]
type    = S
movetype= I
physics = S
anim = 3730
sprpriority = 1
velset = 0,0

[State 52,着陆灰尘]
type = Explod
trigger1 = StageVar(info.author) != "water"
trigger1 = AnimElem = 1
anim = f50
scale = .55,.55
pos = 0,0
ontop = 1
ownpal = 1
postype = p1
spacing = 1
sprpriority = 8
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1

[State 52, 着陆水花]
type = Explod
trigger1 = StageVar(info.author) = "water"
trigger1 = AnimElem = 1
anim = F22
postype = p1
pos = 20,0
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 52, 着陆声效]
type = PlaySnd
trigger1 = AnimElem = 1
value = F47,(0+(StageVar(info.author) = "water"))

[State 1057, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1057, 2]
type = CtrlSet
trigger1 = AnimElem = 1, -1
value = 1

[State 1057, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[StateDef 13700]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 13700
poweradd = -2000
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================

[State a]
type = PalFX
trigger1 = (prevstateno = [1000,1999])
triggerall = time = 1
add = 96,96,96
mul = 240,240,240
sinadd = 96,96,96,32
time = 20
color = 8

[State 1000, HitBy]
type = notHitBy
trigger1 = Time = [0,40]
value = SCA

[State a]
type = AssertSpecial
trigger1 = time = [0,30]
flag = noFG
flag2 = noBG
ignorehitpause = 1
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24301
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------

[State a]
type = SuperPause
darken = 0
trigger1 = time = 1
anim = -1
movetime = 30
time = 30

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = Time = 1
anim = f7300
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 5,-80
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = Time = 1
anim = f7310
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 5,-80
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = Time = 1
value = F9000, 2

[State a, a]
type = PlaySnd
trigger1 = AnimElem = 1
value = s7,60

[State a, a]
type = PlaySnd
trigger1 = AnimElem = 5
value = f40,0

[State a, a]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State a, a]
type = Velset
trigger1 = AnimElemtime(5) > 0
x = 8

[State a, a]
type = Velset
trigger1 = AnimElem = 5
y = -5

[State a, a]
type = Veladd
trigger1 = AnimElemtime(5) > 0
y = .35

[State a, a]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State a]
type = helper
trigger1 = AnimElem = 5
name = "shadow"
helpertype = normal
ID = 13720
pos = 0,0
postype = p1
stateno = 13720
keyctrl = 0
ownpal = 1
facing = -1
size.xscale = .5
size.yscale = .55

[State a]
type = PlaySnd
trigger1 = AnimElem = 5
value = s3200,3
volumescale = 70

[State a]
type = PlaySnd
trigger1 = AnimElem = 9
value = f0,1

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,0,0

[State a]
type = HitDef
trigger1 = Time = 0
attr = A,HA
getpower = 0
damage = 200,0
animtype = Hard
hitflag = MAF
guardflag = H
priority = 5
pausetime = 2,2
sparkno = IfElse(Random <= 500,7665,7664)
sparkxy = -30,-40
hitsound = s8,8
guardsound = 6,1
guard.sparkno = 42
guard.velocity = -4
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
id = 9260
kill = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100

[State a]
type = TargetState
trigger1 = NumTarget(9260)
trigger1 = Target(9260),stateno != [120,159]
trigger1 = MoveHit
value = 13750

[state a]
type = changestate
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger1 = NumTarget(9260)
trigger1 = Target(9260),stateno = 13750
value = 13702

[State a]
type = AfterImage
trigger1 = Time = 30
time = -1
timeGap  = 2
frameGap = 2
length = 6
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1
Trans = Add1

[State a,a]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 3

[State a,a]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 13701

;---------------------------------------------------------------------------
[Statedef 13750]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = enemynear,stateno = [13700,13703]
flag = invisible

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 13750+30000*var(55)

[State 1830]
type = SelfState
trigger1 = time > 75
value = 5000

[State 1830]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl =1

;---------------------------------------------------------------------------
[Statedef 13701]
type     = S
movetype = A
physics  = S
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 13701
sprpriority = 2

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,0,0

[State a]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 200,0
animtype = Hard
hitflag = MAF
guardflag = H
priority = 5
pausetime = 2,2
sparkno = 5
sparkxy = -30,-40
hitsound = s8,8
guardsound = 6,1
guard.sparkno = 42
guard.velocity = -12
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
id = 9260
kill = 0
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100

[State a]
type = TargetState
trigger1 = NumTarget(9260)
trigger1 = Target(9260),stateno != [120,159]
trigger1 = MoveHit
value = 13750

[state a]
type = changestate
trigger1 = NumTarget(9260)
trigger1 = Target(9260),stateno = 13750
value = 13702

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = AnimElem = 1
x = 4

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 52,着陆灰尘]
type = Explod
trigger1 = StageVar(info.author) != "water"
trigger1 = Time = 0
anim = f50
scale = .55,.55
pos = 0,0
ontop = 1
ownpal = 1
postype = p1
spacing = 1
sprpriority = 8
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1

[State 52, 着陆水花]
type = Explod
trigger1 = StageVar(info.author) = "water"
trigger1 = time = 0
anim = F22
postype = p1
pos = 20,0
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 52, 着陆声效]
type = PlaySnd
trigger1 = time  = 0
value = F47,(0+(StageVar(info.author) = "water"))

[State 210, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 13702]
type     = S
movetype = A
physics  = S
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 13702
sprpriority = 2

[State a]
type = AfterImage
trigger1 = Time = 0
time = -1
timeGap  = 2
frameGap = 2
length = 6
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1
Trans = Add1

[State a,a]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 3

[State 1000, u]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = prevstateno = 13700
trigger1 = AnimElem = 1
x = 4

[State 1000, u]
type = Velset
trigger1 = AnimElem = 3
x = 0

[State 52,着陆灰尘]
type = Explod
trigger1 = StageVar(info.author) != "water"
trigger1 = Time = 0
anim = f50
scale = .55,.55
pos = 0,0
ontop = 1
ownpal = 1
postype = p1
spacing = 1
sprpriority = 8
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1

[State 52, 着陆水花]
type = Explod
trigger1 = StageVar(info.author) = "water"
trigger1 = time = 0
anim = F22
postype = p1
pos = 20,0
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 52, 着陆声效]
type = PlaySnd
trigger1 = time  = 0
value = F47,(0+(StageVar(info.author) = "water"))

[State a]
type = PlaySnd
trigger1 = AnimTime = 0
value = s5,6

[State a, a]
type = ChangeState
trigger1 = AnimTime = 0
value = 13703

;-------------------------------------------------------------------------------
[Statedef 13703]
type = A
movetype= A
physics = N
velset = 0,-8
ctrl = 0
anim = 13710
sprpriority = 8

[State a]
type = AfterImage
trigger1 = Time = 0
time = -1
timeGap  = 2
frameGap = 2
length = 6
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1
Trans = Add1

[State a,a]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 3

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State -1]
type = helper
trigger1 = time = 20
name = "shadow"
helpertype = normal
ID = 94034
postype = p1
stateno = 94034
keyctrl = 0
ownpal = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 18
value = 13710

[State a, a]
type = ChangeState
trigger1 = Time = 25
value = 13704

;-------------------------------------------------------------------------------
[Statedef 13704]
type = A
movetype= A
physics = N
velset = 0,-0.5
ctrl = 0
anim = 13703
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State -1]
type = helper
trigger1 = time = 0
name = "shadow"
helpertype = normal
ID = 13722
postype = p1
stateno = 13722
keyctrl = 0
ownpal = 1

[State -1]
type = helper
trigger1 = time = 0
name = "shadow"
helpertype = normal
ID = 13721
postype = p1
stateno = 13721
keyctrl = 0
ownpal = 1
size.xscale  = .65
size.yscale  = .65

[State a, a]
type = PlaySnd
trigger1 = AnimElem = 2
value = s7,12

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = -10

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255

[State -2]
Type = Explod
trigger1 = AnimElem = 4
Anim = 32706
ID = 32706
PosType = P1
Pos = 0,-10
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State a]
type = null;Explod
trigger1 = AnimElem = 4
anim = f67
postype = P1
pos = 0,-15
sprpriority = -2
scale = .7,.7

[State a]
type = null;Explod
trigger1 = AnimElem = 4
anim = f66
postype = P1
pos = 0,-15
sprpriority = 6
scale = .7,.7

[State a]
type = palfx
trigger1 = 1
time = 1
add = -245,-245,-245
ignorehitpause = 1

[State a, a]
type = HitDef
p1sprpriority = 2
p2sprpriority = 4
trigger1 = time = 0
attr = A, HA
damage = 400,400
getpower = 0,0
givepower = 200,200
animtype = up
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-10
hitsound = 5,4
guardsound = 6,1
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
guard.velocity = -9
ground.velocity = -14,10
air.velocity = -14,10
air.hittime = 12
fall = 1
p1stateno = 13705
p2stateno = 13711
envshake.time = 12
envshake.ampl = 18
envshake.freq = 100

;-------------------------------------------------------------------------------
[Statedef 13705]
type = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 13704
sprpriority = 2

[State a]
type = AssertSpecial
trigger1 = time < 42
flag = noFG
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 0
time = 10
add = -205,-205,-205
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 5
time = 10
add = -150,-150,-150
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 10
time = 10
add = -115,-115,-115
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 15
time = 10
add = -80,-80,-80
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 20
time = 10
add = -55,-55,-55
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 25
time = 1
add = 0,0,0
ignorehitpause = 1

[State 0, EnvColor]
type = null;EnvColor
trigger1 = time = 40
value = 255,255,255
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 50
y = -320

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 51
x = -80

[State a, a]
type = PlaySnd
Trigger1 = time = 52
value = F40,1

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [0,40]
pos = 0,47

[State 0, TargetState]
type = TargetState
trigger1 = time = 41
value = 13712

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElem = 2,>0
y = .5

[State a]
type = Explod
trigger1 = time = 35
anim = 32709
pos = 0,0
scale = 9999,9999
postype = left
bindtime = -1
removetime = -2
supermove = 1
pausemove = 1
ownpal = 1
sprpriority = -8
pausemovetime = 99999
supermovetime = 99999

[State -1]
Type = Explod
Trigger1 = time = 61
ID = 32705
PosType = P2
Pos = -30,10
Anim = 32705
Ownpal = 1
SprPriority = 9

[State a]
type = Helper
trigger1 = time = 48
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State a, a]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 13706

;-------------------------------------------------------------------------------
[Statedef 13710]
type = A
movetype= H
physics = N
velset = 0,0.2
ctrl = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5305+30000*var(55)
elem = 4

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = -50

[State a]
type = palfx
trigger1 = time = 0
time = 10
ignorehitpause = 1
add = -255,-255,-255
mul = 165,165,165
sinadd = -70,-70,-70,17

[State a]
type = palfx
trigger1 = time >= 10
time = 1
add = -25,-25,-25
mul = 165,165,165
sinadd = -70,-70,-70,17
ignorehitpause = 1

;-------------------------------------------------------------------------------
[Statedef 13711]
type = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5305+30000*var(55)
elem = 4

[State a]
type = posadd
trigger1 = time %4 = 0
x = 1

[State a]
type = posadd
trigger1 = time %4 = 2
x = -1

;-------------------------------------------------------------------------------
[Statedef 13712]
type = A
movetype= H
physics = N
velset = 0,15
ctrl = 0
sprpriority = 4

[State a]
type = palfx
trigger1 = time = 0
time = 10
add = -25,-25,-25
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 5
time = 10
add = -20,-20,-20
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 10
time = 10
add = -15,-15,-15
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 15
time = 10
add = -10,-10,-10
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 20
time = 10
add = -5,-5,-5
ignorehitpause = 1

[State a]
type = palfx
trigger1 = time = 25
time = 10
add = 0,0,0
ignorehitpause = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5305+30000*var(55)
elem = 4

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .6

[State 0, PosSet]
type = PosSet
trigger1 = enemynear,time=50
y = -300

[State 0, ChangeState]
type = ChangeState
trigger1 = enemynear,time=50
value = 13715

;-------------------------------------------------------------------------------
[Statedef 13715]
type = A
movetype= H
physics = N
ctrl = 0
sprpriority = 4

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .6

[State 0, EnvShake]
type = EnvShake
triggerall = Vel Y > 0
trigger1 = Pos Y >= -10
time = 15
ampl = -8

[State a, a]
type = changeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= -10
value = 13713

;-------------------------------------------------------------------------------
[Statedef 13713]
type    = L
movetype= H
physics = N
velset = 0,0

[State a]
type = Helper
trigger1 = time = 0
name = "Slow"
stateno = 14900
ID = 14900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3121, 1]
type = Helper
triggerall = StageVar(info.author) != "water"
Trigger1 = time = 0
id = 8882
postype = p1
pos = 0,10
sprpriority = 10
stateno = 11492
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999 
pausemovetime = 99999

[State a]
type = null;Explod
Trigger1 = time = 0
anim = f67
postype = P1
pos = 0,0
sprpriority = -2

[State a]
type = null;Explod
Trigger1 = time = 0
anim = f66
postype = P1
pos = 0,0
sprpriority = 6

[state a]
type = posset
trigger1 = time = 0
y = 0

[State a, a]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5076+30000*var(55)

[State a, a]
type = changeState
trigger1 = animelem = 3
value = 13714

;-------------------------------------------------------------------------------
[Statedef 13714]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 2760+30000*var(55)

[state a]
type = velset
trigger1 = animelem = 1
y = -14

[state a]
type = veladd
trigger1 = animelem = 1,>=0
y = 0.6

[state a]
type = veladd
trigger1 = time > 15
y = 0.5

[State 821, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5460

;---------------------------------------------------------------------------
[Statedef 13720]
type = S
physics = N
velset = 0,0
ctrl = 0
anim = 3912
sprpriority = 5

[State a]
type=assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = root,time < 59
trigger1 = root,stateno = 13700
y = -160

[State a]
type = bindtoparent
trigger1 = root,time < 59
trigger1 = root,stateno = 13700
pos = -60

[State a]
type = bindtoparent
trigger1 = root,time < 59
trigger1 = root,stateno = 13700
pos = -90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 80

[State a]
type = AfterImage
trigger1 = Time = 0
length = 8
PalBright = 12,12,12
PalContrast = 120,120,120
PalAdd      = 0,0,0
TimeGap  = 1
FrameGap = 1
Trans = Add
time = 9999

[State a]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 13721]
type = S
physics = N
velset = 0,0.02
ctrl = 0
anim = 32707
sprpriority = -10

[State a]
type=assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = -100

[State a]
type = PlaySnd
trigger1 = time = 120
value = s12,6

;--------------
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time>110
v = 1
value = 1

[state a]
type = angledraw
trigger1 = time>110
scale = 1+var(1)*0.07,1+var(1)*0.07

;--------------
[state a]
type = varset
trigger1 = time = 130
v = 2
value = 0

[state a]
type = Trans
trigger1 =  time >= 134
trans = addalpha
alpha = 255-(var(2)), (var(2))

[state a]
type = varadd
trigger1 = time >= 134
v = 2
value = 20
;--------------

[State a]
type = destroyself
trigger1 = time = 200
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 13722]
type = S
physics = N
velset = 0,0
ctrl = 0
anim = 32708
sprpriority = 3

[State a]
type = PlaySnd
trigger1 = time = 0
value = s12,5

[State a]
type=assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State a]
type = bindtoparent
trigger1 = 1
pos = -3,-72

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .75,.75,.75
timegap = 1
framegap = 1
trans = add

[State a]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;屏幕黑渐变-深至淡
;---------------------------------------------------------------------------
[Statedef 94034]
type     = S
movetype = I
physics  = N
juggle   = 0
ctrl     = 0
anim     = 99999
sprpriority = 1

[state a]
type = varset
trigger1 = time = 0
v = 5
value = -256

[state a]
type = varadd
trigger1 = time < 16
v = 5
value = 16

[state a]
type = allpalfx
trigger1 = time < 16
time = 1
add = var(5),var(5),var(5)

[State a]
type = DestroySelf
trigger1 = time = 20

;---------------------------------------------------------------------------
[Statedef 13706]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 13706
ctrl     = 0
sprpriority = 2

[State a]
type = AfterImageTime
trigger1 = 1
time = 0

[State 52,着陆灰尘]
type = Explod
trigger1 = StageVar(info.author) != "water"
trigger1 = Time = 0
anim = f50
scale = .55,.55
pos = 0,0
ontop = 1
ownpal = 1
postype = p1
spacing = 1
sprpriority = 8
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1

[State 52, 着陆水花]
type = Explod
trigger1 = StageVar(info.author) = "water"
trigger1 = time = 0
anim = F22
postype = p1
pos = 20,0
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 52, 着陆声效]
type = PlaySnd
trigger1 = time  = 0
value = F47,(0+(StageVar(info.author) = "water"))

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, u]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, Xe[gX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;============================================================
[Statedef 24301]
type = A
movetype = I
physics = N
anim = 99999
velset = 0, 0
ctrl = 0

[State 191]
type = AssertSpecial
trigger1 = 1
flag = nobg
flag2 = nofg

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = F99910
id = 8000
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
pausemovetime = 999999
supermovetime = 999999

[State 4300]
type = RemoveExplod
trigger1 = root,stateno != [13700,13706]
id = 8000

[State Snd]
type = PlaySnd
trigger1 = root,stateno != [13700,13706]
value = F23997,3
persistent = 0

[State 4300]
type = Explod
triggerall = !NumExplod(4291)
trigger1 = root,stateno != [13700,13706]
anim = F24292
scale = 1.2,1
id = 4291
postype = back
pos = 0, 0
bindtime = -1
scale = 1,1
sprpriority = -11
ownpal = 1
persistent = 0
supermovetime = 99999
pausemovetime = 99999

[State 4300]
type = DestroySelf
triggerall = Time > 0
trigger1 = root,stateno != [13700,13706]

;============================================================
;-------------------------------------------------------------------------------
[Statedef 13500]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = -2000
velset   = 0,0
anim     = 13500
ctrl     = 0
sprpriority = 3
;--------------------------------------SC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [1000,1999]) && time = 0
persistent = 0
anim = f7500
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;--------------------------------------

;--------------------------------------DC
[State 9000, 5]
type = Explod
trigger1 = (prevstateno = [2000,2999]) && time = 0
persistent = 0
anim = f7550
pos = 0,80
postype = left
removetime = -2
bindtime = -1
supermove = 1
pausemove = 1
pausemovetime = 99999
supermovetime = 99999
sprpriority = 99999
ownpal = 1
;-----------------------------------------------
;爆气取消=====================================================================
[State a]
type = palfx
triggerall = fvar(30) > 0
trigger1 = time <= 5
trigger2 = prevstateno = [1000,1999]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a]
type = varadd
triggerall = fvar(30) >=120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = -2000

[State a]
type = varset
triggerall = fvar(30) > 0
triggerall = fvar(30) <120
trigger1 = time = 0
trigger2 = prevstateno = [1000,1999]
fvar(30) = 1

;============================================================================
;--------------------------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40005)
trigger1 = time = 11
helpertype = normal
ID = 40005
stateno = 40005
pos = 160,120
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1
;---------------------------------------------------------
[State 3900]
type = Helper
triggerall = (!numhelper(4300))
trigger1 = Time = 11
helpertype = normal
stateno = 24300
id = 4300
postype = Left
pos = 0, 0
keyctrl = 0
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
;---------------------------------------------------------------

[State 2000, KEZ?]
type = SuperPause
trigger1 = AnimElem = 1
anim = -1
movetime = 70
time = 70
darken = 0
p2defmul = 1

[State 6000,黑色底色]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 33
under = 1
supermove = 1

[state 4500,必杀闪光1]
type = Explod
trigger1 = AnimElem = 6
anim = f7300
ID = 4010
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 2,-75
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = -5
ignorehitpause = 1

[state 4500,必杀闪光2]
type = Explod
trigger1 = AnimElem = 6
anim = f7310
ID = 4011
scale = 1,1
ownpal = 1
facing = 1
postype = p1
pos = 2,-75
bindtime = -1
supermove = 1
pausemove = 1
sprpriority = 5
ignorehitpause = 1

[State 3500, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = F9000, 3

[state 2]
type = assertspecial
trigger1 = time = [0,95]
flag = nobg
flag2 = nofg
flag3 = noshadow

[state 33]
type = playsnd
trigger1 = animelem = 3
value = s3500,2

[State 1100, Explod]
type = Explod
trigger1 = animelem = 6
persistent = 0
anim = 13507
id = 3507
pos = -26,-96
postype = p1
sprpriority = 1001
trans = add
scale = 0.45,0.45
bindtime = 1
ownpal = 1
removetime = -1
supermove = 1
ignorehitpause = 1

[state 3]
type = modifyexplod
trigger1 = animelem = 7
pos = 24,-91
postype = p1
trans = add
id = 3507

[State 1100, Explod]
type = Explod
trigger1 = animelem = 8
anim = 13501
postype = P1
pos = 18,-84
sprpriority = 99
removetime = 20
supermove = 1
bindtime = -1
persistent = 0

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 8
id = 3507

[State 1100, Explod]
type = Explod
trigger1 = animelem = 8
persistent = 0
anim = 13506
id = 3506
pos = 30,-78
postype = p1
sprpriority = 1001
trans = add
scale = 0.45,0.45
bindtime = 1
ownpal = 1
removetime = -1
supermove = 1
ignorehitpause = 1

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 11
id = 3506

[State 1500,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 947, ChangeState]
type = ChangeState
trigger1 = animelem = 11
value = 13505
ctrl = 0

;--------------------------------------------------------------------------------------------
[StateDef 13505]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 13505
poweradd = 0
sprpriority = 3

[State 948, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 700, GtFNg?]
type = Explod
trigger1 = AnimElem = 1
anim = 13507
postype = P1
pos = 0,-70
id = 3507
scale = 0.45,0.45
trans = add
pos = 0,10
bindtime = -1
sprpriority = 5
ownpal = 1
removeongethit = 1

[state 3]
type = modifyexplod
trigger1 = animelem = 2
pos = 4,-50
postype = p1
trans = add
id = 3507

[state 3]
type = modifyexplod
trigger1 = animelem = 3
pos = 0,-50
postype = p1
trans = add
id = 3507

[state 3]
type = modifyexplod
trigger1 = animelem = 4
pos = -15,-50
postype = p1
trans = add
id = 3507

[state 3]
type = modifyexplod
trigger1 = animelem = 5
pos = -10,-50
postype = p1
trans = add
id = 3507

[state 3]
type = modifyexplod
trigger1 = animelem = 6
pos = -14,-72
postype = p1
trans = add
id = 3507

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 948]
type = HitDef
trigger1 = Time = 0
attr = S,HA
getpower = 0
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 5
pausetime = 2,2
sparkno = 2
sparkxy = 10,-30
guardsound = 6,2
guard.sparkno = 42
guard.velocity = -5
ground.type = High
ground.slidetime = 10
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,0
p2facing = 1
kill = 0
p1stateno = 13510
p2stateno = 2030

[State 948, VelSet]
type = VelSet
trigger1 = AnimElem = 5,<=1
x = 14

[State 948, Xe?gX]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = MoveGuarded
value = 2005

;---------------------------------------------------------------------------
[Statedef 13510]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 13510
sprpriority = 3

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 3507

[State 1000, Explod]
type = Explod
trigger1 = animelem = 5
anim = 13509
pos = -10,-80
id = 3509
postype = p1
scale = 0.3,0.3
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
removetime = -1
sprpriority = -3

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S, HT
damage = 0,0
numhits = 0
animtype = Hard
hitflag = MAF
guardflag = M
priority = 1,Miss
sparkno = -1
sparkxy = -20,-100
hitsound = 800,0
p1sprpriority = 1
p2sprpriority = 2
p1facing = 1
p2facing = 1
p2StateNo = 13511

[State 3121, 1]
type = Helper
triggerall = StageVar(info.author) != "water"
trigger1 = animelem = 13
id = 8882
postype = p1
pos = 30,5
sprpriority = 10
stateno = 11492
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999 
pausemovetime = 99999

[State 1000]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = animelem = 13
anim = F662
facing = facing
ignorehitpause = 1
postype = p1
pos = 30,5
sprpriority = 7

[State explod]
type = Explod
triggerall = StageVar(info.author) = "water"
trigger1 = animelem = 13
anim = f25
id = 2100
sprpriority = -2
postype = p1
pos = 39,-1
bindtime = 1
ignorehitpause = 0
under = 0
ownpal = 1

[State explod]
type = Explod
triggerall = StageVar(info.author) = "water"
trigger1 = animelem = 13
anim = f25
facing = -1
id = 2100
sprpriority = 6
postype = p1
pos = 39,-1
bindtime = 1
ignorehitpause = 0
under = 0
ownpal = 1

[State 855, whomp]
type = PlaySnd
triggerall = StageVar(info.author) = "water"
trigger1 = animelem = 13
value = F5000, 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13
value = s3500,3

[State 810,]
type = EnvShake
trigger1 = AnimElem = 6
ampl = 5
freq = 80
time = 15

[State 810,]
type = EnvShake
trigger1 = AnimElem = 12
time = 20
freq = 80
ampl = 3

[State 948, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 200,]
type = Posadd
trigger1 = AnimElem = 6
x = -10

[State 200,]
type = Posadd
trigger1 = AnimElem = 8 | AnimElem = 9
x = 10

[State 200,]
type = Posadd
trigger1 = AnimElem = 7
x = 20

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 19, -15

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 59,-25

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 66,-55

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 18,-145

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 10
pos = 35,-112

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 11
pos = 49,-70

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 12
pos = 44,-50

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 13
pos = 45,-20

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 14
pos = 45,0

[State 700, ǐ斋Й?闫]
type = Explod
trigger1 = AnimElem = 6
anim = f9
postype = P1
pos = 40, -10
sprpriority = 5
ownpal = 1

[State 0, Turn]
type = Turn
trigger1 = AnimElem = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 12
value = F5000,1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 13515
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 13511]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 13511+30000*var(55)

[State 820, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 13512

[State 820, 1]
type = SelfState
trigger1 = time = 500
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 13512]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 13512+30000*var(55)

[State 1323]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 13513]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 13513+30000*var(55)

[State 1323]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 13514]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 13514+30000*var(55)

[State 820, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 13513

[State 820, 1]
type = SelfState
trigger1 = time = 100
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 13515]
type = S
movetype = A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 13515
sprpriority = 3

[State 810, 3]
type = TargetBind
trigger1 = time <= 80
pos = 45,0

[state a]
type = velset
trigger1 = time <= 80
trigger1 = pos x < -14
trigger1 = facing = 1
x = 7

[state a]
type = velset
trigger1 = time <= 80
trigger1 = pos x > 0
trigger1 = facing = 1
x = -7

[state a]
type = velset
trigger1 = time <= 80
trigger1 = pos x >= -14 && pos x <= 0
trigger1 = facing = 1
x = 0

[state a]
type = velset
trigger1 = time <= 80
trigger1 = pos x > 14
trigger1 = facing = -1
x = 7

[state a]
type = velset
trigger1 = time <= 80
trigger1 = pos x < 0
trigger1 = facing = -1
x = -7

[state a]
type = velset
trigger1 = time <= 80
trigger1 = pos x <= 14 && pos x >= 0
trigger1 = facing = -1
x = 0

[State 1970, Explod]
type = Explod
trigger1 = animelem = 1
anim = 13523
ID = 3523
pos = 43,10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0

[state 3]
type = modifyexplod
trigger1 = animelem = 7
pos = 48,-62
postype = p1
trans = add
id = 3523

[state 3]
type = modifyexplod
trigger1 = animelem = 8
pos = 45,-40
postype = p1
trans = add
id = 3523

[state 3]
type = modifyexplod
trigger1 = animelem = 9
pos = 43,10
postype = p1
trans = add
id = 3523

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 12
ID = 3523

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 10,100
ID = 3509

[state targetstate]
type = targetstate
trigger1 = AnimElem = 7
value = 13514

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 50,-72

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 8
pos = 47,-50

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 45,0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 9
ampl = 1
freq = 80
time = 160

[State a]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = animelem = 9
anim = f67
id = 3000
sprpriority = 10
postype = p1
pos = 28,0
bindtime = -1
removetime = 18
under = 0
trans = addalpha
alpha = 215,200
ownpal = 1

[State a]
type = Explod
triggerall = StageVar(info.author) != "water"
trigger1 = animelem = 9
anim = f66
id = 3000
sprpriority = -10
postype = p1
pos = 28,0
bindtime = -1
removetime = 18
under = 0
trans = addalpha
alpha = 215,200
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = StageVar(info.author) != "water"
trigger1 = AnimElem = 9
value = F5000,0

[State 1200, 0]
type = explod
triggerall = StageVar(info.author) = "water"
trigger1 = AnimElem = 9
anim = f24
id = 7400
facing = -1
pos = 28,0
postype = p1
sprpriority = 5
supermove = 1
bindtime = 1

[State 855, whomp]
type = PlaySnd
triggerall = StageVar(info.author) = "water"
trigger1 = animelem = 9
value = F47, 0

[State 810, IL]
type = Width
trigger1 = 1
edge = 60,0

[State 948, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2041, 2]
type = Afterimage
trigger1 = AnimElem = 13
time = 2
length = 11
timegap = 1
paladd = 60,20,100
PalContrast = 220,200,350
palcolor = 0
framegap = 3

[State 2041, 2]
type = Afterimagetime
trigger1 = time%2 = 0 && time >= 0
time = 2

[State 810,]
type = EnvShake
trigger1 = AnimElemtime(14) = 4
ampl = 5
freq = 80
time = 15

[State 810,]
type = EnvShake
trigger1 = AnimElem = 17
ampl = 6
freq = 80
time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = s3500,1

[State 1000, HitDef]
type = HitDef
trigger1 = (gametime%10) = 1
attr = A, HP
damage = 25,7
getpower = 0,0
givepower = 0,0
animtype = hard
guardflag = MA
hitflag = MAF
pausetime = 0,2
guard.pausetime = 0,12
sparkno = 3
guard.sparkno = 42
sparkxy = -8,5
hitsound = 1,4
guardsound = 6,2
ground.type = hard
ground.slidetime = 19
ground.hittime = 19
ground.velocity = 0,-0
guard.velocity = -1
air.velocity = -0,0
air.hittime = 12
air.fall = 1
fall.recover = 0
fall= 1
fall.recover= 0
p2facing= 1
air.fall = 1
envshake.time = 62
envshake.ampl = -11
envshake.freq = 92
envshake.phase = 92
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
p2stateno = 13513
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 2000]
type = Explod
trigger1 = AnimElem = 10
anim = 13522
postype = P1
ID = 3522
pos = 10,22
sprpriority = 1
ownpal = 1
trans = add
scale = 0.8,0.8
bindtime = -1
supermove = 1

[State envshake]
type = EnvShake
trigger1 = animelem = 10
time = 12
ampl = -8
freq = 75
phase = 75

[State 700, GtFNg]
type = Explod
trigger1 = AnimElem = 12
anim = 13520
postype = P1
scale = 0.8,0.8
pos = 44, 20
bindtime = -1
sprpriority = 20
ownpal = 0
supermove = 1

[State 1100, GtFNg?]
type = Explod
trigger1 = AnimElem = 13
persistent = 0
anim = 13521
postype = P1
pos = 44,20
scale = 0.8,0.8
sprpriority = -1
bindtime = -1

[State 3000]
type = Projectile
trigger1 = AnimElem = 13
projID = 3521
projanim = 13521
projremove = 0
projpriority = 5
projsprpriority = 10
projshadow = 0,0,0
projhitanim = -1
projremanim = -1
projhits = 1
projremovetime = 78
supermovetime = 78
getpower = 0
ownpal = 1
offset = 0, 0
velocity = 0, 0
attr = S, HP
animtype = up
damage = 240 ,20
hitflag = MAF
hitsound = s3500,6
guardsound = 6,2
pausetime = 0,0
sparkno = 3
guard.sparkno = 42
sparkxy = 48,-15
ground.type = High
ground.hittime = 30
ground.slidetime = 30
ground.velocity = 0, -20
air.velocity = 0, -20
yaccel = .4
air.juggle = 0
p2stateno = 4215
envshake.time = 40
envshake.ampl = -25
envshake.freq = 102
envshake.phase = 102
fall.envshake.time = 40
fall.envshake.ampl = -11
fall.envshake.freq = 142
fall.envshake.phase = 142
fall = 1
fall.recover = 0
palfx.time = 70
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 13
value = s3500,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = s3500,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = s3500,4

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
