;------| TAG |------------------------------------------------------
[Command]
name = "ｻｻﾈﾋ"
command = ~B, F, B, F, s
time = 30

[Command]
name = "ﾔｮｻ､ｹ･ｻA"
command = ~D, DF, F, D, DF, F, s
time = 30

[Command]
name = "ﾔｮｻ､ｹ･ｻB"
command = ~D, DB, B, D, DB, B, s
time = 30
;------------------------------------------------------------------
;============================================================================================================================
;============================================================================================================================

;-|DMs/SDMs/HSDMs|-----------------------------------------------------------------------------------------------------------

[Command]
name = "ﾑｪ､ﾎｾﾐﾑ"
command = ~D, B, D, F, c
time = 40

[Command]
name = "whithering_atlas"
command = ~D, F, D, F,  c
time = 40

[Command]
name = "whithering"
command = ~D, B, D, B,  c
time = 40

[Command]
name = "negative_gain_sdm"
command = ~D, B, D, B, a+b
time = 40

[Command]
name = "negative_gain"
command = ~D, B, D, B, a
time = 40

[Command]
name = "negative_gain"
command = ~D, B, D, B, b
time = 40

[Command]
name = "whithering_surface_sdm"
command = ~D, F, D, F, x+y
time = 40

[Command]
name = "whithering_surface_x"
command = ~D, F, D, F, x
time = 40

[Command]
name = "whithering_surface_x"
command = ~D, F, D, F, y
time = 40

[Command]
name = "negative_surface_2"
command = ~D, F, D, F, a
time = 40

[Command]
name = "negative_surface_2"
command = ~D, F, D, F, b
time = 40

;-| Special Motions |--------------------------------------------------------------------------------------------------------

[Command]
name = "outrage1"
command = ~D, DB, B, a
time = 10

[Command]
name = "outrage2"
command = ~D, DB, B, b
time = 10

[Command]
name = "ravenous"
command = ~D, DB, B, a
time = 10

[Command]
name = "ravenous"
command = ~D, DB, B, b
time = 10

[Command]
name = "iravenous"
command = ~D, DB, B, a
time = 10

[Command]
name = "iravenous"
command = ~D, DB, B, b
time = 10

[Command]
name = "mayhem"
command = ~D, DB, B, x
time = 10

[Command]
name = "mayhem2"
command = ~D, DB, B, y
time = 10

[Command]
name = "gorefest"
command = ~F, DB, B, x
time = 20

[Command]
name = "gorefest"
command = ~F, DB, B, y
time = 20

[Command]
name = "blackend"
command = ~D, DF, F, x
time = 10

[Command]
name = "blackend"
command = ~D, DF, F, y
time = 10

[Command]
name = "decide"
command = ~D, DF, F, a
time = 10

[Command]
name = "decide2"
command = ~D, DF, F, b
time = 10

[Command]
name = "decide3"
command = ~F, DB, B,  a
time = 20

[Command]
name = "decide3"
command = ~F, DB, B,  b
time = 20

[Command]
name = "mithan"
command = ~D, DF, F, x
time = 10

[Command]
name = "mithan"
command = ~D, DF, F, y
time = 10

[Command]
name = "Ebony_x"
command = ~D, DB, F, x
time = 20

[Command]
name = "Ebony_y"
command = ~D, DB, F, y
time = 20

[Command]
name = "1098"
command = ~D, DF, s
time = 1

;-|2/3 Button Combination|---------------------------------------------------------------------------------------------------

[Command]
name = "recovery"
command = a+x
time = 1

[Command]
name = "knockdown"
command = c
time = 1

[Command]
name = "roll"
command = z
time = 1

[Command]
name = "roll"
command = x+a
time = 1

[Command]
name = "ay"
command = a+y
time = 1 

;-|Double Tap|---------------------------------------------------------------------------------------------------------------

[Command]
name = "FF"     ;Required (do not remove)
command = ~F,F
time = 4

[Command]
name = "BB"     ;Required (do not remove)
command = ~B,B
time = 4

;-| Single Button |----------------------------------------------------------------------------------------------------------

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| Hold Dir |---------------------------------------------------------------------------------------------------------------

[Command]
name = "holdfwd";Required (do not remove)
command = /$F
time = 1

[Command]
name = "holdback";Required (do not remove)
command = /$B
time = 1

[Command]
name = "holdup" ;Required (do not remove)
command = /$U
time = 1

[Command]
name = "holddown";Required (do not remove)
command = /$D
time = 1

[Command]
name = "F"
command = F
time = 1

[Command]
name = "B"
command = B
time = 1

[Command]
name = "U"
command = U
time = 1

[Command]
name = "D"
command = D
time = 1

[Command]
name = "a2"
command = a
time = 1

[Command]
name = "b2"
command = b
time = 1

[Command]
name = "c2"
command = c
time = 1

[Command]
name = "x2"
command = x
time = 1

[Command]
name = "y2"
command = y
time = 1

[Command]
name = "z2"
command = z
time = 1

[Command]
name = "start2"
command = s
time = 1

[Command]
name = "holdfwd2"
command = /$F
time = 1

[Command]
name = "holdback2"
command = /$B
time = 1

[Command]
name = "holdup2"
command = /$U
time = 1

[Command]
name = "holddown2"
command = /$D
time = 1

[Command]
name = "F2"
command = F
time = 1

[Command]
name = "B2"
command = B
time = 1

[Command]
name = "U2"
command = U
time = 1

[Command]
name = "D2"
command = D
time = 1


[command]
name = "fwd"
command = F
time = 1

[command]
name = "back"
command = B
time = 1

[command]
name = "up"
command = U
time = 1

[command]
name = "down"
command = D
time = 1


[Command]
name = "recovery2"
command = x+a
time = 1

[Command]
name = "knockdown2"
command = b+y
time = 1

;-|Dir + Button|-------------------------------------------------------------------------------------------------------------

[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

[Command]
name = "longjump"
command = D, $U
time = 11

;--------------------------------------------------------------------------
[Statedef -1]
;--------------------------------------------------------------------------
;============================================================================= 

[State -1]
type = ChangeState
value = 1990
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype != A
triggerall = stateno != [800,899)
triggerall = command = "ay"
trigger1 = stateno != 1990 && (stateno = [0,999]) && movecontact

[State -1]
type = ChangeState
value = 1991
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype != A
triggerall = command = "ay"
trigger1 = ctrl || stateno = 100

; air(ｿﾕﾖﾐ)
[State -1]
type = ChangeState
value = 1992
triggerall = !winko
triggerall = power >= 1000
triggerall = fvar(30) < 1 && statetype= A
triggerall = stateno != [800,899)
triggerall = command = "ay"
trigger1 = stateno != 1992 && (stateno = [0,999])

;============================================================================================================================
; Supers / Hypers
;============================================================================================================================

[State -1]
type = ChangeState
value = 3700
triggerall = Command = "ﾑｪ､ﾎｾﾐﾑ" && Power >= 2000
trigger1 = statetype != A && ctrl
trigger1 = fvar(30) > 0
trigger2 = stateno = 1200 && movecontact && fvar(29) > 1000
trigger3 = stateno = 1300 && movecontact && fvar(29) > 1000
trigger4 = stateno = 1400 && movecontact && fvar(29) > 1000
trigger5 = stateno = 1500 && movecontact && fvar(29) > 1000
;============================================================================================================================

[State -1,Atlas HSDM]
type = ChangeState
value = ifelse(statetype != A,3600,3900)
triggerall = command = "whithering_atlas"
triggerall = power >= 2000 
trigger1 = fvar(30) > 0
trigger1 =  ctrl
trigger2 = stateno = 2510 && movecontact && fvar(29) > 1000

[State -1,Atlas HSDM]
type = ChangeState
value = 3900
triggerall = command = "whithering_atlas"
triggerall = power >= 2000 
trigger1 = stateno = 3505 || stateno = 3003 || stateno = 3002
trigger1 = pos y < -30 && fvar(29) > 1000

[State -1,Atlas HSDM]
type = ChangeState
value = 3800
triggerall = command = "whithering"&& Power >= 2000
triggerall = statetype != A && ctrl
trigger1 = fvar(30) > 0
trigger2 = stateno = 1200 && movecontact && fvar(29) > 1000
trigger3 = stateno = 1300 && movecontact && fvar(29) > 1000
trigger4 = stateno = 1400 && movecontact && fvar(29) > 1000
trigger5 = stateno = 1500 && movecontact && fvar(29) > 1000

[State -1,Atlas HSDM]
type = ChangeState
value = 1098
triggerall = var(41) < 10
triggerall = power >= 500
triggerall = command = "1098"
triggerall = !var(24)
trigger1 = stateno = 500 && animelemtime(1) >=0 && animelemtime(8) < 0
trigger2 = stateno = 500 && movecontact 
trigger3 = stateno = 235 && animelemtime(6) >=0 && animelemtime(8) < 0

[State -1,Gain SDM]
type = ChangeState
value = 3100
triggerall = command = "negative_gain_sdm"&& !var(24)
triggerall = power >= ifelse(fvar(30) > 0,1000,2000)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 1400 && movecontact
trigger14 = stateno = 3003 && time > 18
; Negative Gain DM

[State -1,Gain DM]
type = ChangeState
value = 3000
triggerall = command = "negative_gain"&& !var(24)
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 1400 && movecontact

; Whithering Surface SDM

[State -1,Surface SDM]
type = ChangeState
value = 14000
triggerall = command = "whithering_surface_sdm"&& !var(24)
triggerall = power >= ifelse(fvar(30) > 0,1000,2000)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact


; Whithering Surface DM

[State -1,Surface DM]
type = ChangeState
value = 3501
triggerall = command = "whithering_surface_x"&& !var(24)
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact

[State -1,Surface DM]
type = ChangeState
value = 3501
triggerall = command = "whithering_surface_x"&& !var(24)
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact

;============================================================================================================================
; Special Moves
;============================================================================================================================

[State -1,Really Fake DM]
type = ChangeState
value = 2500
triggerall = command = "negative_surface_2"&& !var(24)
triggerall = power >= ifelse(fvar(30) > 0,0,1000)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 ; Crouching Strong Kick
trigger11 = stateno = 700 && movecontact
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 
trigger13 = (stateno = 550)&&(movecontact)
trigger14 = (stateno = 1300)&&(movecontact)
;==================================================
;---------------------------------------------------------------------------
; エボニーティアーズ
[State -1]
type = ChangeState
value = 2100
triggerall = Command = "Ebony_x"
triggerall = statetype != A && var(55) = 0
trigger1 = ctrl || (stateno = 100 && time > 3)
trigger2 = AnimElem = 2, >= 1 && AnimElem = 2, <= 3 && (stateno = 200 || stateno = 205 || stateno = 400 || stateno = 235)
trigger3 = AnimElem = 4, >= 1 && AnimElem = 4, <= 4 && stateno = 215
trigger4 = AnimElem = 6, >= 1 && AnimElem = 6, <= 6 && stateno = 245
trigger5 = AnimElem = 7, >= 1 && AnimElem = 7, <= 5 && stateno = 250
trigger6 = AnimElem = 5, >= 1 && AnimElem = 5, <= 2 && stateno = 410
trigger7 = AnimElem = 4, >= 1 && AnimElem = 4, <= 3 && stateno = 430
trigger8 = AnimElem = 4, >= 1 && AnimElem = 4, <= 5 && stateno = 440

[State -1]
type = ChangeState
value = 2105
triggerall = Command = "Ebony_y"
triggerall = statetype != A && var(55) = 0
trigger1 = ctrl || (stateno = 100 && time > 3)
trigger2 = AnimElem = 2, >= 1 && AnimElem = 2, <= 3 && (stateno = 200 || stateno = 205 || stateno = 400 || stateno = 235)
trigger3 = AnimElem = 4, >= 1 && AnimElem = 4, <= 4 && stateno = 215
trigger4 = AnimElem = 6, >= 1 && AnimElem = 6, <= 6 && stateno = 245
trigger5 = AnimElem = 7, >= 1 && AnimElem = 7, <= 5 && stateno = 250
trigger6 = AnimElem = 5, >= 1 && AnimElem = 5, <= 2 && stateno = 410
trigger7 = AnimElem = 4, >= 1 && AnimElem = 4, <= 3 && stateno = 430
trigger8 = AnimElem = 4, >= 1 && AnimElem = 4, <= 5 && stateno = 440

;---------------------------------------------------------------------------
; Gorefest
;---------

[State -1,gorefest]
type = ChangeState
value = 2000
triggerall = command = "gorefest" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
; BlackEnd
;---------

[State -1,blackend]
type = ChangeState
value = 1600
triggerall = command = "blackend" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = StateNo = 102
trigger14 = StateNo = 100


[State -1,decide]
type = ChangeState
value = 1900
triggerall = command = "decide3" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 500 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger14 = stateno = 1400 && movecontact
trigger15 = stateno = 211 && time > 4
trigger16 = stateno = 211 && movecontact
trigger17 = stateno = 1300 && time > 29
trigger18 = stateno = 1200 && time > 19
trigger19 = stateno = 210 && time > 4
trigger20 = stateno = 210 && movecontact

; Outrage
;--------
[State -1,decide]
type = ChangeState
value = 1800
triggerall = command = "decide2" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 500 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger14 = stateno = 1400 && movecontact
trigger15 = stateno = 211 && time > 4
trigger16 = stateno = 211 && movecontact
trigger17 = stateno = 1300 && time > 29
trigger18 = stateno = 1200 && time > 19
trigger19 = stateno = 210 && time > 4
trigger20 = stateno = 210 && movecontact

[State -1,decide]
type = ChangeState
value = 1802
triggerall = command = "decide" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 500 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger14 = stateno = 1400 && movecontact
trigger15 = stateno = 211 && time > 4
trigger16 = stateno = 211 && movecontact
trigger17 = stateno = 1300 && time > 29
trigger18 = stateno = 1200 && time > 19
trigger19 = stateno = 210 && time > 4
trigger20 = stateno = 210 && movecontact

[State -1,outrage]
type = ChangeState
value = 1200
triggerall = command = "outrage1" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 1400 && movecontact
trigger14 = stateno = 1351
trigger15 = stateno = 1500 && movecontact

[State -1,outrage]
type = ChangeState
value = 1300
triggerall = command = "outrage2" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 1200 && time > 10

[State -1,ravenous]
type = ChangeState
value = 1350
triggerall = command = "ravenous" && !var(24)
trigger1 = statetype = A && ctrl
trigger2 = stateno = 400 && animelemtime(3) >=0 && animelemtime(4) < 0 && movecontact
trigger3 = stateno = 420 && animelemtime(2) >=0 && animelemtime(5) < 0 && movecontact
trigger4 = stateno = 105 && time > 3

[State -1,ravenous]
type = ChangeState
value = 1350
triggerall = command = "iravenous" && !var(24)
triggerall = facing = (enemy, facing)
trigger1 = statetype = A && ctrl
trigger2 = stateno = 400 && animelemtime(3) >=0 && animelemtime(4) < 0
trigger3 = stateno = 105 && time > 3

; Mayhem
;-------

[State -1,mayhem]
type = ChangeState
value = 1400
triggerall = command = "mayhem" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && time > 20 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 500 && movecontact
trigger14 = stateno = 211 && time > 4
trigger15 = stateno = 211 && movecontact

[State -1,mayhem]
type = ChangeState
value = 1500
triggerall = command = "mayhem2" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact
trigger13 = stateno = 1400 && movecontact
trigger14 = stateno = 500 && movecontact
trigger15 = stateno = 211 && time > 4
trigger16 = stateno = 211 && movecontact
; Decide
;-------

[State -1, DLake Drive]
type = ChangeState
value = 1098
triggerall = var(24)
triggerall =  power >= 500
triggerall = var(41) < 10
triggerall = RoundState = 2
trigger1 = stateno = 500 && movehit

; Decide Slayer
;--------------

;[State -1,decide]
;type = ChangeState
;value = 1900
;triggerall = command = "decide_slayer" && !var(24)
;trigger1 = statetype != A && ctrl 
;trigger2 = StateNo = 101

;============================================================================================================================
; Standard Moves
;============================================================================================================================

; Run
;----
[State -1, run]
type = ChangeState
value = 100
triggerall = command = "FF" && !var(24)
trigger1 = statetype != A && ctrl

; Hop Back
;---------
[State -1, hop back]
type = ChangeState
value = 105
triggerall = command = "BB" && !var(24)
trigger1 = statetype != A && ctrl

; Roll Forward
;-------------
[State -1, roll fwd]
type = ChangeState
value = 110
triggerall = command = "roll" && command != "holdback" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101

; Roll Back
;----------
[State -1, roll back]
type = ChangeState
value = 115
triggerall = command = "roll" && command = "holdback" && !var(24)
trigger1 = statetype != A && ctrl
trigger2 = StateNo = 101

; Taunt
;------
[State -1]
type = ChangeState
value = 195
triggerall = command = "start" && ctrl && !var(24)
trigger1 = StateType != A
trigger2 = StateNo = 101

;============================================================================================================================
; Additionnal Attacks
;============================================================================================================================

; Monstrosity
;------------

[State -1, Monstrosity]
type = ChangeState
value = 500
triggerall = command = "holdfwd" && command = "x" && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Punch
trigger4 = stateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0 && movecontact ; Stand Light Kick (close)
trigger5 = stateno = 225 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Stand Strong Punch (close)
trigger6 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movecontact ; Stand Strong Kick (close) 2nd Hit
trigger7 = stateno = 300 && animelemtime(2) >=1 && animelemtime(3) < 2 && movecontact ; Crouching Light Punch
trigger8 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ; Crouching Light Kick
trigger9 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movecontact ; Crouching Strong Punch
trigger10 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact ; Crouching Strong Kick
trigger11 = stateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0 && movecontact ; Knockdown Attack
trigger12 = stateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0 && movecontact

; Knockdown Attack
;-----------------

[State -1, Rush]
type = ChangeState
value = 510
triggerall = command = "knockdown" && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101

; Knockdown Attack (Air)
;-----------------------

[State -1, Blow Away Attack]
type = ChangeState
value = 520
triggerall = command = "knockdown" && !var(24)
trigger1 = StateType = A && ctrl
trigger2 = StateNo = 101

;============================================================================================================================
; Emergency System
;============================================================================================================================

[State -1,CD counter]
type = ChangeState
value = 700
triggerall = command = "knockdown" && !var(24)
triggerall = power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152

[State -1,RollF counter]
type = ChangeState
value = 701
triggerall = command = "roll" && !var(24)
triggerall = power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,RollB Counter]
type = ChangeState
value = 702
triggerall = command = "roll" && command = "holdback" && !var(24)
triggerall = power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 
 
[State -1,Counter CD Evasion]
type = ChangeState
value = 701
triggerall = command = "roll" && !var(24)
triggerall = power >= 1000 && life > 0 && statetype != A
trigger1 = prevstateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0
trigger2 = prevstateno = 210 && animelemtime(8) >=0 && animelemtime(9) < 0
trigger3 = prevstateno = 215 && animelemtime(2) >=0 && animelemtime(3) < 0
trigger4 = prevstateno = 220 && animelemtime(3) >=0 && animelemtime(4) < 0
trigger5 = prevstateno = 225 && animelemtime(3) >=0 && animelemtime(4) < 0
trigger6 = prevstateno = 230 && animelemtime(4) >=0 && animelemtime(5) < 0
trigger7 = prevstateno = 235 && animelemtime(2) >=0 && animelemtime(3) < 0
trigger8 = prevstateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0
trigger9 = prevstateno = 300 && animelemtime(2) >=0 && animelemtime(3) < 0
trigger10 = prevstateno = 310 && animelemtime(4) >=0 && animelemtime(5) < 0
trigger11 = prevstateno = 320 && animelemtime(3) >=0 && animelemtime(4) < 0
trigger12 = prevstateno = 330 && animelemtime(4) >=0 && animelemtime(5) < 0
trigger13 = prevstateno = 500 && animelemtime(4) >=0 && animelemtime(5) < 0
trigger14 = prevstateno = 510 && animelemtime(7) >=0 && animelemtime(8) < 0
trigger15 = prevstateno = 700 && animelemtime(7) >=0 && animelemtime(8) < 0

;============================================================================================================================
; Normal Throws
;============================================================================================================================

[State -1, Death Blow]
type = ChangeState
value = 600
triggerall = command = "y" && !var(24)
triggerall = statetype = S && ctrl && stateno != [100,101]
trigger1 = command = "holdfwd" && p2bodydist X < 5 && p2movetype != H
trigger1 = (p2statetype = S) || (p2statetype != A)
trigger2 = command = "holdback" && p2bodydist X < 5 && p2movetype != H
trigger2 = (p2statetype = S) || (p2statetype != A)

[State -1, Back Rush]
type = ChangeState
value = 650
triggerall = command = "b" && !var(24)
triggerall = statetype = S && ctrl && stateno != [100,101]
trigger1 = command = "holdfwd" && p2bodydist X < 5 && p2movetype != H
trigger1 = (p2statetype = S) || (p2statetype != A)
trigger2 = command = "holdback" && p2bodydist X < 5 && p2movetype != H
trigger2 = (p2statetype = S) || (p2statetype != A)

;============================================================================================================================
; Normal Attacks
;============================================================================================================================

; Stand Light Punch
;------------------
[State -1, stand light punch]
type = ChangeState
value = 200
triggerall = command = "x" && command != "holddown" && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101
trigger3 = stateno = 200 && animelemtime(2) >=0 && animelemtime(3) < 0 ; Stand Light Punch
trigger4 = stateno = 300 && animelemtime(2) >=0 && animelemtime(3) < 0 ; Crouch Light Punch
trigger5 = stateno = 310 && animelemtime(4) >=0 && animelemtime(5) < 0 ; Crouch Light Kick

[State -1, stand light kick]
type = ChangeState
value = 216
triggerall = command = "a" && command = "holdfwd" && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101
; Stand Light Kick
;-----------------
[State -1, stand light kick]
type = ChangeState
value = 210
triggerall = command = "a" && command != "holddown" && p2bodydist x > 20 && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101

; Stand Light Kick (close)
;-------------------------
[State -1, stand light kick]
type = ChangeState
value = 215
triggerall = command = "a" && command != "holddown" && p2bodydist x <= 20 && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101

; Stand Strong Punch
;-------------------
[State -1, stand strong punch]
type = ChangeState
value = 220
triggerall = command = "y" && command != "holddown" && p2bodydist x > 20 && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101

; Stand Strong Punch (close)
;---------------------------
[State -1, stand strong punch]
type = ChangeState
value = 225
triggerall = command = "y" && command != "holddown" && p2bodydist x <= 20 && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101
trigger3 = StateNo = 1098 && time > 6

; Stand Strong Kick
;------------------
[State -1, stand strong kick]
type = ChangeState
value = 230
triggerall = command = "b" && command != "holddown" && p2bodydist x > 20 && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101

; Stand Strong Kick (close)
;--------------------------
[State -1, stand strong kick]
type = ChangeState
value = 235
triggerall = command = "b" && command != "holddown" && p2bodydist x <= 20 && !var(24)
trigger1 = StateType != A && ctrl
trigger2 = StateNo = 101

; Crouch Light Punch
;-------------------
[State -1, crouch light punch]
type = ChangeState
value = 300
triggerall = command = "x" && command = "holddown" && !var(24)
trigger1 = StateType = C && ctrl
trigger2 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3
trigger3 = StateNo = 101

; Crouch Light Kick
;------------------
[State -1, crouch light kick]
type = ChangeState
value = 310
triggerall = command = "a" && command = "holddown" && !var(24)
trigger1 = StateType = C && ctrl
trigger2 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3
trigger3 = StateNo = 101

; Crouch Strong Punch
;--------------------
[State -1, crouch strong punch]
type = ChangeState
value = 320
triggerall = command = "y" && command = "holddown" && !var(24)
trigger1 = StateType = C && ctrl
trigger2 = StateNo = 101

; Crouch Strong Kick
;-------------------
[State -1, crouch strong kick]
type = ChangeState
value = 330
triggerall = command = "b" && command = "holddown" && !var(24)
trigger1 = StateType = C && ctrl
trigger2 = StateNo = 101

; Air Light Punch
;----------------
[State -1, air light punch]
type = ChangeState
value = 400
triggerall = command = "x" && !var(24)
trigger1 = StateType = A && ctrl

; Air Light Kick
;---------------
[State -1, air light kick]
type = ChangeState
value = 410
triggerall = command = "a" && !var(24)
trigger1 = StateType = A && ctrl

; Air Fierce Punch
;-----------------
[State -1, air fierce punch]
type = ChangeState
value = 420
triggerall = command = "y"
trigger1 = StateType = A && ctrl

; Air Fierce Kick
;----------------
[State -1, air fierce kick]
type = ChangeState
value = 430
triggerall = command = "b" && !var(24)
trigger1 = StateType = A && ctrl

;================================================================================
;------------------------------------------------------------------------------

[State 210, 41]
type = varadd
trigger1 = 1
v = 41
value = -6

[State -1, AI Helper Check]
type = ChangeState
trigger1 = IsHelper(9741)
value = 9741

[State -1, AI Helper Check 2]
type = ChangeState
trigger1 = IsHelper(9742)
value = 9741

[State -1, Guard Var] ; Before any ChangeStates.
type = VarSet
trigger1 = P2MoveType = A && random <= 400
trigger2 = NumEnemy
trigger2 = (enemy, numproj > 0) && random <= 400
trigger3 = P2MoveType != A
trigger3 = (enemy, numproj = 0)
trigger3 = var(22):=0
var(22) = 1

;============================================================================================================================
; AI - Hyper Attacks
;============================================================================================================================
;----------------------------------------------------------------------------------------------------------------------------
; Whithering Atlas HSDM/MAX2
; Trigger1 = Try it if opponent is close enough
[State -1, DLake Drive]
type = ChangeState
value = 3900
triggerall = var(24); && power >= 2000
triggerall = RoundState = 2
triggerall = p2life > 80
triggerall = life < 500
triggerall = pos y < -30
trigger1 = stateno = 3505 && time = 4
trigger2 = stateno = 3003

[State -1, DLake Drive]
type = ChangeState
value = 3900
triggerall = var(24) && power >= 2000
triggerall = RoundState = 2
triggerall = random < 500
triggerall = p2life > 80
triggerall = pos y < -30
trigger1 = stateno = 3505 && time = 4
trigger2 = stateno = 3003

[State -1, DLake Drive]
type = ChangeState
value = 1802
triggerall = var(24)
triggerall = life > 800
triggerall = random < 80
triggerall = RoundState = 2
trigger1 = stateno = 500
trigger1 = movehit

[State -1, DLake Drive]
type = ChangeState
value = 1400
triggerall = var(24)
triggerall = RoundState = 2
trigger1 = stateno = 500
trigger1 = movecontact

[State -1, DLake Drive]
type = ChangeState
value = 500
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = p2statetype != A 
trigger1 = stateno = 225 && movecontact
trigger1 = p2dist x = [0,65]
trigger2 = stateno = 235 && movecontact
trigger2 = p2dist x = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 1200
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
trigger1 = stateno = 1400 && movecontact

[State -1, DLake Drive]
type = ChangeState
value = 1400
triggerall = var(24)
triggerall = p2statetype != A 
triggerall = RoundState = 2
trigger1 = stateno = 320 && movecontact
trigger1 = p2dist x = [0,85]

[State -1, DLake Drive]
type = ChangeState
value = 225
triggerall = var(24) && p2statetype != C 
triggerall = RoundState = 2 
trigger1 =  stateno = 1098 &&p2dist x = [0,40]
trigger2 = prevstateno = 1098 &&p2dist x = [0,40]

[State -1, DLake Drive]
type = ChangeState
value = 2000
triggerall = var(24)
triggerall = RoundState = 2 
trigger1 =  stateno = 1098 &&p2dist x = [0,40]
trigger2 =  prevstateno = 1098 &&p2dist x = [0,40]
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;vai

[State -1, DLake Drive]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = p2dist x > 65
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102
trigger1 = enemy,numproj >= 1 && inguarddist

[State -1, DLake Drive]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = p2dist x = [100,200]
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102
trigger1 = enemy,numproj >= 1 && random < 45

[State -1, DLake Drive]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = random < 110
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102 
trigger1 = p2statetype = C
trigger1 = p2movetype = A
trigger1 = P2BodyDist X = [0,135]

[State -1, DLake Drive]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = random < 44
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102 
trigger1 = p2statetype = S
trigger1 = p2movetype = A
trigger1 = P2BodyDist X = [0,135]

[State -1, DLake Drive]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = random < 11
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102 
trigger1 = p2statetype = A
trigger1 = p2movetype = A
trigger1 = P2BodyDist X = [0,135]

[State -1, DLake Drive]
type = ChangeState
value = 320
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = random < 90
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102 
trigger1 = p2movetype != A
trigger1 = p2statetype = A
trigger1 = P2BodyDist X = [0,65]
trigger1 = P2BodyDist y = [-25,0]
trigger1 = p2movetype != H

[State -1, DLake Drive]
type = ChangeState
value = 1500
triggerall = var(40) > 99999
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102 

[State 1410, Mithan]
type = ChangeState
value = 1700
triggerall = RoundState = 2
triggerall = var(24)
trigger1 = p2dist x > 0
trigger1 = AnimElem = 7, >=0
trigger1 = p2stateno >= 5000
trigger1 = stateno = 1500 && movehit

[State -1, DLake Drive]
type = ChangeState
value = 1802
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = life < 400
trigger1 = stateno = 210 && movehit

[State -1, DLake Drive]
type = ChangeState
value = 1802
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = life < 600
triggerall = random < 600
trigger1 = stateno = 210 && movehit

[State -1, DLake Drive]
type = ChangeState
value = 1802
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = life < 800
triggerall = random < 400
trigger1 = stateno = 210 && movehit

[State -1, DLake Drive]
type = ChangeState
value = 1802
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = random < 200
trigger1 = stateno = 210 && movehit

[State -1, DLake Drive]
type = ChangeState
value = 225
triggerall = var(24)
triggerall = RoundState = 2
triggerall = p2statetype != C
triggerall = random < 225
triggerall = p2stateno != 5040 &&  p2stateno != 5120
triggerall = enemynear, vel x <= 0
trigger1 = stateno = 52
trigger1 = P2BodyDist X = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 235
triggerall = var(24)
triggerall = RoundState = 2
triggerall = enemynear, vel x <= 0
triggerall = random < 235
triggerall = p2stateno != 5040 &&  p2stateno != 5120
trigger1 = stateno = 52
trigger1 = P2BodyDist X = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 3100
triggerall = var(24)
triggerall = RoundState = 2
triggerall = power >= 2000
triggerall = power < 3000
triggerall = life < 600
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = p2stateno != 40
triggerall = p2stateno != 5120
triggerall = random < 310
trigger1 = stateno = 52
trigger1 = P2BodyDist X = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 3000
triggerall = var(24)
triggerall = RoundState = 2
triggerall = power >= 1000
triggerall = life < 600
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = p2stateno != 40
triggerall = p2stateno != 5120
triggerall = random < 300
trigger1 = stateno = 52
trigger1 = P2BodyDist X = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 3000
triggerall = var(24)
triggerall = RoundState = 2
triggerall = power >= 1000
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = p2stateno != 40
triggerall = p2stateno != 5120
triggerall = random < 30
trigger1 = stateno = 52
trigger1 = P2BodyDist X = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 2000
triggerall = var(24)
triggerall = RoundState = 2
triggerall = random < 200
triggerall = p2statetype != A
triggerall = p2stateno != 40
triggerall = p2stateno != [150,159]
trigger1 = stateno = 52
trigger1 = P2BodyDist X = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 1600
triggerall = var(24)
triggerall = RoundState = 2
triggerall = random < 320
triggerall = p2statetype != A
triggerall = p2stateno != 40
triggerall = p2stateno != [150,159]
trigger1 = stateno = 52
trigger1 = P2BodyDist X = [0,65]

[State -1, DLake Drive]
type = ChangeState
value = 2000
triggerall = var(24)
triggerall = RoundState = 2
triggerall = random < 200
triggerall = p2statetype != A
triggerall = p2stateno != 40
triggerall = statetype != A
triggerall = p2stateno != [150,159]
trigger1 = p2stateno = 52
trigger1 = P2BodyDist X = [0,65]
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101

[State -1, DLake Drive]
type = ChangeState
value = 1600
triggerall = var(24)
triggerall = RoundState = 2
triggerall = random < 160
triggerall = p2statetype != A
triggerall = p2stateno != 40
triggerall = statetype != A
triggerall = p2stateno != [150,159]
trigger1 = p2stateno = 52
trigger1 = P2BodyDist X = [0,65]
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101

[State -1,]
type = ChangeState
value = 1802
triggerall = roundstate = 2
triggerall = var(24)
triggerall = p2movetype != A
triggerall = p2movetype != H
triggerall = p2stateno != 40
triggerall = enemy,numproj < 1
triggerall = p2statetype = S
triggerall = random < 13
triggerall = p2bodydist x = [110,160]
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101
trigger1 = statetype != A

[State -1,]
type = ChangeState
value = 1802
triggerall = roundstate = 2
triggerall = var(24)
triggerall = p2movetype = A
triggerall = p2movetype != H
triggerall = p2stateno != 40
triggerall = enemy,numproj < 1
triggerall = enemy,numhelper < 1
triggerall = enemynear,vel x <= 0
triggerall = p2statetype = S
triggerall = random < 130
triggerall = p2bodydist x = [110,160]
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101
trigger1 = statetype != A
trigger1 = !inguarddist

[State -1,]
type = ChangeState
value = 1802
triggerall = roundstate = 2
triggerall = var(24)
triggerall = p2movetype = A
triggerall = p2movetype != H
triggerall = p2stateno != 40
triggerall = enemy,numproj < 1
triggerall = enemy,numhelper >= 1
triggerall = enemynear,vel x <= 0
triggerall = p2statetype = S
triggerall = random < 30
triggerall = p2bodydist x = [110,160]
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101
trigger1 = statetype != A
trigger1 = !inguarddist

[State -1,]
type = ChangeState
value = 320
triggerall = roundstate = 2
triggerall = var(24)
triggerall = enemynear,vel x >= 0
triggerall = p2bodydist y = [-45,35]
triggerall = p2bodydist x = [0,70]
triggerall = random < 80
triggerall = p2statetype = A
triggerall = statetype != A
triggerall = p2movetype != A
triggerall = p2movetype != H
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101

[State -1,]
type = ChangeState
value = 320
triggerall = roundstate = 2
triggerall = var(24)
triggerall = enemynear,vel x >= 0
triggerall = enemynear,vel y >= 0
triggerall = p2bodydist x = [0,70]
triggerall = statetype != A
triggerall = p2statetype = A
triggerall = random < 80
triggerall = p2stateno < 1000
triggerall = p2movetype = A
triggerall = p2movetype != H
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101

[State -1,]
type = ChangeState
value = 320
triggerall = roundstate = 2
triggerall = var(24)
triggerall = enemynear,vel x >= 0
triggerall = enemynear,vel y >= 0
triggerall = statetype != A
triggerall = p2bodydist y = [-45,35]
triggerall = p2bodydist x = [0,70]
triggerall = p2statetype = A
triggerall = random < 160
triggerall = p2stateno < 1000
triggerall = p2movetype = A
triggerall = p2movetype != H
trigger1 = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[State -1, DLake Drive]
type = ChangeState
value = 3900
triggerall = p2stateno != 5040 && power >= 2000
triggerall = random < 60
triggerall = var(24) && statetype = A && ctrl && pos y >= -30 ; Avoids Vice to perform it if she's not high enough.
trigger1 = P2StateType = A && P2MoveType != H && P2BodyDist X <= 45 && (p2bodydist y = [-25,25])

[State -1, DLake Drive]
type = ChangeState
value = 3900
triggerall = p2stateno != 5040 && power >= 2000
triggerall = life < 600
triggerall = random < 600
triggerall = var(24) && statetype = A && ctrl && pos y >= -30 ; Avoids Vice to perform it if she's not high enough.
trigger1 = P2StateType = A && P2MoveType != H && P2BodyDist X <= 45 && (p2bodydist y = [-25,25])
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Negative Gain SDM
; Trigger1 = Regular SDM Attempt
; Trigger2 = Perform if 2nd hit of Standing Strong Kick (close) hits successfully
; Trigger3 = Perform if Crouching Strong Punch hits successfully
; Trigger4 = Running SDM Attempt if opponents runs.

[State -1, NG SDM]
type = ChangeState
value = 3100
triggerall = p2statetype != L
triggerall = p2stateno != 40
triggerall = p2stateno != 5120
triggerall = p2stateno != 5040
triggerall = var(24) && var(18) <= 0 && p2statetype != A
triggerall = statetype != A && power >= 2000
triggerall = power < 3000
trigger1 = p2bodydist x <= 30 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201 && ctrl && random <= 100
trigger2 = p2bodydist x <= 40 && p2statetype != A && p2statetype != L && statetype != A && p2stateno = 100 && stateno = 100 && random <= 200
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Negative Gain DM
; Trigger1 = Regular DM Attempt
; Trigger2 = Perform if 2nd hit of Standing Strong Kick (close) hits successfully
; Trigger3 = Perform if Crouching Strong Punch hits successfully
; Trigger4 = Running SDM Attempt if opponents runs.

[State -1, NG SDM]
type = ChangeState
value = 3000
triggerall = p2statetype != L
triggerall = p2stateno != 40
triggerall = p2stateno != 5120
triggerall = p2stateno != 5040
triggerall = var(24) && var(18) <= 0 && p2statetype != A
triggerall = statetype != A && power >= 1000
trigger1 = p2bodydist x <= 30 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201 && ctrl && random <= 100
trigger2 = p2bodydist x <= 40 && p2statetype != A && p2statetype != L && statetype != A && p2stateno = 100 && stateno = 100 && random <= 200
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Whithering Surface SDM
; Trigger1 = Trying to make opponent attack active time perform during Vice's starting invincibility time
; Trigger2 = Perform it if opponent spanws a projectile

[State -1, WS-SDM]
type = ChangeState
value = 3100
triggerall = power < 3000
triggerall = p2statetype != L
triggerall = p2stateno != 40
triggerall = p2stateno != 5120
triggerall = p2stateno != 5040
triggerall = var(24) && ctrl
triggerall = p2bodydist x >= 0
triggerall = statetype != A && power >= 2000
trigger1 = p2bodydist x <= 50 && p2statetype != A && p2movetype = A && p2statetype != L && random <= 200 ;&& p2stateno != 5201
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Whithering Surface DM - A version
; Trigger1 = Trying to make opponent attack active time perform during Vice's starting invincibility time
; Trigger2 = Perform it if opponent spanws a projectile
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Whithering Surface DM - C version
; Trigger1 = Trying to make opponent attack active time perform during Vice's starting invincibility time
; Trigger2 = Perform it if opponent spanws a projectile
[State -1, WS-DM]
type = ChangeState
value = 3501
triggerall = p2stateno != 5040
triggerall = var(24)
triggerall = p2bodydist x >= 0
triggerall = ctrl || stateno = 100 || stateno = 101 || stateno = 102 || prevstateno = 110
triggerall = statetype != A && power >= 1000
triggerall = p2stateno != 40
triggerall = random < 350
triggerall = enemynear ,vel x < 3
trigger1 = p2bodydist x <= 75 && p2statetype != A && p2movetype = A && p2statetype != L && random <= 200
trigger2 = p2bodydist x <= 130 && p2statetype != A && (enemy, numproj > 0) && random <= 300
;----------------------------------------------------------------------------------------------------------------------------
;============================================================================================================================
; AI - Special Attacks
;============================================================================================================================
;----------------------------------------------------------------------------------------------------------------------------
; BlackEnd
; Trigger1 = Regular Throw Attempt
; Trigger2 = Perform if 2nd hit of Standing Strong Kick (close) hits successfully
; Trigger3 = Perform if Crouching Light Punch hits successfully
; Trigger4 = Running Throw Attempt if opponents runs.

[State -1, RollF]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A
triggerall = random < 88
triggerall = stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2movetype = A
trigger1 = p2statetype = C
trigger1 = p2dist x = [65,140]

[State -1, RollF]
type = ChangeState
value = 102
triggerall = var(24) && statetype != A
triggerall = p2stateno != 40
triggerall = p2statetype = S || p2statetype = C 
triggerall = random < 12
triggerall = ctrl || stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2dist x = [90,160]
trigger1 = enemy,numproj < 1

[State -1, RollF]
type = ChangeState
value = 1802
triggerall = var(24) && statetype != A
triggerall = p2stateno != 40
triggerall = p2statetype = S || p2statetype = C 
triggerall = random < 20
triggerall = ctrl || stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2dist x = [120,150]
trigger1 = enemy,numproj < 1

[State -1, RollF]
type = ChangeState
value = 310
triggerall = var(24) && statetype != A
triggerall = random < 31
triggerall = stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2dist x = [90,120]
trigger1 = enemy,numproj < 1

[State -1, RollF]
type = ChangeState
value = 105
triggerall = var(24) && statetype != A
triggerall = random < 15
triggerall = stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2dist x = [90,120]
trigger1 = enemy,numproj < 1

[State -1, BEnd]
type = ChangeState
value = 225
triggerall = p2stateno != 5040
triggerall = p2stateno != 40
triggerall = p2movetype != H
triggerall = var(24) && statetype != A
triggerall = random < 320
triggerall = p2dist x >= 0 
triggerall = prevstateno = 110
trigger1 = p2dist x < 55 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201
trigger2 = p2dist x < 55 && p2statetype != A && p2statetype != L && statetype != A && p2stateno = 100

[State -1, BEnd]
type = ChangeState
value = 1600
triggerall = p2stateno != 5040
triggerall = p2stateno != 40
triggerall = p2movetype != H
triggerall = var(24) && statetype != A
triggerall = random < 600
triggerall = p2dist x >= 0 
triggerall = prevstateno = 110
trigger1 = p2dist x < 65 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201
trigger2 = p2dist x < 65 && p2statetype != A && p2statetype != L && statetype != A && p2stateno = 100

[State -1, BEnd]
type = ChangeState
value = 220
triggerall = p2stateno != 5040
triggerall = p2stateno != 40
triggerall = p2movetype != H
triggerall = var(24) && statetype != A
triggerall = random < 320
triggerall = p2dist x >= 0 
triggerall = prevstateno = 110
trigger1 = p2dist x < 95 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201
trigger2 = p2dist x < 95 && p2statetype != A && p2statetype != L && statetype != A && p2stateno = 100

[State -1, RollF]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A
triggerall = random < 2
triggerall = p2movetype != H
triggerall = p2statetype != L
triggerall = p2statetype != A
triggerall = stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2dist x = [0,80]

[State -1, BEnd]
type = ChangeState
value = 1600
triggerall = p2stateno != 5040
triggerall = p2stateno != 40
triggerall = p2movetype != H
triggerall = var(24) && statetype != A
triggerall = random < 320
triggerall = p2dist x >= 0 
triggerall = ctrl || stateno = 100 || stateno = 101 || stateno = 102 || prevstateno = 110
trigger1 = p2dist x < 65 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201
trigger2 = p2dist x < 65 && p2statetype != A && p2statetype != L && statetype != A && p2stateno = 100
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; GoreFest
; Trigger1 = Regular Throw Attempt
; Trigger2 = Perform if 1st hit of Standing Strong Punch (close) hits successfully
; Trigger3 = Perform if Crouching Light Punch hits successfully
; Trigger4 = Running Throw Attempt if opponents runs.

[State -1, GFest]
type = ChangeState
value = 2000
triggerall = p2stateno != 5040
triggerall = var(24) && statetype != A
triggerall = p2stateno != 40
triggerall = random <= 100
triggerall = p2dist x >= 0 
triggerall = ctrl || stateno = 100 || stateno = 101 || stateno = 102 || prevstateno = 110
trigger1 = p2bodydist x <= 30 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201
trigger2 = stateno = 235 && animelemtime(6) >=0 && animelemtime(7) < 0 && movehit && p2statetype !=A && random <= 100
trigger3 = stateno = 320 && animelemtime(5) >=0 && animelemtime(6) < 0 && movehit
trigger4 = p2bodydist x <= 50 && p2statetype != A && p2statetype != L && statetype != A && p2stateno = 100 && stateno = 100 && random <= 400
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Mayhem (A)

[State -1, GFest]
type = ChangeState
value = 1400
triggerall = p2stateno != 5040
triggerall = p2stateno != 5120
triggerall = p2stateno != 40
triggerall = p2statetype != A
triggerall = random <= 140
triggerall = var(24) && var(18) <= 0 && statetype != A
trigger1 = p2bodydist x <= 60 && p2statetype != A && p2statetype != L && statetype != A && p2stateno != 5201
trigger1 = ctrl || stateno = 100  || stateno = 102
trigger1 = p2bodydist x >= 30
trigger2 = p2bodydist x <= 90 && stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movehit && random <= 400
trigger3 = p2bodydist x <= 90 && stateno = 300 && animelemtime(2) >=0 && animelemtime(3) < 0 && movehit

;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Mithan's Robe

[State -1,MRobe]
type = VarSet
triggerall = var(24)
triggerall = movehit
trigger1 = p2dist x > 0
trigger1 =1 
v = 17
value = 1
;----------------------------------------------------------------------------------------------------------------------------

;============================================================================================================================
; AI - Basic Attacks
;============================================================================================================================
;----------------------------------------------------------------------------------------------------------------------------
; Standing Weak Punch
; Trigger1 = Try as an anti-air move.
; Trigger2 = Try as a regular poke.
[State -1, RollF]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A
triggerall = random < 710
triggerall = stateno = 100 || stateno = 101 || stateno = 102
trigger1 = enemy,numproj >= 1 && inguarddist
trigger1 = p2dist x > 71

[State -1, DLake Drive]
type = ChangeState
value = 130
triggerall = var(24) && statetype != A 
triggerall = RoundState = 2
triggerall = random < 110
trigger1 = ctrl || stateno = 100 || stateno = 101 || stateno = 102 
trigger1 = p2statetype = A
trigger1 = p2movetype = A && inguarddist
trigger1 = P2BodyDist X = [0,135]

[State -1, RollF]
type = ChangeState
value = 40
triggerall = var(24) && statetype != A && p2movetype = A
triggerall = random < 710
triggerall = stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2bodydist x = [-40,100]
trigger1 = (Enemy, HitDefAttr = SAC, AT)

[State -1, RollF]
type = ChangeState
value = 110
triggerall = var(24) && statetype != A
triggerall = stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2bodydist x <= 110 && random <= 2
trigger2 = stateno = 100 && p2bodydist x <= 100 && random <= 2
trigger3 = enemy,numproj >= 1
trigger3 = p2dist x > 65
trigger4 = enemy,numhelper >= 1
trigger4 = stateno != [150,159]
trigger4 = p2dist x > 80
trigger4 = p2movetype != A
trigger4 = random < 15
trigger4 = p2statetype = S
trigger4 = p2stateno >= 1000
trigger4 = p2movetype != H

[State -3]
Type = ChangeState
Value = 120
TriggerAll = var(24)
triggerall = RoundState = 2
triggerall = random < 600
triggerall = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 52
Trigger1 = p2movetype = A && inguarddist

[State -3]
Type = ChangeState
Value = 120
TriggerAll = var(24)
triggerall = RoundState = 2
triggerall = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 52
Trigger1 = P2Dist X = [-20,200]
Trigger1 = enemy,numproj >= 1; && inguarddist
Trigger1 = P2Dist X > 65

[State -3]
Type = ChangeState
Value = 120
TriggerAll = var(24)
triggerall = RoundState = 2
triggerall = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 52
Trigger1 = enemy,numhelper >= 1
Trigger1 = P2Dist X > 65
Trigger1 = random < 40

[State -3]
Type = ChangeState
Value = 120
TriggerAll = var(24)
triggerall = RoundState = 2
triggerall = p2movetype = A
triggerall = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 52
Trigger1 = enemy,numhelper >= 1 && inguarddist
Trigger1 = P2Dist X > 65

[State -3]
Type = ChangeState
Value = 130
TriggerAll = var(24)
triggerall = RoundState = 2
Triggerall = enemy,numproj >= 1
Trigger1 = prevstateno = 110 && ctrl
Trigger2 = stateno = 110 && animtime = 0

[State -3]
Type = ChangeState
Value = 130
TriggerAll = var(24)
triggerall = RoundState = 2
triggerall = random < 45
Triggerall = enemy,numhelper >= 1 && inguarddist
Trigger1 = prevstateno = 110 && ctrl
Trigger2 = stateno = 110 && animtime = 0

[State -1, SWP]
type = ChangeState
value = 200
triggerall = p2bodydist x >= 0
triggerall = p2stateno != 5040
triggerall = p2movetype != H
triggerall = p2movetype != A
triggerall = random <= 50
triggerall = var(24) && statetype = S && ctrl
trigger1 = (p2bodydist x = [10,45]) && (p2bodydist y >= -40) && random <= 200 && p2statetype = A && p2movetype != H ; Anti-air
trigger2 = (p2bodydist x = [25,45]) && (p2stateno = 100 || p2stateno = 20) && random <= 200
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Standing Weak Kick
; Trigger1 = try it as a regular poke.

[State -1, SWK]
type = ChangeState
value = 210
triggerall = p2movetype != H
triggerall = random <= 50
triggerall = p2bodydist x >= 0
triggerall = p2movetype != A
triggerall = p2stateno != 5040
triggerall = var(24) && statetype = S && ctrl
trigger1 = (p2bodydist x = [50,90]) && p2statetype != A && p2movetype != H && p2statetype !=L && random <= 200
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Standing Strong Punch / Kick (far)
; Trigger1 = Try it against crouching attacks
; Trigger2 = Try it as a regular poke
; Trigger3 = Try it for the free "Counter !" juggle

[State -1, SSA]
type = ChangeState
value = ifelse(random <= 500, 220, 230)
triggerall = p2bodydist x >= 0
triggerall = p2movetype != A
triggerall = p2stateno != 5040
triggerall = p2movetype != H
triggerall = random <= 50
triggerall = var(24) && (p2bodydist x = [25,60])
triggerall = statetype = S && ctrl
trigger1 = random <= 200 && p2statetype = C && p2movetype != A
trigger2 = random <= 100 && p2statetype = S && p2movetype != H && p2movetype != A
trigger3 = p2bodydist x < 50 && p2bodydist y > -75 && p2movetype = H && var(9) > 0
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Standing Strong Punch / Kick (close)
; Trigger1 = Try it against crouching attacks
; Trigger2 = Try it as a regular poke
; Trigger3 = Try it for the free "Counter !" juggle

[State -1, SSA2]
type = ChangeState
value = 225
triggerall = p2statetype != C
triggerall = p2statetype != L
triggerall = p2stateno != 5040 &&  p2stateno != 5120
triggerall = var(24) && statetype = S
triggerall = p2movetype != A
triggerall = p2movetype != H
triggerall = p2bodydist x >= 0
triggerall = stateno = 102 || ctrl  
trigger1 = (p2bodydist x <= 25) && random <= 100 && p2statetype != L && p2statetype != A
trigger2 = p2bodydist x <= 35 && random <= 100

[State -1, SSA2]
type = ChangeState
value = 235
triggerall = p2statetype = C
triggerall = p2bodydist x >= 0
triggerall = p2movetype != H
triggerall = p2movetype != A
triggerall = p2stateno != 5040 &&  p2stateno != 5120
triggerall = var(24) && statetype = S
triggerall = stateno = 101 || stateno = 100 || stateno = 102 || ctrl  
trigger1 = (p2bodydist x <= 25) && random <= 100 && p2statetype != L && p2statetype != A && ctrl
trigger2 = p2bodydist x <= 25 && random <= 100
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Crouching light punch
; Trigger1 = Try it as a regular poke
; Trigger2 = Perform it if Crouching Light Kick (close) hits successfully

[State -1, CLP]
type = ChangeState
value = 300
triggerall = p2bodydist x >= 0
triggerall = p2movetype != A
triggerall = p2stateno != 5040 && p2stateno != 5120
triggerall = var(24) && statetype != A && (p2stateno != [5201,5210])
trigger1 = (p2bodydist x <= 35) && p2statetype != A && p2movetype != H && random <= 100 && ctrl
trigger2 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact && random <= 300
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Crouching Light Kick
; Trigger1 = Try it as a regular poke
[State -1, CLK]
type = ChangeState
value = 310
triggerall = p2bodydist x >= 0
triggerall = p2movetype != A
triggerall = p2stateno != 5040
triggerall = p2stateno != 5120
triggerall = p2stateno != 40
triggerall = p2statetype != L
triggerall = var(24) && statetype != A && ctrl && p2movetype != H && stateno != 430
trigger1 = stateno = 310 && animelemtime(4) >=2 && animelemtime(5) < 3 && movecontact ;&& random <= 300
trigger2 = p2statetype = S && random <= 100 && p2bodydist x <= 60
trigger2 = stateno = 101 || stateno = 100 || stateno = 102 || ctrl  
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Crouching Strong Punch
; Trigger1 = Try it as a regular poke.
; Trigger2 = Try it as an anti-air move
; Trigger3 = Try it against running opponents

[State -1, CSP]
type = ChangeState
value = 320
triggerall = p2bodydist x >= 0
triggerall = p2stateno != 5040
triggerall = p2movetype != A
triggerall = var(24) && (p2bodydist x <= 60)
triggerall = statetype != A && ctrl && p2movetype != A
trigger1 = p2statetype != A && p2statetype != L && random <= 100
trigger2 = (p2stateno = 100 || p2stateno = 20) && random <= 200
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Crouching Strong Kick
; Trigger1 = Try it if opponent is close enough.
; Trigger2 = Try it if opponent is close enough AND runs.

[State -1, CSK]
type = ChangeState
value = 330
triggerall = p2bodydist x >= 0
triggerall = p2stateno != 5040
triggerall = p2movetype != A
triggerall = p2stateno != 5120
triggerall = p2stateno != 40
triggerall = p2statetype != L
triggerall = var(24) && statetype != A && ctrl
trigger1 = (p2bodydist x = [40,60]) && random <= 200 && p2statetype != A && p2movetype != H && random <= 200
trigger2 = (p2bodydist x = [40,70]) && (p2stateno = 100 || p2stateno = 20) && random <= 300
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Jumping Strong Punch
; Trigger1 = Try it as a regular poke against ground opponents.
; Trigger2 = Try it against jumping opponents

[State -1, JSP]
type = ChangeState
value = 420
triggerall = p2stateno != 5040
triggerall = p2stateno != 5120
triggerall = p2stateno != 40
triggerall = p2statetype != L
triggerall = p2bodydist x >= 0
triggerall = var(24) && statetype = A && ctrl
trigger1 = vel y > 0 && p2statetype != A && (p2bodydist x <= 30) && random <= 300
trigger2 = p2bodydist x <= 40 && (p2bodydist y = [-15,15]) && random <= 100
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Jumping Strong Kick
; Trigger1 = Try it as a poke against ground opponents.
; Trigger2 = Try it against jumping opponents

[State -1, JSK]
type = ChangeState
value = 430
triggerall = p2bodydist x >= 0
triggerall = p2stateno != 5040
triggerall = var(24) && random <= 400 && vel x != 0 && p2movetype !=H
triggerall = statetype = A && ctrl
trigger1 = p2statetype = S && vel y > -1 && (p2bodydist x <= 65) && (p2bodydist y <= 35)
trigger2 = p2statetype = A && (p2bodydist y = [-70,70]) && (p2bodydist x <= 85) && p2movetype !=H
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Jumping CD
; Trigger1 = Try it against ground opponents
; Trigger2 = Try it against crouching opponents
; Trigger3 = Try it against jumping opponents

[State -1, JCD]
type = ChangeState
value = 420
triggerall = p2bodydist x >= 0
triggerall = p2stateno != 5040
triggerall = var(24) & random <= 80
triggerall = statetype = A && ctrl && p2movetype !=H
trigger1 = p2statetype = S && (p2bodydist x <= 60)
trigger1 = p2bodydist y < 30
trigger2 = p2statetype = C && vel y >= 0 && (p2bodydist x <= 30) && (p2bodydist y <= 40)
trigger3 = p2statetype = A && p2bodydist x <= 65 && (p2bodydist y >= 0) && p2movetype !=H

[State -1, JCD]
type = ChangeState
value = 520
triggerall = p2bodydist x >= 0
triggerall = p2stateno != 5040
triggerall = var(24) & random <= 80
triggerall = statetype = A && ctrl
trigger1 = p2statetype = S && (p2bodydist x <= 80) && vel y > 0 
trigger2 = p2statetype = C && vel y > -1 && (p2bodydist x <= 30) && (p2bodydist y <= 30)
trigger3 = p2statetype = A && p2bodydist x <= 100 && (p2bodydist y > 0) && p2movetype !=H

[State -1, JCD]
type = ChangeState
value = 520
triggerall = p2bodydist x >= 0
triggerall = p2stateno != 5040
triggerall = var(24) && random <= 80
triggerall = statetype = A && ctrl
trigger1 = p2statetype = S && (p2bodydist x <= 80) && vel y > 0 
trigger2 = p2statetype = C && vel y > -1 && (p2bodydist x <= 30) && (p2bodydist y <= 30)
trigger3 = p2statetype = A && p2bodydist x <= 100 && (p2bodydist y > 0)
;----------------------------------------------------------------------------------------------------------------------------
;============================================================================================================================
; AI - Misc.
;============================================================================================================================
;----------------------------------------------------------------------------------------------------------------------------
; Recover from fall.

[State -1, Recovery]
type = ChangeState 
value = 5201 
triggerall = var(24) && CanRecover
triggerall = random <= 8
trigger1 = Vel Y > 0 && Pos Y >= 0 && alive && (stateno = [5050,5060])

[State -1, Recovery]
type = ChangeState 
value = 5201 
triggerall = var(24) && CanRecover
TriggerAll = Backedgebodydist > 105
triggerall = random <= 105
trigger1 = Vel Y > 0 && Pos Y >= 0 && alive && (stateno = [5050,5060])
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Run.
; Trigger1 = Run until opponent attacks (stops at a distance)
; Trigger2 = Run if opponent doesn't attack (stops closer)
; Trigger3 = Run to try a free "Counter!" juggle attempt

[State -1,Run]
type = ChangeState
value = 100
triggerall = p2statetype != L
triggerall = p2stateno < 5000
triggerall = p2bodydist x >= 0
triggerall = var(24) && roundstate = 2 
triggerall = statetype = S && ctrl && stateno != 100 && stateno != 101 && stateno != 102
triggerall = p2bodydist x > 40
triggerall = enemy,numproj < 1
trigger1 = p2bodydist x > 80 && p2movetype != A && random <= 100
trigger2 = p2bodydist x < 50 && p2movetype != A && random <= 100
trigger3 = p2bodydist x < 80 && p2movetype = H && p2statetype = A && var(10) > 0
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Taunt.
; Trigger1 = Taunt opponent if Vice is at good distance and has life advantage.

;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Roll Forward.


;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Roll Backward.
; Trigger1 = Try if Vice is cornered and opponents attacks.
; Not really a good idea if the attack performed by the opponent is a throw. 
; That's why I also make her dash backwards (see below).

[State -1,RollB]
type = ChangeState
value = 115
triggerall = var(24) && statetype != A && ctrl
trigger1 = p2bodydist x <= 40 && p2statetype = A && backedgebodydist > 100 && random <= 40
trigger1 = p2movetype = A
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Jump.
; Trigger1 = Short Jump Forward
; Trigger2 = Short Jump Neutral
; Trigger3 = Short Jump Backwards (defense)
; Trigger4 = Long Jump Forward

[State -1, JUMP]
type = ChangeState
value = 40
triggerall = p2stateno = 40 && p2life != 0
triggerall = p2movetype != A
triggerall = ctrl || stateno = 101
triggerall = random < 200
triggerall = stateno != 40
triggerall = statetype != A && var(24) && p2movetype != H
trigger1 = (p2bodydist x = [80,100]) && p2statetype != A && random <= 300
trigger2 = p2bodydist x <= 30 && p2stateno = 5120 && random <= 500
trigger3 = p2bodydist x <= 75 && p2bodydist y >= -80 && p2statetype = A && random <= 200
trigger4 = (p2bodydist x = [101,130]) && p2statetype != L && p2movetype != H && random <= 100

[State -1, JUMP]
type = ChangeState
value = 40
triggerall = stateno != 40 && p2life != 0
triggerall = ctrl || stateno = 101 || stateno = 102 || stateno = 100
triggerall = statetype != A && var(24) && p2movetype != H
trigger1 = (p2bodydist x = [80,100]) && p2statetype != A && random <= 24
trigger1 = p2movetype != A
trigger2 = p2bodydist x <= 30 && p2stateno = 5120 && random <= 24
trigger3 = p2bodydist x <= 75 && p2bodydist y >= -80 && p2statetype = A && random <= 24
trigger3 = p2movetype != A
trigger4 = (p2bodydist x = [101,120]) && p2statetype != L && p2movetype != H && random <= 24
trigger4 = p2movetype != A
trigger5 = (p2bodydist x = [90,120]) && p2statetype = C && random <= 40
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Dash Back.
; Trigger1 = Try if Vice is cornered and opponents attacks.
; Not really a good idea if the attack performed by the opponent is not a throw.
; That's why I also make him roll backwards (see above).
;
; Trigger2 = Opponent wakes up (avoids throws & other Shoryuken-like moves).

[State -1, Dash]
type = ChangeState
value = 40
triggerall = var(24) && statetype !=A && ctrl
trigger1 = p2bodydist x <= 60 && p2statetype = L && backedgebodydist <= 90 && random <= 100

[State -1, Dash]
type = ChangeState
value = 105
triggerall = var(24) && statetype !=A
triggerall = ctrl || stateno = 100 || stateno = 101 || stateno = 102
trigger1 = p2bodydist x <= 60 && p2statetype = L && backedgebodydist > 90 && random <= 100
trigger2 = p2bodydist x <= 60 && p2stateno = 5120 && random <= 500 && backedgebodydist > 90
;----------------------------------------------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------
; Guard Cancel Attack (CD Counter)
; Trigger1, Trigger2 = Perform while guarding (only if opponent is close enough)

[State -1,GCA]
type = ChangeState
value = 700
triggerall = var(24) && p2bodydist x <= 70
triggerall = p2statetype != A
triggerall = life < 70
triggerall = power >= 1000 && life > 0 && statetype != A && random <= 700
trigger1 = stateno = 150 
trigger2 = stateno = 152

[State -1,GCA]
type = ChangeState
value = 700
triggerall = var(24) && p2bodydist x <= 70
triggerall = p2statetype != A
triggerall = life < 500
triggerall = power >= 1000 && life > 0 && statetype != A && random <= 100
trigger1 = stateno = 150 
trigger2 = stateno = 152

[State -1,GCA]
type = ChangeState
value = 700
triggerall = var(24) && p2bodydist x <= 70
triggerall = p2statetype != A
triggerall = power >= 1000 && life > 0 && statetype != A && random <= 30
trigger1 = stateno = 150 
trigger2 = stateno = 152

[State -3]
Type = ChangeState
Value = 130
TriggerAll = var(24)
triggerall = RoundState = 2
triggerall = statetype != A
Triggerall = enemy,numproj >= 1 && p2dist x > 60; && inguarddist
Trigger1 = stateno = 110 && animtime = 0
Trigger2 = prevstateno = 110 && ctrl

[State -3]
Type = ChangeState
Value = 130
TriggerAll = var(24)
triggerall = RoundState = 2
triggerall = statetype != A
Triggerall = enemy,numhelper >= 1 && p2dist x > 60
Trigger1 = stateno = 110 && animtime = 0
Trigger2 = prevstateno = 110 && ctrl

[State -3]
Type = ChangeState
Value = 110
TriggerAll = var(59) = 1
triggerall = RoundState = 2
triggerall = random < 5
triggerall = statetype != A
triggerall = ctrl || stateno = 20 || stateno = 21 || stateno = 22 || stateno = 101
Trigger1 = enemy,numhelper >= 1 && inguarddist
